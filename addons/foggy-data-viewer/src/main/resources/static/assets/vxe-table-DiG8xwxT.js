import{h as x,r as Br,c as ke,i as Qo,p as Xr,a as ir,d as bm,w as It,b as Xe,o as Il,e as Pn,n as se,T as Nd,f as Ja,g as xm,j as Cm,k as wm,l as ym}from"./vue-CqFlaVOU.js";const Em="4.2.19",Al={coreVersion:Em,uiVersion:"",tableVersion:"",designVersion:"",ganttVersion:""};var wL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sm={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1},On=Sm;function Om(e,t,r){if(e)if(e.forEach)e.forEach(t,r);else for(var n=0,c=e.length;n<c;n++)t.call(r,e[n],n,e)}var wr=Om,Dm=Object.prototype.toString,Og=Dm,Fm=Og;function $m(e){return function(t){return"[object "+e+"]"===Fm.call(t)}}var aa=$m,Tm=aa,Mm=Array.isArray||Tm("Array"),Co=Mm;function Im(e,t){return e&&e.hasOwnProperty?e.hasOwnProperty(t):!1}var nn=Im,Am=nn;function km(e,t,r){if(e)for(var n in e)Am(e,n)&&t.call(r,e[n],n,e)}var ia=km,Lm=Co,Hm=wr,Pm=ia;function _m(e,t,r){return e&&(Lm(e)?Hm:Pm)(e,t,r)}var or=_m;function Bm(e){return function(t){return typeof t===e}}var Rs=Bm,Nm=Rs,Vm=Nm("function"),$r=Vm,Gm=or;function zm(e,t){var r=Object[e];return function(n){var c=[];if(n){if(r)return r(n);Gm(n,t>1?function(u){c.push([""+u,n[u]])}:function(){c.push(arguments[t])})}return c}}var Hc=zm,Wm=Hc,jm=Wm("keys",1),_n=jm,qm=Og,Um=ia,Xm=wr;function Ui(e,t){var r=e.__proto__.constructor;return t?new r(t):new r}function Da(e,t){return t?Dg(e,t):e}function Dg(e,t){if(e)switch(qm.call(e)){case"[object Object]":{var r=Object.create(Object.getPrototypeOf(e));return Um(e,function(h,y){r[y]=Da(h,t)}),r}case"[object Date]":case"[object RegExp]":return Ui(e,e.valueOf());case"[object Array]":case"[object Arguments]":{var n=[];return Xm(e,function(h){n.push(Da(h,t))}),n}case"[object Set]":{var c=Ui(e);return c.forEach(function(h){c.add(Da(h,t))}),c}case"[object Map]":{var u=Ui(e);return u.forEach(function(h,y){u.set(y,Da(h,t))}),u}}return e}function Ym(e,t){return e&&Dg(e,t)}var Pc=Ym,Km=wr,Zm=_n,Qm=Co,Jm=Pc,Vd=Object.assign;function Gd(e,t,r){for(var n=t.length,c,u=1;u<n;u++)c=t[u],Km(Zm(t[u]),r?function(h){e[h]=Jm(c[h],r)}:function(h){e[h]=c[h]});return e}var eb=function(e){if(e){var t=arguments;if(e===!0){if(t.length>1)return e=Qm(e[1])?[]:{},Gd(e,t,!0)}else return Vd?Vd.apply(Object,t):Gd(e,t)}return e},Vr=eb,Fg=On,tb=wr,ob=or,rb=$r,nb=Vr,En=function(){};function lb(){tb(arguments,function(e){ob(e,function(t,r){En[r]=rb(t)?function(){var n=t.apply(En.$context,arguments);return En.$context=null,n}:t})})}function $g(e){return nb(Fg,e)}function sb(){return Fg}var Tg="3.8.2";En.VERSION=Tg;En.version=Tg;En.mixin=lb;En.setup=$g;En.setConfig=$g;En.getConfig=sb;var ab=En;function ib(e,t,r){for(var n=e.length-1;n>=0;n--)t.call(r,e[n],n,e)}var _c=ib,cb=_c,db=_n;function ub(e,t,r){cb(db(e),function(n){t.call(r,e[n],n,e)})}var Mg=ub;function fb(e){return e===null}var Bn=fb,gb=Bn;function pb(e,t){return function(r){return gb(r)?t:r[e]}}var Ss=pb,hb=or,vb=$r,mb=Ss;function bb(e,t,r){var n={};if(e)if(t)vb(t)||(t=mb(t)),hb(e,function(c,u){n[u]=t.call(r,c,u,e)});else return e;return n}var xb=bb;function Cb(e){return e?e.constructor===Object:!1}var Os=Cb;function wb(e){return e!=="__proto__"&&e!=="constructor"}var Ig=wb,zd=Co,Wd=Os,yb=$r,Eb=or,Rb=Ig;function Ag(e,t){return Wd(e)&&Wd(t)||zd(e)&&zd(t)?(Eb(t,function(r,n){Rb(n)&&(e[n]=yb(t)?r:Ag(e[n],r))}),e):t}var Sb=function(e){e||(e={});for(var t=arguments,r=t.length,n,c=1;c<r;c++)n=t[c],n&&Ag(e,n);return e},Ob=Sb,Db=or;function Fb(e,t,r){var n=[];if(e&&arguments.length>1){if(e.map)return e.map(t,r);Db(e,function(){n.push(t.apply(r,arguments))})}return n}var kl=Fb,$b=nn,Tb=Co;function Mb(e,t,r,n,c){return function(u,h,y){if(u&&h){if(e&&u[e])return u[e](h,y);if(t&&Tb(u)){for(var w=0,H=u.length;w<H;w++)if(!!h.call(y,u[w],w,u)===n)return[!0,!1,w,u[w]][r]}else for(var S in u)if($b(u,S)&&!!h.call(y,u[S],S,u)===n)return[!0,!1,S,u[S]][r]}return c}}var ci=Mb,Ib=ci,Ab=Ib("some",1,0,!0,!1),kg=Ab,kb=ci,Lb=kb("every",1,1,!1,!0),Lg=Lb,Hb=nn;function Pb(e,t){if(e){if(e.includes)return e.includes(t);for(var r in e)if(Hb(e,r)&&t===e[r])return!0}return!1}var Ds=Pb,jd=Co,qd=Ds;function _b(e,t){var r,n=0;if(jd(e)&&jd(t)){for(r=t.length;n<r;n++)if(!qd(e,t[n]))return!1;return!0}return qd(e,t)}var Hg=_b,Ud=or,Bb=Ds,Nb=$r,Vb=Ss;function Gb(e,t,r){var n=[];if(t){Nb(t)||(t=Vb(t));var c,u={};Ud(e,function(h,y){c=t.call(r,h,y,e),u[c]||(u[c]=1,n.push(h))})}else Ud(e,function(h){Bb(n,h)||n.push(h)});return n}var Pg=Gb,zb=kl;function Wb(e){return zb(e,function(t){return t})}var Bc=Wb,jb=Pg,qb=Bc;function Ub(){for(var e=arguments,t=[],r=0,n=e.length;r<n;r++)t=t.concat(qb(e[r]));return jb(t)}var Xb=Ub,Yb="undefined",ln=Yb,Kb=ln,Zb=Rs,Qb=Zb(Kb),Dn=Qb,Jb=Bn,ex=Dn;function tx(e){return Jb(e)||ex(e)}var Nn=tx,ox=/(.+)?\[(\d+)\]$/,_g=ox;function rx(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}var Nc=rx,nx=_g,lx=Nc,sx=nn,ax=Dn,Bg=Nn;function ix(e,t,r){if(Bg(e))return r;var n=dx(e,t);return ax(n)?r:n}function cx(e,t){var r=t?t.match(nx):"";return r?r[1]?e[r[1]]?e[r[1]][r[2]]:void 0:e[r[2]]:e[t]}function dx(e,t){if(e){var r,n,c,u=0;if(e[t]||sx(e,t))return e[t];if(n=lx(t),c=n.length,c){for(r=e;u<c;u++)if(r=cx(r,n[u]),Bg(r))return u===c-1?r:void 0}return r}}var ca=ix,Xd=wr,ux=Bc,Yd=kl,Kd=Co,fx=$r,gx=Os,Zd=Dn,px=Bn,hx=Nn,vx=ca,mx=Ss,bx="asc",xx="desc";function Oc(e,t){return Zd(e)?1:px(e)?Zd(t)?-1:1:e&&e.localeCompare?e.localeCompare(t):e>t?1:-1}function Cx(e,t,r){return function(n,c){var u=n[e],h=c[e];return u===h?r?r(n,c):0:t.order===xx?Oc(h,u):Oc(u,h)}}function wx(e,t,r,n){var c=[];return r=Kd(r)?r:[r],Xd(r,function(u,h){if(u){var y=u,w;Kd(u)?(y=u[0],w=u[1]):gx(u)&&(y=u.field,w=u.order),c.push({field:y,order:w||bx}),Xd(t,fx(y)?function(H,S){H[h]=y.call(n,H.data,S,e)}:function(H){H[h]=y?vx(H.data,y):H.data})}}),c}function yx(e,t,r){if(e){if(hx(t))return ux(e).sort(Oc);for(var n,c=Yd(e,function(y){return{data:y}}),u=wx(e,c,t,r),h=u.length-1;h>=0;)n=Cx(h,u[h],n),h--;return n&&(c=c.sort(n)),Yd(c,mx("data"))}return[]}var Vc=yx,Ex=Vc,Rx=Ex,Sx=Rx;function Ox(e,t){return e>=t?e:(e=e>>0)+Math.round(Math.random()*((t||9)-e))}var Ng=Ox,Dx=Hc,Fx=Dx("values",0),Fs=Fx,$x=Ng,Tx=Fs;function Mx(e){for(var t,r=[],n=Tx(e),c=n.length-1;c>=0;c--)t=c>0?$x(0,c):0,r.push(n[t]),n.splice(t,1);return r}var Vg=Mx,Ix=Vg;function Ax(e,t){var r=Ix(e);return arguments.length<=1?r[0]:(t<r.length&&(r.length=t||0),r)}var kx=Ax;function Lx(e){return function(t){if(t){var r=e(t&&t.replace?t.replace(/,/g,""):t);if(!isNaN(r))return r}return 0}}var Gg=Lx,Hx=Gg,Px=Hx(parseFloat),Ll=Px,Qd=Ll;function _x(e,t,r){var n=[],c=arguments.length;if(e){if(t=c>=2?Qd(t):0,r=c>=3?Qd(r):e.length,e.slice)return e.slice(t,r);for(;t<r;t++)n.push(e[t])}return n}var Hl=_x,Bx=or;function Nx(e,t,r){var n=[];if(e&&t){if(e.filter)return e.filter(t,r);Bx(e,function(c,u){t.call(r,c,u,e)&&n.push(c)})}return n}var Vx=Nx,Gx=ci,zx=Gx("",0,2,!0),Wx=zx,jx=ci,qx=jx("find",1,3,!0),Ux=qx,Xx=Co,Yx=Fs;function Kx(e,t,r){if(e){Xx(e)||(e=Yx(e));for(var n=e.length-1;n>=0;n--)if(t.call(r,e[n],n,e))return e[n]}}var Zx=Kx,Qx=_n;function Jx(e,t,r){if(e){var n,c,u=0,h=null,y=r,w=arguments.length>2,H=Qx(e);if(e.length&&e.reduce)return c=function(){return t.apply(h,arguments)},w?e.reduce(c,y):e.reduce(c);for(w&&(u=1,y=e[H[0]]),n=H.length;u<n;u++)y=t.call(h,y,e[H[u]],u,e);return y}}var eC=Jx,tC=Co;function oC(e,t,r,n){if(tC(e)&&e.copyWithin)return e.copyWithin(t,r,n);var c,u,h=t>>0,y=r>>0,w=e.length,H=arguments.length>3?n>>0:w;if(h<w&&(h=h>=0?h:w+h,h>=0&&(y=y>=0?y:w+y,H=H>=0?H:w+H,y<H)))for(c=0,u=e.slice(y,H);h<w&&!(u.length<=c);h++)e[h]=u[c++];return e}var rC=oC,nC=Co;function lC(e,t){var r,n=[],c=t>>0||1;if(nC(e))if(c>=0&&e.length>c)for(r=0;r<e.length;)n.push(e.slice(r,r+c)),r+=c;else n=e.length?[e]:e;return n}var sC=lC,aC=kl,iC=Ss;function cC(e,t){return aC(e,iC(t))}var zg=cC,dC=$r,Jd=Nn,uC=ca,fC=wr;function gC(e){return function(t,r){if(t&&t.length){var n,c;return fC(t,function(u,h){r&&(u=dC(r)?r(u,h,t):uC(u,r)),!Jd(u)&&(Jd(n)||e(n,u))&&(c=h,n=u)}),t[c]}return n}}var Wg=gC,pC=Wg,hC=pC(function(e,t){return e<t}),jg=hC,vC=zg,mC=jg;function bC(e){var t,r,n,c=[];if(e&&e.length)for(t=0,r=mC(e,function(u){return u?u.length:0}),n=r?r.length:0;t<n;t++)c.push(vC(e,t));return c}var qg=bC,xC=qg;function CC(){return xC(arguments)}var wC=CC,yC=Fs,EC=or;function RC(e,t){var r={};return t=t||[],EC(yC(e),function(n,c){r[n]=t[c]}),r}var SC=RC,Ug=Co,OC=wr;function Xg(e,t){var r=[];return OC(e,function(n){r=r.concat(Ug(n)?t?Xg(n,t):n:[n])}),r}function DC(e,t){return Ug(e)?Xg(e,t):[]}var FC=DC,$C=kl,TC=Co;function MC(e,t){for(var r=0,n=t.length;e&&r<n;)e=e[t[r++]];return n&&e?e:0}function IC(e,t){for(var r,n=arguments,c=[],u=[],h=2,y=n.length;h<y;h++)c.push(n[h]);if(TC(t)){for(y=t.length-1,h=0;h<y;h++)u.push(t[h]);t=t[y]}return $C(e,function(w){if(u.length&&(w=MC(w,u)),r=w[t]||t,r&&r.apply)return r.apply(w,c)})}var AC=IC;function kC(e,t){return(console[e]||console.log)(t)}var LC=kC;function HC(e,t){try{delete e[t]}catch{e[t]=void 0}}var Yg=HC,PC=Co,_C=_c,BC=Mg;function NC(e,t,r){return e&&(PC(e)?_C:BC)(e,t,r)}var Kg=NC,VC=Rs,GC=VC("object"),di=GC,zC=Yg,WC=Os,jC=di,qC=Co,UC=Bn,XC=Vr,YC=ia;function KC(e,t,r){if(e){var n,c=arguments.length>1&&(UC(t)||!jC(t)),u=c?r:t;if(WC(e))YC(e,c?function(h,y){e[y]=t}:function(h,y){zC(e,y)}),u&&XC(e,u);else if(qC(e)){if(c)for(n=e.length;n>0;)n--,e[n]=t;else e.length=0;u&&e.push.apply(e,u)}}return e}var Zg=KC,ZC=Yg,QC=$r,JC=Co,ew=or,tw=wr,ow=Kg,rw=Zg,nw=Nn;function lw(e){return function(t,r){return r===e}}function sw(e,t,r){if(e){if(!nw(t)){var n=[],c=[];return QC(t)||(t=lw(t)),ew(e,function(u,h,y){t.call(r,u,h,y)&&n.push(h)}),JC(e)?ow(n,function(u,h){c.push(e[u]),e.splice(u,1)}):(c={},tw(n,function(u){c[u]=e[u],ZC(e,u)})),c}return rw(e)}return e}var Qg=sw,aw=On,eu=LC,iw=Vc,cw=Pc,dw=Nn,Dc=or,uw=Qg,fw=Vr;function gw(e,t){Dc(e,function(r){r[t]&&!r[t].length&&uw(r,t)})}function pw(e,t){var r=fw({},aw.treeOptions,t),n=r.strict,c=r.key,u=r.parentKey,h=r.children,y=r.mapChildren,w=r.sortKey,H=r.reverse,S=r.data,F=[],j={},W={},Y,m,g;return w&&(e=iw(cw(e),w),H&&(e=e.reverse())),Dc(e,function(L){Y=L[c],W[Y]&&eu("warn","Duplicate primary key="+Y),W[Y]=!0}),Dc(e,function(L){Y=L[c],S?(m={},m[S]=L):m=L,g=L[u],j[Y]=j[Y]||[],m[c]=Y,m[u]=g,Y===g&&(g=null,eu("warn","Error infinite Loop. key="+Y+" parentKey="+Y)),j[g]=j[g]||[],j[g].push(m),m[h]=j[Y],y&&(m[y]=j[Y]),(!n||n&&dw(g))&&(W[g]||F.push(m))}),n&&gw(e,h),F}var hw=pw,vw=On,mw=wr,bw=Vr;function Jg(e,t,r,n){var c=n.key,u=n.parentKey,h=n.children,y=n.data,w=n.updated,H=n.clear;return mw(r,function(S){var F=S[h];y&&(S=S[y]),w!==!1&&(S[u]=t?t[c]:null),e.push(S),F&&F.length&&Jg(e,S,F,n),H&&delete S[h]}),e}function xw(e,t){return Jg([],null,e,bw({},vw.treeOptions,t))}var Cw=xw;function ww(e){return function(t,r,n,c){var u=n||{},h=u.children||"children";return e(null,t,r,c,[],[],h,u)}}var ui=ww,yw=ui;function ep(e,t,r,n,c,u,h,y){if(t){var w,H,S,F,j,W;for(H=0,S=t.length;H<S;H++){if(w=t[H],F=c.concat([""+H]),j=u.concat([w]),r.call(n,w,H,t,F,e,j))return{index:H,item:w,path:F,items:t,parent:e,nodes:j};if(h&&w&&(W=ep(w,w[h],r,n,F.concat([h]),j,h),W))return W}}}var Ew=yw(ep),Rw=Ew,Sw=ui,Ow=or;function tp(e,t,r,n,c,u,h,y){var w,H;Ow(t,function(S,F){w=c.concat([""+F]),H=u.concat([S]),r.call(n,S,F,t,w,e,H),S&&h&&(w.push(h),tp(S,S[h],r,n,w,H,h))})}var Dw=Sw(tp),op=Dw,Fw=ui,$w=kl;function rp(e,t,r,n,c,u,h,y){var w,H,S,F=y.mapChildren||h;return $w(t,function(j,W){return w=c.concat([""+W]),H=u.concat([j]),S=r.call(n,j,W,t,w,e,H),S&&j&&h&&j[h]&&(S[F]=rp(j,j[h],r,n,w,H,h,y)),S})}var Tw=Fw(rp),Mw=Tw,Iw=op;function Aw(e,t,r,n){var c=[];return e&&t&&Iw(e,function(u,h,y,w,H,S){t.call(n,u,h,y,w,H,S)&&c.push(u)},r),c}var kw=Aw,Lw=ui,Hw=wr,Pw=Vr;function np(e,t,r,n,c,u,h,y,w){var H,S,F,j,W,Y=[],m=w.original,g=w.data,L=w.mapChildren||y,te=w.isEvery;return Hw(r,function($,J){H=u.concat([""+J]),S=h.concat([$]),j=e&&!te||n.call(c,$,J,r,H,t,S),W=y&&$[y],j||W?(m?F=$:(F=Pw({},$),g&&(F[g]=$)),F[L]=np(j,$,$[y],n,c,H,S,y,w),(j||F[L].length)&&Y.push(F)):j&&Y.push(F)}),Y}var _w=Lw(function(e,t,r,n,c,u,h,y){return np(0,e,t,r,n,c,u,h,y)}),Bw=_w;function Nw(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(t===e[r])return r}var lp=Nw;function Vw(e,t){if(e.lastIndexOf)return e.lastIndexOf(t);for(var r=e.length-1;r>=0;r--)if(t===e[r])return r;return-1}var sp=Vw,Gw=Rs,zw=Gw("number"),Fn=zw,Ww=Fn;function jw(e){return Ww(e)&&isNaN(e)}var qw=jw,Uw=Rs,Xw=Uw("string"),Vn=Xw,Yw=aa,Kw=Yw("Date"),al=Kw,Zw=parseInt,il=Zw;function Qw(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}var Jw=Qw;function ey(e){return e.getTime()}var yr=ey,ei=il,tu=Jw,ty=yr,oy=Vn,ry=al;function da(e){return"(\\d{"+e+"})"}function ny(e){return e<10?e*100:e<100?e*10:e}function ou(e){return isNaN(e)?e:ei(e)}var Zl=da(2),fs=da("1,2"),ap=da("1,7"),ip=da("3,4"),cp=".{1}",Ns=cp+fs,dp="(([zZ])|([-+]\\d{2}:?\\d{2}))",ru=[ip,Ns,Ns,Ns,Ns,Ns,cp+ap,dp],Fc=[];for(var Xi=ru.length-1;Xi>=0;Xi--){for(var nu="",$l=0;$l<Xi+1;$l++)nu+=ru[$l];Fc.push(new RegExp("^"+nu+"$"))}function ly(e){for(var t,r={},n=0,c=Fc.length;n<c;n++)if(t=e.match(Fc[n]),t){r.y=t[1],r.M=t[2],r.d=t[3],r.H=t[4],r.m=t[5],r.s=t[6],r.S=t[7],r.Z=t[8];break}return r}var lu=[["yyyy",ip],["yy",Zl],["MM",Zl],["M",fs],["dd",Zl],["d",fs],["HH",Zl],["H",fs],["mm",Zl],["m",fs],["ss",Zl],["s",fs],["SSS",da(3)],["S",ap],["Z",dp]],up={},fp=["\\[([^\\]]+)\\]"];for(var $l=0;$l<lu.length;$l++){var Yi=lu[$l];up[Yi[0]]=Yi[1]+"?",fp.push(Yi[0])}var sy=new RegExp(fp.join("|"),"g"),su={};function ay(e,t){var r=su[t];if(!r){var n=[],c=t.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(sy,function(S,F){var j=S.charAt(0);return j==="["?F:(n.push(j),up[S])});r=su[t]={_i:n,_r:new RegExp(c)}}var u={},h=e.match(r._r);if(h){for(var y=r._i,w=1,H=h.length;w<H;w++)u[y[w-1]]=h[w];return u}return u}function iy(e){if(/^[zZ]/.test(e.Z))return new Date(tu(e));var t=e.Z.match(/([-+])(\d{2}):?(\d{2})/);return t?new Date(tu(e)-(t[1]==="-"?-1:1)*ei(t[2])*36e5+ei(t[3])*6e4):new Date("")}function cy(e,t){if(e){var r=ry(e);if(r||!t&&/^[0-9]{11,15}$/.test(e))return new Date(r?ty(e):ei(e));if(oy(e)){var n=t?ay(e,t):ly(e);if(n.y)return n.M&&(n.M=ou(n.M)-1),n.S&&(n.S=ny(ou(n.S.substring(0,3)))),n.Z?iy(n):new Date(n.y,n.M||0,n.d||1,n.H||0,n.m||0,n.s||0,n.S||0)}}return new Date("")}var cr=cy;function dy(){return new Date}var fi=dy,uy=al,fy=cr,gy=fi;function py(e){var t,r=e?fy(e):gy();return uy(r)?(t=r.getFullYear(),t%4===0&&(t%100!==0||t%400===0)):!1}var gp=py,hy=Co,vy=nn;function my(e,t,r){if(e){if(hy(e))for(var n=0,c=e.length;n<c&&t.call(r,e[n],n,e)!==!1;n++);else for(var u in e)if(vy(e,u)&&t.call(r,e[u],u,e)===!1)break}}var by=my,xy=Co,Cy=nn;function wy(e,t,r){if(e){var n,c;if(xy(e))for(n=e.length-1;n>=0&&t.call(r,e[n],n,e)!==!1;n--);else for(c=Cy(e),n=c.length-1;n>=0&&t.call(r,e[c[n]],c[n],e)!==!1;n--);}}var yy=wy,Ey=Co,Ry=Vn,Sy=nn;function Oy(e,t){return function(r,n){if(r){if(r[e])return r[e](n);if(Ry(r)||Ey(r))return t(r,n);for(var c in r)if(Sy(r,c)&&n===r[c])return c}return-1}}var pp=Oy,Dy=pp,Fy=lp,$y=Dy("indexOf",Fy),Ty=$y,My=pp,Iy=sp,Ay=My("lastIndexOf",Iy),hp=Ay,ky=Co,Ly=Vn,Hy=or;function Py(e){var t=0;return Ly(e)||ky(e)?e.length:(Hy(e,function(){t++}),t)}var vp=Py,_y=Fn;function By(e){return _y(e)&&isFinite(e)}var Ny=By,Vy=Co,Gy=Bn,zy=function(e){return!Gy(e)&&!isNaN(e)&&!Vy(e)&&e%1===0},mp=zy,Wy=Co,jy=mp,qy=Bn;function Uy(e){return!qy(e)&&!isNaN(e)&&!Wy(e)&&!jy(e)}var Xy=Uy,Yy=Rs,Ky=Yy("boolean"),bp=Ky,Zy=aa,Qy=Zy("RegExp"),Gc=Qy,Jy=aa,eE=Jy("Error"),xp=eE;function tE(e){return e?e.constructor===TypeError:!1}var oE=tE;function rE(e){for(var t in e)return!1;return!0}var Cp=rE,nE=ln,lE=typeof Symbol!==nE;function sE(e){return lE&&Symbol.isSymbol?Symbol.isSymbol(e):typeof e=="symbol"}var wp=sE,aE=aa,iE=aE("Arguments"),cE=iE,dE=Vn,uE=Fn;function fE(e){return!!(e&&dE(e.nodeName)&&uE(e.nodeType))}var gE=fE,pE=ln,hE=typeof document===pE?0:document,zc=hE,vE=zc;function mE(e){return!!(e&&vE&&e.nodeType===9)}var bE=mE,xE=ln,CE=typeof window===xE?0:window,yp=CE,wE=yp;function yE(e){return!!(wE&&(e&&e===e.window))}var EE=yE,RE=ln,SE=typeof FormData!==RE;function OE(e){return SE&&e instanceof FormData}var DE=OE,FE=ln,$E=typeof Map!==FE;function TE(e){return $E&&e instanceof Map}var ME=TE,IE=ln,AE=typeof WeakMap!==IE;function kE(e){return AE&&e instanceof WeakMap}var LE=kE,HE=ln,PE=typeof Set!==HE;function _E(e){return PE&&e instanceof Set}var BE=_E,NE=ln,VE=typeof WeakSet!==NE;function GE(e){return VE&&e instanceof WeakSet}var zE=GE,WE=$r,jE=Vn,qE=Co,UE=nn;function XE(e){return function(t,r,n){if(t&&WE(r)){if(qE(t)||jE(t))return e(t,r,n);for(var c in t)if(UE(t,c)&&r.call(n,t[c],c,t))return c}return-1}}var Ep=XE,YE=Ep,KE=YE(function(e,t,r){for(var n=0,c=e.length;n<c;n++)if(t.call(r,e[n],n,e))return n;return-1}),Wc=KE,au=Fn,iu=Co,cu=Vn,ZE=Gc,QE=al,JE=bp,eR=Dn,du=_n,tR=Lg;function Rp(e,t,r,n,c,u,h){if(e===t)return!0;if(e&&t&&!au(e)&&!au(t)&&!cu(e)&&!cu(t)){if(ZE(e))return r(""+e,""+t,c,u,h);if(QE(e)||JE(e))return r(+e,+t,c,u,h);var y,w,H,S=iu(e),F=iu(t);if(S||F?S&&F:e.constructor===t.constructor)return w=du(e),H=du(t),n&&(y=n(e,t,c)),w.length===H.length?eR(y)?tR(w,function(j,W){return j===H[W]&&Rp(e[j],t[H[W]],r,n,S||F?W:j,e,t)}):!!y:!1}return r(e,t,c,u,h)}var Sp=Rp;function oR(e,t){return e===t}var Op=oR,rR=Sp,nR=Op;function lR(e,t){return rR(e,t,nR)}var Dp=lR,uu=_n,sR=Wc,fu=Dp,aR=kg,iR=Hg;function cR(e,t){var r=uu(e),n=uu(t);if(n.length){if(iR(r,n))return aR(n,function(c){return sR(r,function(u){return u===c&&fu(e[u],t[c])})>-1})}else return!0;return fu(e,t)}var dR=cR,gu=Sp,pu=Op,uR=$r,fR=Dn;function gR(e,t,r){return uR(r)?gu(e,t,function(n,c,u,h,y){var w=r(n,c,u,h,y);return fR(w)?pu(n,c):!!w},r):gu(e,t,pu)}var pR=gR,hR=wp,vR=al,mR=Co,bR=Gc,xR=xp,CR=Bn;function wR(e){return CR(e)?"null":hR(e)?"symbol":vR(e)?"date":mR(e)?"array":bR(e)?"regexp":xR(e)?"error":typeof e}var yR=wR,ER=On,RR=Nn;function SR(e){return""+(RR(e)?"":e)+ER.keyId++}var OR=SR,DR=Ep,FR=DR(function(e,t,r){for(var n=e.length-1;n>=0;n--)if(t.call(r,e[n],n,e))return n;return-1}),$R=FR,TR=Os,MR=Vn;function IR(e){if(TR(e))return e;if(MR(e))try{return JSON.parse(e)}catch{}return{}}var AR=IR,kR=Nn;function LR(e){return kR(e)?"":JSON.stringify(e)}var HR=LR,PR=Hc,_R=PR("entries",2),BR=_R,NR=$r,VR=Co,GR=or,zR=Wc;function WR(e,t){return function(r,n){var c,u,h={},y=[],w=this,H=arguments,S=H.length;if(!NR(n)){for(u=1;u<S;u++)c=H[u],y.push.apply(y,VR(c)?c:[c]);n=0}return GR(r,function(F,j){((n?n.call(w,F,j,r):zR(y,function(W){return W===j})>-1)?e:t)&&(h[j]=F)}),h}}var Fp=WR,jR=Fp,qR=jR(1,0),UR=qR,XR=Fp,YR=XR(0,1),KR=YR,ZR=Fs;function QR(e){return ZR(e)[0]}var JR=QR,eS=Fs;function tS(e){var t=eS(e);return t[t.length-1]}var oS=tS,rS=_g,nS=Nc,Fa=nn;function lS(e,t){if(e){if(Fa(e,t))return!0;var r,n,c,u,h,y,w=nS(t),H=0,S=w.length;for(h=e;H<S&&(y=!1,r=w[H],u=r?r.match(rS):"",u?(n=u[1],c=u[2],n?h[n]&&Fa(h[n],c)&&(y=!0,h=h[n][c]):Fa(h,c)&&(y=!0,h=h[c])):Fa(h,r)&&(y=!0,h=h[r]),y);H++)if(H===S-1)return!0}return!1}var sS=lS,hu=il,aS=Nc,iS=Ig,cS=nn,vu=/(.+)?\[(\d+)\]$/;function dS(e,t,r,n,c){if(e[t])r&&(e[t]=c);else{var u,h,y=t?t.match(vu):null;if(r)h=c;else{var w=n?n.match(vu):null;w&&!w[1]?h=new Array(hu(w[2])+1):h={}}return y?y[1]?(u=hu(y[2]),e[y[1]]?r?e[y[1]][u]=h:e[y[1]][u]?h=e[y[1]][u]:e[y[1]][u]=h:(e[y[1]]=new Array(u+1),e[y[1]][u]=h)):e[y[2]]=h:e[t]=h,h}return e[t]}function uS(e,t,r){if(e&&iS(t)){if((e[t]||cS(e,t))&&!mu(t))e[t]=r;else for(var n=e,c=aS(t),u=c.length,h=0;h<u;h++)if(!mu(c[h])){var y=h===u-1;n=dS(n,c[h],y,y?null:c[h+1],r)}}return e}function mu(e){return e==="__proto__"||e==="constructor"||e==="prototype"}var fS=uS,gS=Cp,pS=di,hS=$r,vS=Ss,mS=or;function bS(e){return function(){return gS(e)}}function xS(e,t,r){var n,c={};return e&&(t&&pS(t)?t=bS(t):hS(t)||(t=vS(t)),mS(e,function(u,h){n=t?t.call(r,u,h,e):u,c[n]?c[n].push(u):c[n]=[u]})),c}var $p=xS,CS=$p,wS=ia;function yS(e,t,r){var n=CS(e,t,r||this);return wS(n,function(c,u){n[u]=c.length}),n}var ES=yS;function RS(e,t,r){var n,c,u=[],h=arguments;if(h.length<2&&(t=h[0],e=0),n=e>>0,c=t>>0,n<t)for(r=r>>0||1;n<c;n+=r)u.push(n);return u}var Tp=RS,bu=_n,SS=Hl,OS=Ds,DS=wr,FS=Vr;function $S(e,t){if(e&&t){var r=FS.apply(this,[{}].concat(SS(arguments,1))),n=bu(r);DS(bu(e),function(c){OS(n,c)&&(e[c]=r[c])})}return e}var TS=$S,MS=Wg,IS=MS(function(e,t){return e>t}),AS=IS;function kS(e){return(e.split(".")[1]||"").length}var gi=kS,LS=il;function HS(e,t){if(e.repeat)return e.repeat(t);var r=isNaN(t)?[]:new Array(LS(t));return r.join(e)+(r.length>0?e:"")}var ua=HS;function PS(e,t){return e.substring(0,t)+"."+e.substring(t,e.length)}var Mp=PS,$a=ua,Ki=Mp;function _S(e){var t=""+e,r=t.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(r){var n=e<0,c=n?"-":"",u=r[3]||"",h=r[5]||"",y=r[6]||"",w=r[7],H=r[8],S=H-y.length,F=H-u.length,j=H-h.length;return w==="+"?u?c+u+$a("0",H):S>0?c+h+y+$a("0",S):c+h+Ki(y,H):u?F>0?c+"0."+$a("0",Math.abs(F))+u:c+Ki(u,F):j>0?c+"0."+$a("0",Math.abs(j))+h+y:c+Ki(h,j)+y}return t}var cl=_S,xu=gi,Cu=cl;function BS(e,t){var r=Cu(e),n=Cu(t);return parseInt(r.replace(".",""))*parseInt(n.replace(".",""))/Math.pow(10,xu(r)+xu(n))}var Ip=BS,NS=Ip,wu=Ll,VS=cl;function GS(e){return function(t,r){var n=wu(t),c=n;if(n){r=r>>0;var u=VS(n),h=u.split("."),y=h[0],w=h[1]||"",H=w.substring(0,r+1),S=y+(H?"."+H:"");if(r>=w.length)return wu(S);if(S=n,r>0){var F=Math.pow(10,r);c=Math[e](NS(S,F))/F}else c=Math[e](S)}return c}}var jc=GS,zS=jc,WS=zS("round"),qc=WS,jS=jc,qS=jS("ceil"),Ap=qS,US=jc,XS=US("floor"),kp=XS,YS=Nn,KS=Fn,ZS=cl;function QS(e){return KS(e)?ZS(e):""+(YS(e)?"":e)}var Tr=QS,JS=qc,eO=Tr,tO=ua,oO=Mp;function rO(e,t){t=t>>0;var r=eO(JS(e,t)),n=r.split("."),c=n[0],u=n[1]||"",h=t-u.length;return t?h>0?c+"."+u+tO("0",h):c+oO(u,Math.abs(h)):c}var Uc=rO,nO=On,lO=qc,sO=Ap,aO=kp,iO=Fn,cO=Tr,dO=Uc,uO=cl,fO=Vr;function gO(e,t){var r=fO({},nO.commafyOptions,t),n=r.digits,c=iO(e),u,h,y,w,H;return c?(u=(r.ceil?sO:r.floor?aO:lO)(e,n),h=uO(n?dO(u,n):u).split("."),w=h[0],H=h[1],y=w&&u<0,y&&(w=w.substring(1,w.length))):(u=cO(e).replace(/,/g,""),h=u?[u]:[],w=h[0]),h.length?(y?"-":"")+w.replace(new RegExp("(?=(?!(\\b))(.{"+(r.spaceNumber||3)+"})+$)","g"),r.separator||",")+(H?"."+H:""):u}var pO=gO,hO=il,vO=Gg,mO=vO(hO),bO=mO,xO=Ip,yu=Ll;function CO(e,t){var r=yu(e),n=yu(t);return xO(r,n)}var Xc=CO,Eu=gi,Ru=cl,Su=Xc;function wO(e,t){var r=Ru(e),n=Ru(t),c=Math.pow(10,Math.max(Eu(r),Eu(n)));return(Su(e,c)+Su(t,c))/c}var Lp=wO,yO=Lp,Ou=Ll;function EO(e,t){return yO(Ou(e),Ou(t))}var RO=EO,Du=gi,Fu=cl,$u=Ll,SO=Uc;function OO(e,t){var r=$u(e),n=$u(t),c=Fu(r),u=Fu(n),h=Du(c),y=Du(u),w=Math.pow(10,Math.max(h,y)),H=h>=y?h:y;return parseFloat(SO((r*w-n*w)/w,H))}var DO=OO,Tu=gi,Mu=cl,FO=Xc;function $O(e,t){var r=Mu(e),n=Mu(t),c=Tu(r),u=Tu(n),h=u-c,y=h<0,w=Math.pow(10,y?Math.abs(h):h);return FO(r.replace(".","")/n.replace(".",""),y?1/w:w)}var Hp=$O,TO=Hp,Iu=Ll;function MO(e,t){return TO(Iu(e),Iu(t))}var IO=MO,Zi=Lp,AO=$r,kO=Co,LO=or,HO=ca;function PO(e,t,r){var n=0;return LO(e&&e.length>2&&kO(e)?e.sort():e,t?AO(t)?function(){n=Zi(n,t.apply(r,arguments))}:function(c){n=Zi(n,HO(c,t))}:function(c){n=Zi(n,c)}),n}var Pp=PO,_O=Hp,BO=vp,NO=Pp;function VO(e,t,r){return _O(NO(e,t,r),BO(e))}var GO=VO,zO="first",dl=zO,WO="last",Pl=WO;function jO(e){return e.getFullYear()}var ul=jO,qO=864e5,$s=qO;function UO(e){return e.getMonth()}var _l=UO,XO=al,YO=yr;function KO(e){return XO(e)&&!isNaN(YO(e))}var Er=KO,Au=dl,ZO=Pl,QO=$s,JO=ul,ku=yr,Lu=_l,eD=cr,tD=Er,oD=Fn;function _p(e,t,r){var n=t&&!isNaN(t)?t:0;if(e=eD(e),tD(e)){if(r===Au)return new Date(JO(e),Lu(e)+n,1);if(r===ZO)return new Date(ku(_p(e,n+1,Au))-1);if(oD(r)&&e.setDate(r),n){var c=e.getDate();if(e.setMonth(Lu(e)+n),c!==e.getDate())return e.setDate(1),new Date(ku(e)-QO)}}return e}var fa=_p,rD=dl,Hu=Pl,Pu=ul,nD=fa,lD=cr,sD=Er;function aD(e,t,r){var n;if(e=lD(e),sD(e)&&(t&&(n=t&&!isNaN(t)?t:0,e.setFullYear(Pu(e)+n)),r||!isNaN(r))){if(r===rD)return new Date(Pu(e),0,1);if(r===Hu)return e.setMonth(11),nD(e,0,Hu);e.setMonth(r)}return e}var pi=aD,iD=fa,cD=cr,dD=Er;function uD(e){var t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function fD(e,t,r){var n,c=t&&!isNaN(t)?t*3:0;return e=cD(e),dD(e)?(n=(uD(e)-1)*3,e.setMonth(n),iD(e,c,r)):e}var gD=fD,pD=$s,hD=pD*7,Bp=hD,vD=On,Qi=$s,mD=Bp,bD=yr,xD=cr,CD=Er,_u=Fn;function wD(e,t,r,n){if(e=xD(e),CD(e)){var c=_u(r),u=_u(n),h=bD(e);if(c||u){var y=u?n:vD.firstDayOfWeek,w=e.getDay(),H=c?r:w;if(w!==H){var S=0;y>w?S=-(7-y+w):y<w&&(S=y-w),H>y?h+=((H===0?7:H)-y+S)*Qi:H<y?h+=(7-y+H+S)*Qi:h+=S*Qi}}return t&&!isNaN(t)&&(h+=t*mD),new Date(h)}return e}var Np=wD,Bu=dl,yD=Pl,ED=il,RD=ul,SD=_l,OD=yr,DD=cr,FD=Er;function Vp(e,t,r){if(e=DD(e),FD(e)&&!isNaN(t)){if(e.setDate(e.getDate()+ED(t)),r===Bu)return new Date(RD(e),SD(e),e.getDate());if(r===yD)return new Date(OD(Vp(e,1,Bu))-1)}return e}var Gp=Vp,Nu=dl,$D=Pl,TD=il,MD=ul,ID=_l,AD=yr,kD=cr,LD=Er;function zp(e,t,r){if(e=kD(e),LD(e)&&!isNaN(t)){if(e.setHours(e.getHours()+TD(t)),r===Nu)return new Date(MD(e),ID(e),e.getDate(),e.getHours());if(r===$D)return new Date(AD(zp(e,1,Nu))-1)}return e}var HD=zp,Vu=dl,PD=Pl,_D=il,BD=ul,ND=_l,VD=yr,GD=cr,zD=Er;function Wp(e,t,r){if(e=GD(e),zD(e)&&!isNaN(t)){if(e.setMinutes(e.getMinutes()+_D(t)),r===Vu)return new Date(BD(e),ND(e),e.getDate(),e.getHours(),e.getMinutes());if(r===PD)return new Date(VD(Wp(e,1,Vu))-1)}return e}var WD=Wp,Gu=dl,jD=Pl,qD=il,UD=ul,XD=_l,YD=yr,KD=cr,ZD=Er;function jp(e,t,r){if(e=KD(e),ZD(e)&&!isNaN(t)){if(e.setSeconds(e.getSeconds()+qD(t)),r===Gu)return new Date(UD(e),XD(e),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());if(r===jD)return new Date(YD(jp(e,1,Gu))-1)}return e}var QD=jp;function JD(e){return e.toUpperCase()}var qp=JD,eF=On,Ta=$s,tF=Bp,oF=Fn,rF=Ds,nF=cr,lF=Er,zu=Np,sF=Tp,aF=kl,Ma=yr,iF=aF(sF(0,7),function(e){return[(e+1)%7,(e+2)%7,(e+3)%7]});function Wu(e,t){var r=new Date(e).getDay();return rF(iF[t],r)}function cF(e,t){return function(r,n){var c=oF(n)?n:eF.firstDayOfWeek,u=nF(r);if(lF(u)){var h=zu(u,0,c,c),y=e(h),w=Ma(y),H=Ma(h),S=H+Ta*6,F=new Date(S),j=zu(y,0,c,c),W=Ma(j),Y;if(H===W)return 1;if(t(h,F)){for(Y=Ma(e(F));Y<S;Y+=Ta)if(Wu(Y,c))return 1}var m=W+Ta*6,g=new Date(S),L=1;if(t(j,g)){for(L=0,Y=w;Y<m;Y+=Ta)if(Wu(Y,c)){L++;break}}return Math.floor((H-W)/tF)+L}return NaN}}var Up=cF,dF=Up,uF=dF(function(e){return new Date(e.getFullYear(),0,1)},function(e,t){return e.getFullYear()!==t.getFullYear()}),Xp=uF,fF=ul,gF=_l;function pF(e){return new Date(fF(e),gF(e),e.getDate())}var hF=pF,vF=yr,mF=hF;function bF(e){return vF(mF(e))}var xF=bF,CF=$s,wF=dl,ju=xF,yF=pi,EF=cr,RF=Er;function SF(e){return e=EF(e),RF(e)?Math.floor((ju(e)-ju(yF(e,0,wF)))/CF)+1:NaN}var Yp=SF,OF=Tr,DF=Dn,FF=ua;function $F(e,t,r){var n=OF(e);return t=t>>0,r=DF(r)?" ":""+r,n.padStart?n.padStart(t,r):t>n.length?(t-=n.length,t>r.length&&(r+=FF(r,t/r.length)),r.slice(0,t)+n):n}var Kp=$F,Vs=On,TF=qp,MF=ul,qu=_l,IF=cr,AF=Xp,kF=Yp,LF=Vr,HF=Er,PF=$r,pn=Kp;function Xn(e,t,r,n){var c=t[r];return c?PF(c)?c(n,r,e):c[n]:n}var _F=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function BF(e,t,r){if(e){if(e=IF(e),HF(e)){var n=t||Vs.parseDateFormat||Vs.formatString,c=e.getHours(),u=c<12?"am":"pm",h=LF({},Vs.parseDateRules||Vs.formatStringMatchs,r?r.formats:null),y=function($,J){return(""+MF(e)).substring(4-J)},w=function($,J){return pn(qu(e)+1,J,"0")},H=function($,J){return pn(e.getDate(),J,"0")},S=function($,J){return pn(c,J,"0")},F=function($,J){return pn(c<=12?c:c-12,J,"0")},j=function($,J){return pn(e.getMinutes(),J,"0")},W=function($,J){return pn(e.getSeconds(),J,"0")},Y=function($,J){return pn(e.getMilliseconds(),J,"0")},m=function($,J){var ue=e.getTimezoneOffset()/60*-1;return Xn(e,h,$,(ue>=0?"+":"-")+pn(ue,2,"0")+(J===1?":":"")+"00")},g=function($,J){return pn(Xn(e,h,$,AF(e,(r?r.firstDay:null)||Vs.firstDayOfWeek)),J,"0")},L=function($,J){return pn(Xn(e,h,$,kF(e)),J,"0")},te={yyyy:y,yy:y,MM:w,M:w,dd:H,d:H,HH:S,H:S,hh:F,h:F,mm:j,m:j,ss:W,s:W,SSS:Y,S:Y,ZZ:m,Z:m,WW:g,W:g,DDD:L,D:L,a:function($){return Xn(e,h,$,u)},A:function($){return Xn(e,h,$,TF(u))},e:function($){return Xn(e,h,$,e.getDay())},E:function($){return Xn(e,h,$,e.getDay())},q:function($){return Xn(e,h,$,Math.floor((qu(e)+3)/3))}};return n.replace(_F,function($,J){return J||(te[$]?te[$]($,$.length):$)})}return"Invalid Date"}return""}var Zp=BF,NF=yr,VF=fi,GF=Date.now||function(){return NF(VF())},Qp=GF,zF=yr,WF=Qp,jF=cr,qF=al,UF=function(e,t){if(e){var r=jF(e,t);return qF(r)?zF(r):r}return WF()},XF=UF,Uu=Zp;function YF(e,t,r){return e&&t?(e=Uu(e,r),e!=="Invalid Date"&&e===Uu(t,r)):!1}var KF=YF,ZF=Up,QF=ZF(function(e){return new Date(e.getFullYear(),e.getMonth(),1)},function(e,t){return e.getMonth()!==t.getMonth()}),JF=QF,e$=pi,t$=cr,o$=Er,r$=gp;function n$(e,t){return e=t$(e),o$(e)?r$(e$(e,t))?366:365:NaN}var l$=n$,s$=$s,a$=dl,i$=Pl,Xu=yr,Yu=fa,c$=cr,d$=Er;function u$(e,t){return e=c$(e),d$(e)?Math.floor((Xu(Yu(e,t,i$))-Xu(Yu(e,t,a$)))/s$)+1:NaN}var f$=u$,Ku=yr,g$=fi,Zu=cr,Qu=Er,Ju=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function p$(e,t){var r,n,c,u,h,y,w={done:!1,status:!1,time:0};if(e=Zu(e),t=t?Zu(t):g$(),Qu(e)&&Qu(t)&&(r=Ku(e),n=Ku(t),r<n))for(u=w.time=n-r,w.done=!0,w.status=!0,y=0,h=Ju.length;y<h;y++)c=Ju[y],u>=c[1]?y===h-1?w[c[0]]=u||0:(w[c[0]]=Math.floor(u/c[1]),u-=w[c[0]]*c[1]):w[c[0]]=0;return w}var h$=p$,v$=Tr,m$=Dn,b$=ua;function x$(e,t,r){var n=v$(e);return t=t>>0,r=m$(r)?" ":""+r,n.padEnd?n.padEnd(t,r):t>n.length?(t-=n.length,t>r.length&&(r+=b$(r,t/r.length)),n+r.slice(0,t)):n}var C$=x$,w$=Tr,y$=ua;function E$(e,t){return y$(w$(e),t)}var R$=E$,S$=Tr;function O$(e){return e&&e.trimRight?e.trimRight():S$(e).replace(/[\s\uFEFF\xA0]+$/g,"")}var Jp=O$,D$=Tr;function F$(e){return e&&e.trimLeft?e.trimLeft():D$(e).replace(/^[\s\uFEFF\xA0]+/g,"")}var eh=F$,$$=Jp,T$=eh;function M$(e){return e&&e.trim?e.trim():$$(T$(e))}var th=M$,I$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},oh=I$,A$=Tr,k$=_n;function L$(e){var t=new RegExp("(?:"+k$(e).join("|")+")","g");return function(r){return A$(r).replace(t,function(n){return e[n]})}}var rh=L$,H$=oh,P$=rh,_$=P$(H$),B$=_$,ef=oh,N$=rh,V$=or,nh={};V$(ef,function(e,t){nh[ef[t]]=t});var G$=N$(nh),z$=G$;function W$(e,t,r){return e.substring(t,r)}var lh=W$;function j$(e){return e.toLowerCase()}var sh=j$,q$=Tr,Yn=lh,Gs=qp,U$=sh,Ji={};function X$(e){if(e=q$(e),Ji[e])return Ji[e];var t=e.length,r=e.replace(/([-]+)/g,function(n,c,u){return u&&u+c.length<t?"-":""});return t=r.length,r=r.replace(/([A-Z]+)/g,function(n,c,u){var h=c.length;return c=U$(c),u?h>2&&u+h<t?Gs(Yn(c,0,1))+Yn(c,1,h-1)+Gs(Yn(c,h-1,h)):Gs(Yn(c,0,1))+Yn(c,1,h):h>1&&u+h<t?Yn(c,0,h-1)+Gs(Yn(c,h-1,h)):c}).replace(/(-[a-zA-Z])/g,function(n,c){return Gs(Yn(c,1,c.length))}),Ji[e]=r,r}var Y$=X$,K$=Tr,Ql=lh,Kn=sh,ec={};function Z$(e){if(e=K$(e),ec[e])return ec[e];if(/^[A-Z]+$/.test(e))return Kn(e);var t=e.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(r,n,c,u){var h=c.length;return h>1?n+"-"+Kn(Ql(c,0,h-1))+"-"+Kn(Ql(c,h-1,h))+u:Kn(n+"-"+c+u)}).replace(/^([A-Z]+)([a-z]+)?$/,function(r,n,c){var u=n.length;return Kn(Ql(n,0,u-1)+"-"+Ql(n,u-1,u)+(c||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(r,n,c,u,h){var y=c.length;return y>1&&(n&&(n+="-"),u)?(n||"")+Kn(Ql(c,0,y-1))+"-"+Kn(Ql(c,y-1,y))+u:(n||"")+(h?"-":"")+Kn(c)+(u||"")});return t=t.replace(/([-]+)/g,function(r,n,c){return c&&c+n.length<t.length?"-":""}),ec[e]=t,t}var Q$=Z$,J$=Tr;function eT(e,t,r){var n=J$(e);return(arguments.length===1?n:n.substring(r)).indexOf(t)===0}var tT=eT,oT=Tr;function rT(e,t,r){var n=oT(e),c=arguments.length;return c>1&&(c>2?n.substring(0,r).indexOf(t)===r-1:n.indexOf(t)===n.length-1)}var nT=rT,lT=On,sT=Tr,aT=th,iT=ca;function cT(e,t,r){return sT(e).replace((r||lT).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(n,c){return iT(t,aT(c))})}var ah=cT,dT=ah;function uT(e,t){return dT(e,t,{tmplRE:/\{([.\w[\]\s]+)\}/g})}var fT=uT;function gT(){}var pT=gT,tf=Hl;function hT(e,t){var r=tf(arguments,2);return function(){return e.apply(t,tf(arguments).concat(r))}}var vT=hT,of=Hl;function mT(e,t){var r=!1,n=null,c=of(arguments,2);return function(){return r||(n=e.apply(t,of(arguments).concat(c)),r=!0),n}}var bT=mT,xT=Hl;function CT(e,t,r){var n=0,c=[];return function(){var u=arguments;n++,n<=e&&c.push(u[0]),n>=e&&t.apply(r,[c].concat(xT(u)))}}var wT=CT,yT=Hl;function ET(e,t,r){var n=0,c=[];return r=r||this,function(){var u=arguments;n++,n<e&&(c.push(u[0]),t.apply(r,[c].concat(yT(u))))}}var RT=ET,ST=Vr;function OT(e,t,r){var n=null,c=null,u=!1,h=null,y=ST({leading:!0,trailing:!0},r),w=y.leading,H=y.trailing,S=function(){n=null,c=null},F=function(){u=!0,e.apply(c,n),h=setTimeout(j,t),S()},j=function(){if(h=null,u){S();return}if(H===!0){F();return}S()},W=function(){var m=h!==null;return m&&clearTimeout(h),S(),h=null,u=!1,m},Y=function(){if(n=arguments,c=this,u=!1,h===null&&w===!0){F();return}H===!0&&(h=setTimeout(j,t))};return Y.cancel=W,Y}var DT=OT,FT=Vr;function $T(e,t,r){var n=null,c=null,u=typeof r=="boolean"?{leading:r,trailing:!r}:FT({leading:!1,trailing:!0},r),h=!1,y=null,w=u.leading,H=u.trailing,S=function(){n=null,c=null},F=function(){h=!0,e.apply(c,n),S()},j=function(){if(w===!0&&(y=null),h){S();return}if(H===!0){F();return}S()},W=function(){var m=y!==null;return m&&clearTimeout(y),S(),y=null,h=!1,m},Y=function(){h=!1,n=arguments,c=this,y===null?w===!0&&F():clearTimeout(y),y=setTimeout(j,t)};return Y.cancel=W,Y}var TT=$T,MT=Hl;function IT(e,t){var r=MT(arguments,2),n=this;return setTimeout(function(){e.apply(n,r)},t)}var AT=IT,kT=decodeURIComponent,ih=kT,rf=ih,LT=wr,HT=Vn;function PT(e){var t,r={};return e&&HT(e)&&LT(e.split("&"),function(n){t=n.split("="),r[rf(t[0])]=rf(t[1]||"")}),r}var ch=PT,_T=encodeURIComponent,dh=_T,ti=dh,uh=or,fh=Co,gh=Bn,BT=Dn,ph=Os;function hh(e,t,r){var n,c=[];return uh(e,function(u,h){n=fh(u),ph(u)||n?c=c.concat(hh(u,t+"["+h+"]",n)):c.push(ti(t+"["+(r?"":h)+"]")+"="+ti(gh(u)?"":u))}),c}function NT(e){var t,r=[];return uh(e,function(n,c){BT(n)||(t=fh(n),ph(n)||t?r=r.concat(hh(n,c,t)):r.push(ti(c)+"="+ti(gh(n)?"":n)))}),r.join("&").replace(/%20/g,"+")}var VT=NT,GT=ln,zT=typeof location===GT?0:location,hi=zT,Ia=hi;function WT(){return Ia?Ia.origin||Ia.protocol+"//"+Ia.host:""}var vh=WT,nf=hi,jT=ch,qT=vh;function lf(e){return jT(e.split("?")[1]||"")}function UT(e){var t,r,n,c,u=""+e;return u.indexOf("//")===0?u=(nf?nf.protocol:"")+u:u.indexOf("/")===0&&(u=qT()+u),n=u.replace(/#.*/,"").match(/(\?.*)/),c={href:u,hash:"",host:"",hostname:"",protocol:"",port:"",search:n&&n[1]&&n[1].length>1?n[1]:""},c.path=u.replace(/^([a-z0-9.+-]*:)\/\//,function(h,y){return c.protocol=y,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(h,y,w){return r=w||"",c.port=r.replace(":",""),c.hostname=y,c.host=y+r,"/"}).replace(/(#.*)/,function(h,y){return c.hash=y.length>1?y:"",""}),t=c.hash.match(/#((.*)\?|(.*))/),c.pathname=c.path.replace(/(\?|#.*).*/,""),c.origin=c.protocol+"//"+c.host,c.hashKey=t&&(t[2]||t[1])||"",c.hashQuery=lf(c.hash),c.searchQuery=lf(c.search),c}var mh=UT,sf=hi,XT=vh,YT=hp;function KT(){if(sf){var e=sf.pathname,t=YT(e,"/")+1;return XT()+(t===e.length?e:e.substring(0,t))}return""}var ZT=KT,af=hi,QT=mh;function JT(){return af?QT(af.href):{}}var eM=JT,bh=On,tc=zc,cf=ih,df=dh,tM=Co,uf=di,xh=al,oM=Dn,rM=Ds,nM=_n,oi=Vr,oc=wr,lM=fi,Aa=yr,sM=pi,aM=fa,iM=Gp;function ff(e,t){var r=parseFloat(t),n=lM(),c=Aa(n);switch(e){case"y":return Aa(sM(n,r));case"M":return Aa(aM(n,r));case"d":return Aa(iM(n,r));case"h":case"H":return c+r*60*60*1e3;case"m":return c+r*60*1e3;case"s":return c+r*1e3}return c}function rc(e){return(xh(e)?e:new Date(e)).toUTCString()}function sl(e,t,r){if(tc){var n,c,u,h,y,w,H=[],S=arguments;return tM(e)?H=e:S.length>1?H=[oi({name:e,value:t},r)]:uf(e)&&(H=[e]),H.length>0?(oc(H,function(F){n=oi({},bh.cookies,F),u=[],n.name&&(c=n.expires,u.push(df(n.name)+"="+df(uf(n.value)?JSON.stringify(n.value):n.value)),c&&(isNaN(c)?c=c.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(j,W,Y){return rc(ff(Y,W))}):/^[0-9]{11,13}$/.test(c)||xh(c)?c=rc(c):c=rc(ff("d",c)),n.expires=c),oc(["expires","path","domain","secure"],function(j){oM(n[j])||u.push(n[j]&&j==="secure"?j:j+"="+n[j])})),tc.cookie=u.join("; ")}),!0):(h={},y=tc.cookie,y&&oc(y.split("; "),function(F){w=F.indexOf("="),h[cf(F.substring(0,w))]=cf(F.substring(w+1)||"")}),S.length===1?h[e]:h)}return!1}function cM(e){return rM(Ch(),e)}function gf(e){return sl(e)}function pf(e,t,r){return sl(e,t,r),sl}function hf(e,t){sl(e,"",oi({expires:-1},bh.cookies,t))}function Ch(){return nM(sl())}function dM(){return sl()}oi(sl,{has:cM,set:pf,setItem:pf,get:gf,getItem:gf,remove:hf,removeItem:hf,keys:Ch,getJSON:dM});var uM=sl,fM=ln,nc=zc,lc=yp,gM=Vr,pM=wr;function vf(e){try{var t="__xe_t";return e.setItem(t,1),e.removeItem(t),!0}catch{return!1}}function ka(e){return navigator.userAgent.indexOf(e)>-1}function hM(){var e,t,r,n=!1,c=!1,u=!1,h={isNode:!1,isMobile:n,isPC:!1,isDoc:!!nc};if(!lc&&typeof process!==fM)h.isNode=!0;else{r=ka("Edge"),t=ka("Chrome"),n=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),h.isDoc&&(e=nc.body||nc.documentElement,pM(["webkit","khtml","moz","ms","o"],function(y){h["-"+y]=!!e[y+"MatchesSelector"]}));try{c=vf(lc.localStorage)}catch{}try{u=vf(lc.sessionStorage)}catch{}gM(h,{edge:r,firefox:ka("Firefox"),msie:!r&&h["-ms"],safari:!t&&!r&&ka("Safari"),isMobile:n,isPC:!n,isLocalStorage:c,isSessionStorage:u})}return h}var vM=hM,wh=ab,mf=Vr,mM=ia,bM=Mg,xM=xb,CM=Ob,wM=kl,yM=kg,EM=Lg,RM=Hg,SM=wr,OM=_c,DM=Pg,FM=Xb,$M=Bc,TM=Sx,MM=Vc,IM=Vg,AM=kx,kM=Hl,LM=Vx,HM=Wx,PM=Ds,_M=Ux,BM=Zx,NM=eC,VM=rC,GM=sC,zM=wC,WM=qg,jM=SC,qM=FC,UM=zg,XM=AC,YM=hw,KM=Cw,ZM=Rw,QM=op,JM=Mw,eI=kw,tI=Bw,oI=lp,rI=sp,nI=nn,lI=Co,sI=Bn,aI=qw,iI=Dn,cI=$r,dI=di,uI=Vn,fI=Os,gI=gp,pI=al,hI=Nn,vI=or,mI=by,bI=yy,xI=Ty,CI=hp,wI=_n,yI=Fs,EI=Pc,RI=vp,SI=Kg,OI=Qg,DI=Zg,FI=Ny,$I=Xy,TI=mp,MI=bp,II=Fn,AI=Gc,kI=xp,LI=oE,HI=Cp,PI=wp,_I=cE,BI=gE,NI=bE,VI=EE,GI=DE,zI=ME,WI=LE,jI=BE,qI=zE,UI=dR,XI=Dp,YI=pR,KI=yR,ZI=OR,QI=Wc,JI=$R,e1=AR,t1=HR,o1=BR,r1=UR,n1=KR,l1=JR,s1=oS,a1=sS,i1=ca,c1=fS,d1=$p,u1=ES,f1=Tp,g1=TS,p1=Ng,h1=jg,v1=AS,m1=pO,b1=qc,x1=Ap,C1=kp,w1=Uc,y1=bO,E1=Ll,R1=cl,S1=RO,O1=DO,D1=Xc,F1=IO,$1=Pp,T1=GO,M1=pi,I1=gD,A1=fa,k1=Np,L1=Gp,H1=HD,P1=WD,_1=QD,B1=cr,N1=Zp,V1=Qp,G1=XF,z1=Er,W1=KF,j1=Yp,q1=Xp,U1=JF,X1=l$,Y1=f$,K1=h$,Z1=C$,Q1=Kp,J1=R$,eA=th,tA=Jp,oA=eh,rA=B$,nA=z$,lA=Y$,sA=Q$,aA=tT,iA=nT,cA=ah,dA=fT,bf=Tr,uA=pT,fA=Ss,gA=vT,pA=bT,hA=wT,vA=RT,mA=DT,bA=TT,xA=AT,CA=ch,wA=VT,yA=mh,EA=ZT,RA=eM,SA=uM,OA=vM;mf(wh,{assign:mf,objectEach:mM,lastObjectEach:bM,objectMap:xM,merge:CM,uniq:DM,union:FM,sortBy:TM,orderBy:MM,shuffle:IM,sample:AM,some:yM,every:EM,slice:kM,filter:LM,find:_M,findLast:BM,findKey:HM,includes:PM,arrayIndexOf:oI,arrayLastIndexOf:rI,map:wM,reduce:NM,copyWithin:VM,chunk:GM,zip:zM,unzip:WM,zipObject:jM,flatten:qM,toArray:$M,includeArrays:RM,pluck:UM,invoke:XM,arrayEach:SM,lastArrayEach:OM,toArrayTree:YM,toTreeArray:KM,findTree:ZM,eachTree:QM,mapTree:JM,filterTree:eI,searchTree:tI,hasOwnProp:nI,eqNull:hI,isNaN:aI,isFinite:FI,isUndefined:iI,isArray:lI,isFloat:$I,isInteger:TI,isFunction:cI,isBoolean:MI,isString:uI,isNumber:II,isRegExp:AI,isObject:dI,isPlainObject:fI,isDate:pI,isError:kI,isTypeError:LI,isEmpty:HI,isNull:sI,isSymbol:PI,isArguments:_I,isElement:BI,isDocument:NI,isWindow:VI,isFormData:GI,isMap:zI,isWeakMap:WI,isSet:jI,isWeakSet:qI,isLeapYear:gI,isMatch:UI,isEqual:XI,isEqualWith:YI,getType:KI,uniqueId:ZI,getSize:RI,indexOf:xI,lastIndexOf:CI,findIndexOf:QI,findLastIndexOf:JI,toStringJSON:e1,toJSONString:t1,keys:wI,values:yI,entries:o1,pick:r1,omit:n1,first:l1,last:s1,each:vI,forOf:mI,lastForOf:bI,lastEach:SI,has:a1,get:i1,set:c1,groupBy:d1,countBy:u1,clone:EI,clear:DI,remove:OI,range:f1,destructuring:g1,random:p1,min:v1,max:h1,commafy:m1,round:b1,ceil:x1,floor:C1,toFixed:w1,toNumber:E1,toNumberString:R1,toInteger:y1,add:S1,subtract:O1,multiply:D1,divide:F1,sum:$1,mean:T1,now:V1,timestamp:G1,isValidDate:z1,isDateSame:W1,toStringDate:B1,toDateString:N1,getWhatYear:M1,getWhatQuarter:I1,getWhatMonth:A1,getWhatWeek:k1,getWhatDay:L1,getWhatHours:H1,getWhatMinutes:P1,getWhatSeconds:_1,getYearDay:j1,getYearWeek:q1,getMonthWeek:U1,getDayOfYear:X1,getDayOfMonth:Y1,getDateDiff:K1,trim:eA,trimLeft:oA,trimRight:tA,escape:rA,unescape:nA,camelCase:lA,kebabCase:sA,repeat:J1,padStart:Q1,padEnd:Z1,startsWith:aA,endsWith:iA,template:cA,toFormatString:dA,toString:bf,toValueString:bf,noop:uA,property:fA,bind:gA,once:pA,after:hA,before:vA,throttle:mA,debounce:bA,delay:xA,unserialize:CA,serialize:wA,parseUrl:yA,getBaseURL:EA,locat:RA,browse:OA,cookie:SA});var DA=wh;const a=Rm(DA);var bs=null,sc=null,Zn=null,xf="z-index-manage",yl=null,Cf="z-index-style",yh="m",Eh="s",la={m:1e3,s:1e3};function Yc(){return bs||typeof document<"u"&&(bs=document),bs}function Rh(){return bs&&!sc&&(sc=bs.body||bs.getElementsByTagName("body")[0]),sc}function FA(){var e=0,t=Yc();if(t){var r=Rh();if(r)for(var n=r.getElementsByTagName("*"),c=0;c<n.length;c++){var u=n[c];if(u&&u.style&&u.nodeType===1){var h=u.style.zIndex;h&&/^\d+$/.test(h)&&(e=Math.max(e,Number(h)))}}}return e}function $A(){if(!yl){var e=Yc();e&&(yl=e.getElementById(Cf),yl||(yl=e.createElement("style"),yl.id=Cf,e.getElementsByTagName("head")[0].appendChild(yl)))}return yl}function Sh(){var e=$A();if(e){var t="--dom-",r="-z-index";e.innerHTML=":root{"+t+"main"+r+":"+vi()+";"+t+"sub"+r+":"+Qc()+"}"}}function Oh(){if(!Zn){var e=Yc();if(e&&(Zn=e.getElementById(xf),!Zn)){var t=Rh();t&&(Zn=e.createElement("div"),Zn.id=xf,Zn.style.display="none",t.appendChild(Zn),Kc(la.m),Zc(la.s))}}return Zn}function Dh(e){return function(t){if(t){t=Number(t),la[e]=t;var r=Oh();r&&(r.dataset?r.dataset[e]=t+"":r.setAttribute("data-"+e,t+""))}return Sh(),la[e]}}var Kc=Dh(yh);function Fh(e,t){return function(n){var c,u=Oh();if(u){var h=u.dataset?u.dataset[e]:u.getAttribute("data-"+e);h&&(c=Number(h))}return c||(c=la[e]),n?Number(n)<c?t():n:c}}var vi=Fh(yh,$h);function $h(){return Kc(vi()+1)}var Zc=Dh(Eh),Th=Fh(Eh,Mh);function Qc(){return vi()+Th()}function Mh(){return Zc(Th()+1),Qc()}var Jc={setCurrent:Kc,getCurrent:vi,getNext:$h,setSubCurrent:Zc,getSubCurrent:Qc,getSubNext:Mh,getMax:FA};Sh();const ys={size:"",version:1,zIndex:999,resizeInterval:500},Ih={theme:""};function ed(e){const t=!e||e==="default"?"light":e;if(Ih.theme=t,typeof document<"u"){const r=document.documentElement;r&&r.setAttribute("data-vxe-ui-theme",t)}return Al}function TA(){return Ih.theme}function MA(e){return e&&(e.zIndex&&Jc.setCurrent(e.zIndex),e.theme&&ed(e.theme),a.merge(ys,e)),Al}function IA(e,t){return arguments.length?a.get(ys,e,t):ys}const AA={},$c={};function Ah(e){return a.isArray(e)?e:e?[e]:[]}function kA(e){return e&&Object.assign($c,e),Al}function kh(e){return arguments.length?a.get($c,e):$c}function LA(e){const t=kh(e);return Lh(t,e)}function Lh(e,t){return a.isFunction(e)?x("span",{},Ah(e({name:t}))):x("i",{class:e})}const Ol={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Tc=a.browse(),wf={" ":"Spacebar",Apps:Ol.CONTEXT_MENU,Del:Ol.DELETE,Up:Ol.ARROW_UP,Down:Ol.ARROW_DOWN,Left:Ol.ARROW_LEFT,Right:Ol.ARROW_RIGHT},Hh=Tc.firefox?"DOMMouseScroll":"mousewheel",Mc=[];function An(e){const t=e.type===Hh;Mc.forEach(({type:r,cb:n})=>{e.cancelBubble||(r===e.type||t&&r==="mousewheel")&&n(e)})}class yf{constructor(t,r,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,r),a.objectEach(n,(c,u)=>{if(a.isFunction(c)){let h=null,y=!1;Object.defineProperty(this,u,{get(){return y||(y=!0,h=c()),h}})}else this[u]=c})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const HA=(e,t,r)=>(e instanceof yf&&(e=e.$event),new yf(e,t,r)),PA={on(e,t,r){Mc.push({comp:e,type:t,cb:r})},off(e,t){a.remove(Mc,r=>r.comp===e&&r.type===t)},hasKey(e,t){const{key:r}=e;return t=t.toLowerCase(),r?t===r.toLowerCase()||!!(wf[r]&&wf[r].toLowerCase()===t):!1}};Tc.isDoc&&(Tc.msie||(window.addEventListener("copy",An,!1),window.addEventListener("cut",An,!1),window.addEventListener("paste",An,!1)),document.addEventListener("keydown",An,!1),document.addEventListener("contextmenu",An,!1),window.addEventListener("mousedown",An,!1),window.addEventListener("blur",An,!1),window.addEventListener("resize",An,!1),window.addEventListener(Hh,a.throttle(An,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let Ef;const Fl=[],_A=500;function BA(){Fl.length&&(Fl.forEach(e=>{e.tarList.forEach(t=>{const{target:r,width:n,heighe:c}=t,u=r.clientWidth,h=r.clientHeight;(u&&n!==u||h&&c!==h)&&(t.width=u,t.heighe=h,setTimeout(e.callback))})}),Ph())}function Ph(){clearTimeout(Ef),Ef=setTimeout(BA,ys.resizeInterval||_A)}class NA{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:r}=this;r.some(n=>n.target===t)||r.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),Fl.length||Ph(),Fl.some(n=>n===this)||Fl.push(this)}}unobserve(t){a.remove(Fl,r=>r.tarList.some(n=>n.target===t))}disconnect(){a.remove(Fl,t=>t===this)}}const VA={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new NA(e)}},Es=Br({language:"",langMaps:{}});let Rf=!1,Ua={};function _h(e,t){const{langMaps:r,language:n}=Es,{i18n:c}=ys;if(c)return`${c(e,t)||""}`;if(Rf||(r[n]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${Al.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),Rf=!0),!t&&Ua[e])return Ua[e];const u=a.toFormatString(a.get(r[n],e,e),t);return t||(Ua[e]=u),u}function GA(e){const{language:t}=Es,r=e||"zh-CN";return t!==r&&(Es.language=r,Ua={}),Al}function zA(e,t){return Es.langMaps[e]=Object.assign({},t),Al}function WA(e){const{langMaps:t}=Es;return!!t[e]}function jA(){const{language:e}=Es;return e}function ac(e,t){return function(r,n){const c=`[vxe ${t||""}] ${_h(r,n)}`;return console[e](c),c}}const Sf="4.2.19",Rn={create:ac,warn:ac("warn",`v${Sf}`),err:ac("error",`v${Sf}`)},zs={},gs={mixin(e){return a.each(e,(t,r)=>gs.add(r,t)),gs},get(e){return zs[e]||null},add(e,t){if(e&&t){const r=zs[e];r?(a.each(t,(n,c)=>{!a.eqNull(r[c])&&r[c]!==n&&Rn.warn("vxe.error.coverProp",[`Renderer.${e}`,c])}),Object.assign(r,t)):zs[e]=t}return gs},forEach(e){return a.objectEach(zs,e),gs},delete(e){return delete zs[e],gs}};class Bh{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return a.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t],c=a.keys(n);return a.each(r,(u,h)=>{c.includes(h)&&Rn.warn("vxe.error.coverProp",[t,h])}),this.store[t]=n?a.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){a.objectEach(this.store,t)}}const Nh=new Bh;Object.assign(Nh,{_name:"Validators"});class qA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return a.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];a.isFunction(r)&&(Rn.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),r={menuMethod:r});const c=a.keys(n);return a.each(r,(u,h)=>{c.includes(h)&&Rn.warn("vxe.error.coverProp",[t,h])}),this.store[t]=n?a.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){a.objectEach(this.store,t)}}const Vh=new qA;Object.assign(Vh,{_name:"Menus"});class UA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return a.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];a.isFunction(r)&&(Rn.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),r={cellFormatMethod:r});const c=a.keys(n);return a.each(r,(u,h)=>{c.includes(h)&&Rn.warn("vxe.error.coverProp",[t,h])}),this.store[t]=n?a.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){a.objectEach(this.store,t)}}const Gh=new UA;Object.assign(Gh,{_name:"Formats"});class XA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return a.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];a.isFunction(r)&&(Rn.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),r={commandMethod:r});const c=a.keys(n);return a.each(r,(u,h)=>{c.includes(h)&&Rn.warn("vxe.error.coverProp",[t,h])}),this.store[t]=n?a.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){a.objectEach(this.store,t)}}const zh=new XA;Object.assign(zh,{_name:"Commands"});const Ws={},Xa={mixin(e){return a.each(e,(t,r)=>{Xa.add(r,t)}),Xa},get(e){return e?Ws[e]||[]:[]},add(e,t){a.isFunction(t)&&(t={tableInterceptorMethod:t});const r=t.tableInterceptorMethod;if(r){let n=Ws[e];n||(n=Ws[e]=[]),n.indexOf(r)>-1&&Rn.warn("vxe.error.coverProp",["Interceptor",e]),n.push(r)}return Xa},delete(e,t){const r=Ws[e];if(r){a.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?a.remove(r,c=>c===n):delete Ws[e]}}};let bn;const js={text:"",html:""};function YA(e){if(!bn){bn=document.createElement("textarea"),bn.id="$VxeCopy";const t=bn.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(bn)}bn.value=e}const KA={getStore(){return js},setStore(e){Object.assign(js,e||{})},copy(e){let t=!1;try{const r=a.toValueString(e);YA(r),bn.select(),bn.setSelectionRange(0,bn.value.length),t=document.execCommand("copy"),bn.blur(),js.text=r,js.html=""}catch{}return t},getText(){return js.text||""}};function Ya(e,t){let r=!0,n=!1;const c=t||ys.permissionMethod;if(e&&c){r=!1,n=!0;let h=!1,y=!1;const w=String(e).split("|");for(let H=0;H<w.length;H++){const S=w[H];let F=!0,j=!1;const W=c({code:S});if(a.isBoolean(W)?F=W:W&&(F=!!W.visible,j=!!W.disabled),!j&&!y&&(y=!0,n=j),F&&!h&&(h=!0,r=F),h&&y)break}}return{code:e,visible:r,disabled:n}}const ZA={getCheckInfo(e){return Ya(e)},checkVisible(e){return Ya(e).visible},checkDisable(e){return Ya(e).disabled}},QA=new Bh;function JA(e){const t=Qo("xeSizeInfo",null),r=ke(()=>e.size||(t?t.value:null));return Xr("xeSizeInfo",r),{computeSize:r}}function e0(e){return{computePermissionInfo:ke(()=>Ya(e.permissionCode,e.permissionMethod))}}const t0={useSize:JA,usePermission:e0},Of=[];function o0(e,t){return e&&e.install&&Of.indexOf(e)===-1&&(e.install(me,t),Of.push(e)),me}const ri={};function r0(e){return ri[e]||null}function n0(e){return!!ri[e]}function l0(e){e&&e.name&&(ri[e.name]=e,ri[a.kebabCase(e.name)]=e)}function s0(){return ir()}function a0(e,t,r){if(e){const n=`${e}`.match(/(\d+).(\d+).(\d+)/);if(n){const c=a.toNumber(n[1]);if(r){const u=a.toNumber(n[2]);return c>=t&&u>=r}return c>=t}}return!1}const me=Object.assign(Al,{renderEmptyElement:s0,setTheme:ed,getTheme:TA,setConfig:MA,getConfig:IA,setIcon:kA,getIcon:kh,renderGlobalIcon:LA,renderCustomIcon:Lh,setLanguage:GA,hasLanguage:WA,getLanguage:jA,setI18n:zA,getI18n:_h,globalEvents:PA,GLOBAL_EVENT_KEYS:Ol,createEvent:HA,globalResize:VA,renderer:gs,validators:Nh,menus:Vh,formats:Gh,commands:zh,interceptor:Xa,clipboard:KA,log:Rn,permission:ZA,globalStore:AA,hooks:QA,component:l0,getComponent:r0,hasComponent:n0,useFns:t0,getSlotVNs:Ah,checkVersion:a0,use:o0});ed();const{getConfig:Wh}=me;function it(e){return e&&e.enabled!==!1}function qr(e){return e==null||e===""}function jh(e){const t=e.name,r=a.lastIndexOf(t,"."),n=t.substring(r+1,t.length).toLowerCase();return{filename:t.substring(0,r),type:n}}function qh(){return Jc.getNext()}function Uh(){return Jc.getCurrent()}function vs(e){return e&&e.children&&e.children.length>0}function Sn(e,t){if(a.eqNull(e))return"";const r=Wh().translate;return`${r?r(""+e,t):e}`}function qo(e,t){return""+(qr(e)?t?Wh().emptyCell:"":e)}function Cn(e){return e===""||a.eqNull(e)}const td="4.17.38";me.version=td;me.tableVersion=td;me.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},headerTooltipConfig:{enterable:!0},footerTooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{autoOptions:{isCalcHeader:!0,isCalcBody:!0,isCalcFooter:!0},maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},menuConfig:{destroyOnClose:!0},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",storeOptions:{visible:!0,resizable:!0,sort:!0,fixed:!0},modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{destroyOnClose:!0,multiple:!0,showIcon:!0},floatingFilterConfig:{},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0,maxGroupSize:4,showAggFuncTitle:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0,showRootLine:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{x:{visible:!0},y:{visible:!0}},undoHistoryConfig:{isEditRow:!0}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showLoading:!0,showResponseMsg:!0,showActionMsg:!0,response:{list:"list",result:"result",total:"page.total",footerData:"footerData",message:"message"}}},toolbar:{},gantt:{}});const kt="vxe-table-icon-";me.setIcon({TABLE_SORT_ASC:kt+"caret-up",TABLE_SORT_DESC:kt+"caret-down",TABLE_FILTER_NONE:kt+"funnel",TABLE_FILTER_MATCH:kt+"funnel",TABLE_EDIT:kt+"edit",TABLE_TITLE_PREFIX:kt+"question-circle-fill",TABLE_TITLE_SUFFIX:kt+"question-circle-fill",TABLE_TREE_LOADED:kt+"spinner roll",TABLE_TREE_OPEN:kt+"caret-right rotate90",TABLE_TREE_CLOSE:kt+"caret-right",TABLE_EXPAND_LOADED:kt+"spinner roll",TABLE_EXPAND_OPEN:kt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:kt+"arrow-right",TABLE_CHECKBOX_CHECKED:kt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:kt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:kt+"checkbox-indeterminate-fill",TABLE_CHECKBOX_DISABLED_UNCHECKED:kt+"checkbox-unchecked-fill",TABLE_RADIO_CHECKED:kt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:kt+"radio-unchecked",TABLE_RADIO_DISABLED_UNCHECKED:kt+"radio-unchecked-fill",TABLE_CUSTOM_SORT:kt+"drag-handle",TABLE_MENU_OPTIONS:kt+"arrow-right",TABLE_MENU_OPTION_LOADING:kt+"repeat roll",TABLE_DRAG_ROW:kt+"drag-handle",TABLE_DRAG_COLUMN:kt+"drag-handle",TABLE_DRAG_STATUS_ROW:kt+"sort",TABLE_DRAG_STATUS_SUB_ROW:kt+"add-sub",TABLE_DRAG_STATUS_AGG_GROUP:kt+"grouping",TABLE_DRAG_STATUS_AGG_VALUES:kt+"values",TABLE_DRAG_STATUS_COLUMN:kt+"swap",TABLE_DRAG_DISABLED:kt+"no-drop",TABLE_ROW_GROUP_OPEN:kt+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:kt+"arrow-right",TABLE_AGGREGATE_GROUPING:kt+"grouping",TABLE_AGGREGATE_VALUES:kt+"values",TABLE_AGGREGATE_SORT:kt+"drag-handle",TABLE_AGGREGATE_DELETE:kt+"close",TOOLBAR_TOOLS_REFRESH:kt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:kt+"repeat roll",TOOLBAR_TOOLS_IMPORT:kt+"upload",TOOLBAR_TOOLS_EXPORT:kt+"download",TOOLBAR_TOOLS_PRINT:kt+"print",TOOLBAR_TOOLS_FULLSCREEN:kt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:kt+"minimize",TOOLBAR_TOOLS_CUSTOM:kt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:kt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:kt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:kt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:kt+"fixed-right-fill"});const i0=me.setTheme,c0=me.getTheme,d0=me.setConfig,u0=me.getConfig,f0=me.setIcon,g0=me.getIcon,p0=me.setLanguage,h0=me.setI18n,v0=me.getI18n,m0=me.globalEvents,b0=me.globalResize,x0=me.renderer,C0=me.validators,w0=me.menus,y0=me.formats,E0=me.commands,R0=me.interceptor,S0=me.clipboard,O0=me.log,D0=me.hooks,F0=me.use,Xh=e=>me.setConfig(e);me.setup=Xh;const Yh=e=>me.setConfig(e);me.config=Yh;const Kh=(e,t)=>me.getI18n(e,t);me.t=Kh;const Zh=(e,t)=>Sn(e,t);me._t=Zh;const $0=me,T0=e=>me.saveFile(e),M0=e=>me.readFile(e),I0=e=>me.print(e),A0={get(e){return me.modal.get(e)},close(e){return me.modal.close(e)},open(e){return me.modal.open(e)},alert(e,t,r){return me.modal.alert(e,t,r)},confirm(e,t,r){return me.modal.confirm(e,t,r)},message(e,t){return me.modal.message(e,t)},notification(e,t,r){return me.modal.notification(e,t,r)}},Gr=bm,{log:Qh}=me,Jh="table v4.17.38",ot=Qh.create("warn",Jh),We=Qh.create("error",Jh),{getI18n:k0,formats:Df,renderer:L0}=me;class Ic{constructor(t,r,{renderHeader:n,renderCell:c,renderFooter:u,renderData:h}={}){const y=t.props,w=t.xeGrid,H=t.xeGantt,S=w||H,{field:F,editRender:j,filterRender:W,headerFormatter:Y}=r,m=r.colId||a.uniqueId("col_"),g=r.formatter,L=a.isBoolean(r.visible)?r.visible:!0,te=it(W)?L0.get(W.name):null,$=te?te.createTableFilterOptions:null,J=ni(r.filters,m);Y&&We("vxe.error.notProp",["header-formatter"]);const ue=["seq","checkbox","radio","expand","html"];if(r.type&&ue.indexOf(r.type)===-1&&ot("vxe.error.errProp",[`type=${r.type}`,ue.join(", ")]),(a.isBoolean(r.cellRender)||r.cellRender&&!a.isObject(r.cellRender))&&ot("vxe.error.errProp",[`column.cell-render=${r.cellRender}`,"column.cell-render={}"]),(a.isBoolean(r.editRender)||r.editRender&&!a.isObject(r.editRender))&&ot("vxe.error.errProp",[`column.edit-render=${r.editRender}`,"column.edit-render={}"]),r.type==="expand"){const{treeConfig:le}=y,{computeTreeOpts:M}=t.getComputeMaps(),I=M.value;le&&(I.showLine||I.line)&&We("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(g){if(a.isString(g)){const le=Df.get(g)||a[g];(!le||!a.isFunction(le.tableCellFormatMethod||le.cellFormatMethod))&&We("vxe.error.notFormats",[g])}else if(a.isArray(g)){const le=Df.get(g[0])||a[g[0]];(!le||!a.isFunction(le.tableCellFormatMethod||le.cellFormatMethod))&&We("vxe.error.notFormats",[g[0]])}}if(r.aggFunc&&!t.handlePivotTableAggregateData&&r.aggFunc!==!0&&We("vxe.error.errProp",[`column.agg-func=${r.aggFunc}`,"column.agg-func=true"]),F&&j&&(j.startField&&`${j.startField}`.indexOf(F)>=0&&We("vxe.error.modelConflicts",[`field=${F}`,`edit-render.startField=${j.startField}`]),j.endField&&`${j.endField}`.indexOf(F)>=0&&We("vxe.error.modelConflicts",[`field=${F}`,`edit-render.endField=${j.endField}`])),Object.assign(this,{type:r.type,property:r.field,field:F,title:r.title,width:r.width,minWidth:r.minWidth,maxWidth:r.maxWidth,resizable:r.resizable,fixed:r.fixed,align:r.align,headerAlign:r.headerAlign,footerAlign:r.footerAlign,showOverflow:r.showOverflow,showHeaderOverflow:r.showHeaderOverflow,showFooterOverflow:r.showFooterOverflow,className:r.className,headerClassName:r.headerClassName,footerClassName:r.footerClassName,formatter:g,headerFormatter:r.headerFormatter,footerFormatter:r.footerFormatter,padding:r.padding,verticalAlign:r.verticalAlign,sortable:r.sortable,sortBy:r.sortBy,sortType:r.sortType,filters:J,filterMultiple:a.isBoolean(r.filterMultiple)?r.filterMultiple:!0,filterMethod:r.filterMethod,filterResetMethod:r.filterResetMethod,filterRecoverMethod:r.filterRecoverMethod,filterRender:W,floatingFilters:r.floatingFilters,rowGroupNode:r.rowGroupNode,treeNode:r.treeNode,dragSort:r.dragSort,rowResize:r.rowResize,cellType:r.cellType,cellRender:r.cellRender,editRender:j,contentRender:r.contentRender,headerExportMethod:r.headerExportMethod,exportMethod:r.exportMethod,footerExportMethod:r.footerExportMethod,titleHelp:r.titleHelp,titlePrefix:r.titlePrefix,titleSuffix:r.titleSuffix,aggFunc:r.aggFunc,copyMethod:r.copyMethod,cutMethod:r.cutMethod,pasteMethod:r.pasteMethod,params:r.params,id:m,parentId:null,visible:L,defaultParentId:null,halfVisible:!1,defaultVisible:L,defaultFixed:r.fixed,defaultAggGroup:r.aggGroup,defaultAggFunc:r.aggFunc,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||r.renderHeader,renderCell:c||r.renderCell,renderFooter:u||r.renderFooter,renderData:h,slots:r.slots}),$&&(!J||!J.length)&&(this.filters=ni($({$table:t,column:this}),m)),S){const{computeProxyOpts:le}=S.getComputeMaps(),M=le.value;M.beforeColumn&&M.beforeColumn({$table:t,$grid:w,$gantt:H,column:this})}}getTitle(){return Sn(this.title||(this.type==="seq"?k0("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,r){t!=="filters"&&(t==="field"&&(this.property=r),this[t]=r)}}const ic={};let ms;function ev(){return ms||(ms=new Image,ms.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),ms}function Ac(){return ms||ev()}function tl(e,t){return e?a.isFunction(e)?e(t):e:""}function tv(e){return ic[e]||(ic[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),ic[e]}function kc(e){return e&&/^\d+(\.\d+)?(px)?$/.test(e)}function ps(e){return e&&/^\d+(\.\d+)?%$/.test(e)}function Hn(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(tv(t)))}function hr(e,t){e&&Hn(e,t)&&(e.className=e.className.replace(tv(t),""))}function Pr(e,t){e&&!Hn(e,t)&&(hr(e,t),e.className=`${e.className} ${t}`)}function oa(e){return e.ctrlKey||e.metaKey}function ll(e,t="px"){return a.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function kn(e,t){return e?e.querySelector(t):null}function mi(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function qs(e){return e?e.offsetHeight:0}function Lc(e){if(e){const t=getComputedStyle(e),r=a.toNumber(t.paddingTop),n=a.toNumber(t.paddingBottom);return r+n}return 0}function io(e,t){e&&(e.scrollTop=t)}function co(e,t){e&&(e.scrollLeft=t)}function od(e,t){const r=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==r&&e.setAttribute("title",r)}function Ff(e,t,r){let n=e;if(!t||!t.length)return!1;const[c,u,h]=t;for(;n;){if(c===n||u&&n===u||h&&n===h)return!0;if(r&&n===r)return!1;n=n.parentElement}return!1}function Jt(e,t,r,n){let c,u=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;u&&u.nodeType&&u!==document;){if(r&&Hn(u,r)&&(!n||n(u)))c=u;else if(u===t)return{flag:r?!!c:!0,container:t,targetElem:c};u=u.parentNode}return{flag:!1}}function Ka(e){const t=e.getBoundingClientRect(),r=t.top,n=t.left,{scrollTop:c,scrollLeft:u,visibleHeight:h,visibleWidth:y}=mi();return{boundingTop:r,top:c+r,boundingLeft:n,left:u+n,visibleHeight:h,visibleWidth:y}}const $f="scrollIntoViewIfNeeded",Tf="scrollIntoView";function H0(e){e&&(e[$f]?e[$f]():e[Tf]&&e[Tf]())}function P0(e,t){e&&e.dispatchEvent(new Event(t))}function Mf(){return{tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},footerFullDataRowData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeHeaderList:[],mergeHeaderMaps:{},mergeHeaderCellMaps:{},mergeBodyList:[],mergeBodyMaps:{},mergeBodyCellMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},tHeaderHeight:0,tBodyHeight:0,tFooterHeight:0,teleportToWrapperElem:null,popupToWrapperElem:null,inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1}}const ov=(e,t)=>{const r=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(c=>c.visible)?(r.push(n),r.push(...ov(n.children,n))):r.push(n))}),r},_0=e=>{let t=1;const r=(u,h)=>{if(h&&(u.level=h.level+1,t<u.level&&(t=u.level)),u.children&&u.children.length&&u.children.some(y=>y.visible)){let y=0;u.children.forEach(w=>{w.visible&&(r(w,u),y+=w.colSpan)}),u.colSpan=y}else u.colSpan=1};e.forEach(u=>{u.level=1,r(u)});const n=[];for(let u=0;u<t;u++)n.push([]);return ov(e).forEach(u=>{u.children&&u.children.length&&u.children.some(h=>h.visible)?u.rowSpan=1:u.rowSpan=t-u.level+1,n[u.level-1].push(u)}),n};function B0(e){const t=e.length,r=e[0].reduce((u,h)=>u+h.colSpan,0),n=[],c=[];for(let u=0;u<t;u++){const h=[],y=[];for(let w=0;w<r;w++)h.push(!1),y.push("");n.push(h),c.push(y)}for(let u=0;u<t;u++){let h=0;for(const y of e[u]){const{colSpan:w,rowSpan:H}=y;let S=-1;for(let F=h;F<=r-w;F++){let j=!0;for(let W=0;W<w;W++)if(n[u][F+W]){j=!1;break}if(j){S=F;break}}if(S===-1){for(let F=0;F<=r-w;F++){let j=!0;for(let W=0;W<w;W++)if(n[u][F+W]){j=!1;break}if(j){S=F;break}}if(S===-1)break}for(let F=u;F<u+H;F++)for(let j=S;j<S+w;j++)n[F][j]=!0,c[F][j]=y;h=S+w}}return c}function Us(e,t,r){const n=e.internalData;return t||r?(n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,r)):e.clearScroll()}function ra(){return a.uniqueId("row_")}function N0(e){return e.indexOf(".")>-1}function Jl(e){const{currKeyField:t}=e.internalData;return t}function Ge(e,t){const r=e.internalData,{isCurrDeepKey:n,currKeyField:c}=r;return t?bi((n?rd:nd)(t,c)):""}function If(e){const t=e.internalData,{isCurrDeepKey:r,currKeyField:n}=t,c=r?V0:G0;return{rowKey:n,handleUpdateRowId(u){return u?c(u,n):""}}}function So(e){const t=e.internalData,{isCurrDeepKey:r,currKeyField:n}=t,c=r?rd:nd;return{rowKey:n,handleGetRowId(u){return u?bi(c(u,n)):""}}}function bi(e){return a.eqNull(e)?"":encodeURIComponent(e)}function rd(e,t){return a.get(e,t)}function V0(e,t){let r=bi(rd(e,t));return Cn(r)&&(r=ra(),a.set(e,t,r)),r}function nd(e,t){return e[t]}function G0(e,t){let r=bi(nd(e,t));return Cn(r)&&(r=ra(),e[t]=r),r}function vo(e,t){return t?a.isString(t)||a.isNumber(t)?e.getColumnByField(`${t}`):t:null}function Af(e,t){if(t){const r=a.isString(t)||a.isNumber(t)?t:Ge(e,t);return e.getRowById(r)}return null}function Fr(e,t,r,n){return e.resizeHeight||t.height||r.height||e.height||n}function kf(e){if(e){const t=getComputedStyle(e),r=a.toNumber(t.paddingLeft),n=a.toNumber(t.paddingRight);return r+n}return 0}function Qn(e){if(e){const t=getComputedStyle(e),r=a.toNumber(t.marginLeft),n=a.toNumber(t.marginRight);return e.offsetWidth+r+n}return 0}function ni(e,t){return e&&(a.isArray(e)?e.map(({label:r,value:n,data:c,resetValue:u,checked:h})=>({label:r,value:n,data:c,resetValue:u,checked:!!h,_checked:!!h,_colId:t})):[])}function Lf(e){return e.map((t,r)=>r%2===0?Number(t)+1:".").join("")}function No(e,t){return a.get(e,t.field)}function on(e,t,r){return a.set(e,t.field,r)}function ct(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function sa(e){return e==="unset"?0:e||0}function Hf(e){const{$table:t,column:r,cell:n}=e,c=t.props,u=t.internalData,{computeResizableOpts:h}=t.getComputeMaps(),y=h.value,{minWidth:w}=y;if(w){const ue=a.isFunction(w)?w(e):w;if(ue!=="auto")return Math.max(1,a.toNumber(ue))}const{elemStore:H}=u,{showHeaderOverflow:S}=c,{showHeaderOverflow:F,minWidth:j}=r,W=a.isUndefined(F)||a.isNull(F)?S:F,L=W==="title"||(W===!0||W==="tooltip")||W==="ellipsis",te=a.floor((a.toNumber(getComputedStyle(n).fontSize)||14)*1.8),$=kf(n)+kf(kn(n,".vxe-cell"));let J=te+$;if(L){const ue=Qn(kn(n,".vxe-cell--drag-handle")),le=Qn(kn(n,".vxe-cell--checkbox")),M=Qn(kn(n,".vxe-cell--required-icon")),I=Qn(kn(n,".vxe-cell--edit-icon")),k=Qn(kn(n,".vxe-cell-title-prefix-icon")),K=Qn(kn(n,".vxe-cell-title-suffix-icon")),ie=Qn(kn(n,".vxe-cell--sort")),U=Qn(kn(n,".vxe-cell--filter"));J+=ue+le+M+I+k+K+U+ie}if(j){const ue=ct(H["main-body-scroll"]);if(ue){if(ps(j)){const M=(ue.clientWidth-1)/100;return Math.max(J,Math.floor(a.toInteger(j)*M))}else if(kc(j))return Math.max(J,a.toInteger(j))}}return J}function Za(e){return e&&(e.constructor===Ic||e instanceof Ic)}function na(e){const t=[];return e.forEach(r=>{t.push(...r.children&&r.children.length?na(r.children):[r])}),t}function z0(e,t,r){return Za(t)?t:Br(new Ic(e,t,r))}function rv(e,t,r){Object.keys(t).forEach(n=>{It(()=>t[n],c=>{r.update(n,c),e&&(n==="filters"?(e.setFilter(r,c),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function nv(e,t,r,n){const{reactData:c}=e,{staticColumns:u}=c,h=t.parentNode,y=n?n.columnConfig:null,w=y?y.children:u;h&&w&&(r.defaultParentId=y?y.id:null,w.splice(a.arrayIndexOf(h.children,t),0,r),c.staticColumns=u.slice(0))}function lv(e,t){const{reactData:r}=e,{staticColumns:n}=r,c=a.findTree(n,u=>u.id===t.id,{children:"children"});c&&c.items.splice(c.index,1),r.staticColumns=n.slice(0)}function Pf(e,t){const{internalData:r}=e,{fullColumnIdData:n}=r;if(!t)return null;let c=t.parentId;for(;n[c];){const u=n[c].column;if(c=u.parentId,!c)return u}return t}function sv(e){const{children:t}=e;return t&&t.length?sv(a.first(t)):e}function W0(e){const{children:t}=e;return t&&t.length?sv(a.last(t)):e}function j0(e){const{props:t,internalData:r}=e;r.initStatus=!1;const n=[e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow()];return e.clearFilter&&n.push(e.clearFilter()),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&n.push(e.clearSelected()),e.clearCellAreas&&t.mouseConfig&&n.push(e.clearCellAreas(),e.clearCopyCellArea()),Promise.all(n).then(()=>e.clearScroll())}function q0(e){return e.clearFilter&&e.clearFilter(),j0(e)}function _f(e,t){const r=e.props,n=e.reactData,c=e.internalData,{computeLeftFixedWidth:u,computeRightFixedWidth:h,computeRowOpts:y,computeCellOpts:w,computeDefaultRowHeight:H}=e.getComputeMaps(),{showOverflow:S}=r,{scrollYLoad:F,scrollYTop:j}=n,{elemStore:W,afterFullData:Y,fullAllDataRowIdData:m,isResizeCellHeight:g}=c,L=y.value,te=w.value,$=H.value,J=u.value,ue=h.value,le=ct(W["main-body-scroll"]),M=Ge(e,t);if(le){const I=le.clientHeight,k=le.scrollTop,K=le.querySelector(`[rowid="${M}"]`);if(K){const ie=K.offsetTop+(F?j:0),U=K.clientHeight;if(ie<k||ie>k+I)return e.scrollTo(null,ie);if(ie+U>=I+k)return e.scrollTo(null,k+U)}else if(F){if(!(g||te.height||L.height)&&S)return e.scrollTo(null,(e.findRowIndexOf(Y,t)-1)*$);const U=m[M]||{},q=U.resizeHeight||te.height||L.height||U.height||$,ee=U.oTop;return ee<k?e.scrollTo(null,ee-J-1):e.scrollTo(null,ee+q-(I-ue-1))}}return Promise.resolve()}function Bf(e,t,r){const n=e.reactData,c=e.internalData,{computeLeftFixedWidth:u,computeRightFixedWidth:h}=e.getComputeMaps(),{scrollXLoad:y,scrollXLeft:w}=n,{elemStore:H,visibleColumn:S}=c,F=u.value,j=h.value,W=ct(H["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(W){const Y=W.clientWidth,m=W.scrollLeft;let g=null;if(r){const L=Ge(e,r);g=W.querySelector(`[rowid="${L}"] .${t.id}`)}if(g||(g=W.querySelector(`.${t.id}`)),g){const L=g.offsetLeft+(y?w:0),te=g.clientWidth;if(L<m+F)return e.scrollTo(L-F-1);if(L+te-m>Y-j)return e.scrollTo(L+te-(Y-j-1))}else if(y){let L=0;const te=t.renderWidth;for(let $=0;$<S.length;$++){const J=S[$];if(J===t||J.id===t.id)break;L+=J.renderWidth}return L<m?e.scrollTo(L-F-1):e.scrollTo(L+te-(Y-j-1))}}return Promise.resolve()}function rn(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function av(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function iv(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function U0(e){switch(e.name){case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return!0}return!1}function Oo(e){return e==null?[]:a.isArray(e)?e:[e]}const{getI18n:Xs,getIcon:uo,renderer:ea,renderEmptyElement:ol}=me;function X0(e){const{$table:t,column:r}=e,n=r.titlePrefix||r.titleHelp;return n?x("span",{class:["vxe-cell-title-prefix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(c){t.triggerHeaderTitleEvent(c,n,e)},onMouseleave(c){t.handleTargetLeaveEvent(c)}},[x("i",{class:n.icon||uo().TABLE_TITLE_PREFIX})]):ol(t)}function Y0(e){const{$table:t,column:r}=e,n=r.titleSuffix;return n?x("span",{class:["vxe-cell-title-suffix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(c){t.triggerHeaderTitleEvent(c,n,e)},onMouseleave(c){t.handleTargetLeaveEvent(c)}},[x("i",{class:n.icon||uo().TABLE_TITLE_SUFFIX})]):ol(t)}function Nf(e){const{$table:t,column:r}=e,{context:n}=t,c=n.slots,u=t.props,{slots:h}=r,{dragConfig:y}=u,{computeRowDragOpts:w}=t.getComputeMaps(),H=w.value,{icon:S,trigger:F,disabledMethod:j}=H,W=j||(y?y.rowDisabledMethod:null),Y=W&&W(e),m=(h?h.rowDragIcon||h["row-drag-icon"]:null)||c.rowDragIcon||c["row-drag-icon"],g={};return F!=="cell"&&(g.onMousedown=L=>{Y||t.handleCellDragMousedownEvent(L,e)},g.onMouseup=t.handleCellDragMouseupEvent),x("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":Y}]},g),m?t.callSlot(m,e):[x("i",{class:S||(y?y.rowIcon:"")||uo().TABLE_DRAG_ROW})])}function Bo(e,t){const{$table:r,column:n,level:c}=e,{dragSort:u}=n,h=r.props,{treeConfig:y,dragConfig:w}=h,{computeRowOpts:H,computeRowDragOpts:S,computeTreeOpts:F}=r.getComputeMaps(),j=H.value,W=S.value,Y=F.value,{showIcon:m,isPeerDrag:g,isCrossDrag:L,visibleMethod:te}=W,$=te||(w?w.rowVisibleMethod:null),J=[];return u&&j.drag&&(m||w&&w.showRowIcon)&&(!$||$(e))&&(y?Y.transform&&(g||L||!c)&&J.push(Nf(e)):J.push(Nf(e))),J.concat(a.isArray(t)?t:[t])}function K0(e){const{$table:t,column:r}=e,{context:n}=t,c=n.slots,{slots:u}=r,{computeColumnOpts:h,computeColumnDragOpts:y}=t.getComputeMaps(),w=h.value,H=y.value,{showIcon:S,icon:F,trigger:j,isPeerDrag:W,isCrossDrag:Y,visibleMethod:m,disabledMethod:g}=H;if(w.drag&&S&&(!m||m(e))&&!r.fixed&&(W||Y||!r.parentId)){const L=g&&g(e),te=(u?u.columnDragIcon||u["column-drag-icon"]:null)||c.columnDragIcon||c["column-drag-icon"],$={};return j!=="cell"&&($.onMousedown=J=>{L||t.handleHeaderCellDragMousedownEvent(J,e)},$.onMouseup=t.handleHeaderCellDragMouseupEvent),x("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":L}]},$),te?t.callSlot(te,e):[x("i",{class:F||uo().TABLE_DRAG_COLUMN})])}return ol(t)}function hn(e,t){return[X0(e),K0(e),...a.isArray(t)?t:[t],Y0(e)]}function Z0(e,t){return e.type==="html"&&a.isString(t)?x("span",{key:"ch",innerHTML:t}):x("span",{key:"ct"},Oo(t))}function Jn(e,t){const{$table:r,column:n}=e,c=r.props,u=r.reactData,{computeHeaderTooltipOpts:h}=r.getComputeMaps(),{showHeaderOverflow:y}=c,{isRowGroupStatus:w}=u,{showHeaderOverflow:H,slots:S}=n,F=S?S.title:null,W=h.value.showAll,Y=a.eqNull(H)?y:H,m=Y==="title",g=Y===!0||Y==="tooltip",L={};(m||g||W)&&(L.onMouseenter=$=>{u.isDragResize||(m?od($.currentTarget,n):(g||W)&&r.triggerHeaderTooltipEvent($,e))}),(g||W)&&(L.onMouseleave=$=>{u.isDragResize||(g||W)&&r.handleTargetLeaveEvent($)});const te=Z0(n,t);return[x("span",Object.assign({class:"vxe-cell--title"},L),w&&n.aggFunc&&r.getPivotTableAggregateRenderColTitles?r.getPivotTableAggregateRenderColTitles(n,te):F?r.callSlot(F,e):[te])]}function Q0(e){const{$table:t,column:r,row:n}=e,c=t.props,{editConfig:u}=c,{slots:h,editRender:y,cellRender:w}=r,H=h?h.footer:null;if(H)return t.callSlot(H,e);const F=u&&it(u)&&it(y)?y:null,j=it(w)?w:null,W=F||j,Y=t.getFooterCellLabel(n,r);if(W){const m=ea.get(W.name);if(m){const g=m.renderTableFooter||m.renderFooter;if(g){const L=Object.assign(e,{cellValue:Y,itemValue:Y});return Oo(g(W,L))}}}return[x("span",{class:"vxe-cell--label"},qo(Y,1))]}function Vf(e){const{$table:t,row:r,column:n}=e;return qo(t.getCellLabel(r,n),1)}function J0(e){const{column:t,row:r,$table:n}=e,c=n.props,u=n.reactData,{isRowGroupStatus:h}=u,{editConfig:y}=c,{type:w,treeNode:H,rowGroupNode:S,editRender:F}=t,{computeEditOpts:j,computeCheckboxOpts:W,computeAggregateOpts:Y}=n.getComputeMaps(),m=Y.value,{mode:g}=m,L=W.value,te=j.value,$=H||h&&(g==="column"?t.field===r.groupField:S);switch(w){case"seq":return $?yt.renderDeepIndexCell(e):yt.renderSeqCell(e);case"radio":return $?yt.renderDeepRadioCell(e):yt.renderRadioCell(e);case"checkbox":return L.checkField?$?yt.renderDeepSelectionCellByProp(e):yt.renderCheckboxCellByProp(e):$?yt.renderDeepSelectionCell(e):yt.renderCheckboxCell(e);case"expand":return yt.renderExpandCell(e);case"html":return $?yt.renderDeepHTMLCell(e):yt.renderHTMLCell(e)}return(y&&it(y)&&it(F)?F:null)?te.mode==="cell"?$?yt.renderDeepCellEdit(e):yt.renderCellEdit(e):$?yt.renderDeepRowEdit(e):yt.renderRowEdit(e):$?yt.renderDeepCell(e):yt.renderDefaultCell(e)}function ek(e){const{column:t,$table:r}=e,n=r.props,{editConfig:c}=n,{type:u,filters:h,sortable:y,editRender:w}=t;switch(u){case"seq":return yt.renderSeqHeader(e);case"radio":return yt.renderRadioHeader(e);case"checkbox":return yt.renderCheckboxHeader(e);case"html":if(h&&y)return yt.renderSortAndFilterHeader(e);if(y)return yt.renderSortHeader(e);if(h)return yt.renderFilterHeader(e);break}return(c&&it(c)&&it(w)?w:null)?yt.renderEditHeader(e):h&&y?yt.renderSortAndFilterHeader(e):y?yt.renderSortHeader(e):h?yt.renderFilterHeader(e):yt.renderDefaultHeader(e)}function tk(e){return yt.renderDefaultFooter(e)}const yt={createColumn(e,t){const{type:r}=t,n={renderHeader:ek,renderCell:J0,renderFooter:tk};return r==="expand"&&(n.renderData=yt.renderExpandData),z0(e,t,n)},renderHeaderTitle(e){const{$table:t,column:r}=e,n=t.props,{editConfig:c}=n,{slots:u,editRender:h,cellRender:y}=r,w=u?u.header:null;if(w)return Jn(e,t.callSlot(w,e));const S=c&&it(c)&&it(h)?h:null,F=it(y)?y:null,j=S||F;if(j){const W=ea.get(j.name);if(W){const Y=W.renderTableHeader||W.renderHeader;if(Y)return Jn(e,Oo(Y(j,e)))}}return Jn(e,qo(r.getTitle(),1))},renderDefaultHeader(e){return hn(e,yt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:r,column:n}=e,c=t.props,u=t.reactData,h=t.internalData,{isRowGroupStatus:y}=u,{editConfig:w}=c,{field:H,slots:S,editRender:F,cellRender:j,rowGroupNode:W,aggFunc:Y,formatter:m}=n,L=w&&it(w)&&it(F)?F:null,te=it(j)?j:null,$=S?S.default:null,J=S?S.groupContent||S["group-content"]:null,ue=S?S.groupValues||S["group-values"]:null;let le="";if(y&&H&&r.isAggregate){const I=r,{fullColumnFieldData:k}=h,{computeAggregateOpts:K}=t.getComputeMaps(),ie=K.value,{mode:U,showTotal:q,totalMethod:ee,countFields:ve,contentMethod:we,formatValuesMethod:ye,mapChildrenField:be}=ie,Me=I.aggData,ne=Me?Me[H]:null,Z=I.groupField,re=I.groupContent,de=be?I[be]||[]:[],pe=I.childCount,ge=k[Z]||{},ce={$table:t,groupField:Z,groupColumn:ge?ge.column:null,column:n,groupValue:re,childList:de,childCount:pe,aggValue:null,children:de,totalValue:pe};if(U==="column"?H===I.groupField:W){if(le=re,we&&(le=`${we(ce)}`),q&&(le=Xs("vxe.table.rowGroupContentTotal",[le,ee?ee(ce):pe,pe])),J)return Bo(e,t.callSlot(J,Object.assign({groupField:Z,groupContent:re,childList:de,childCount:pe},e)))}else if(t.getPivotTableAggregateCellAggValue){if(le=t.getPivotTableAggregateCellAggValue(e),ce.aggValue=le,ue)return Bo(e,t.callSlot(ue,Object.assign({groupField:Z,groupContent:re,childList:de,childCount:pe},e,ce)))}else if((Y===!0||ve&&ve.includes(H))&&(le=ne?ne.value:pe,ce.aggValue=le,ye&&(le=ye(ce)),ue))return Bo(e,t.callSlot(ue,Object.assign({groupField:Z,groupContent:re,childList:de,childCount:pe},e,ce)))}else{if($)return Bo(e,t.callSlot($,e));const I=L||te;if(I&&!m){const k=ea.get(I.name);if(k){const K=L?k.renderTableCell||k.renderCell:k.renderTableDefault||k.renderDefault;if(K)return Bo(e,Oo(K(I,Object.assign({$type:L?"edit":"cell"},e))))}}le=t.getCellLabel(r,n)}const M=L?L.placeholder:"";return Bo(e,[x("span",{class:"vxe-cell--label"},[L&&Cn(le)?x("span",{class:"vxe-cell--placeholder"},qo(Sn(M),1)):x("span",qo(le,1))])])},renderDeepCell(e){return yt.renderDeepNodeBtn(e,yt.renderDefaultCell(e))},renderDefaultFooter(e){return Q0(e)},renderRowGroupBtn(e,t){const{$table:r}=e,n=r.reactData,c=r.internalData,{row:u,level:h}=e,{computeAggregateOpts:y}=r.getComputeMaps(),{rowGroupExpandedFlag:w}=n,{rowGroupExpandedMaps:H}=c,S=y.value,{mode:F,padding:j,indent:W,showIcon:Y,iconOpen:m,iconClose:g}=S,L=Ge(r,u),te=!!w&&!!H[L];return x("div",{class:["vxe-row-group--tree-node",{"is--expanded":te}],style:F!=="column"&&j&&W?{paddingLeft:`${h*W}px`}:void 0},[Y&&u.isAggregate?x("span",{class:"vxe-row-group--node-btn",onClick($){r.triggerRowGroupExpandEvent($,e)}},[x("i",{class:te?m||uo().TABLE_ROW_GROUP_OPEN:g||uo().TABLE_ROW_GROUP_CLOSE})]):ol(r),x("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:r,isHidden:n}=e,c=r.reactData,u=r.internalData,{row:h,column:y,level:w}=e,{slots:H}=y,S=H?H.icon:null;if(S)return r.callSlot(S,e);const{computeTreeOpts:F}=r.getComputeMaps(),{treeExpandedFlag:j}=c,{fullAllDataRowIdData:W,treeExpandedMaps:Y,treeExpandLazyLoadedMaps:m}=u,g=F.value,{padding:L,indent:te,lazy:$,trigger:J,iconLoaded:ue,showIcon:le,iconOpen:M,iconClose:I}=g,k=g.children||g.childrenField,K=g.hasChild||g.hasChildField,ie=h[k],U=ie&&ie.length;let q=!1,ee=!1,ve=!1,we=!1;const ye={};if(!n){const be=Ge(r,h);if(ee=!!j&&!!Y[be],$){const Me=W[be];ve=!!m[be],q=h[K],we=!!Me.treeLoaded}}return(!J||J==="default")&&(ye.onClick=be=>{r.triggerTreeExpandEvent(be,e)}),x("div",{class:["vxe-cell--tree-node",{"is--active":ee}],style:L&&te?{paddingLeft:`${w*te}px`}:void 0},[le&&($?we?U:U||q:U)?[x("div",Object.assign({class:"vxe-cell--tree-btn"},ye),[x("i",{class:ve?ue||uo().TABLE_TREE_LOADED:ee?M||uo().TABLE_TREE_OPEN:I||uo().TABLE_TREE_CLOSE})])]:null,x("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:r,row:n,column:c}=e,{rowGroupNode:u}=c,h=r.reactData,{rowGroupList:y}=h;if(y.length){const{computeAggregateOpts:w}=r.getComputeMaps(),H=w.value,{mode:S}=H;if(S==="column"?c.field===n.groupField:u)return[yt.renderRowGroupBtn(e,t)]}return[yt.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:r}=e,{slots:n}=r,c=n?n.header:null;return hn(e,Jn(e,c?t.callSlot(c,e):qo(r.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:r}=e,n=t.props,{treeConfig:c}=n,{computeSeqOpts:u}=t.getComputeMaps(),h=u.value,{slots:y}=r,w=y?y.default:null;if(w)return Bo(e,t.callSlot(w,e));const{seq:H}=e,S=h.seqMethod;return Bo(e,[x("span",`${qo(S?S(e):c?H:(h.startIndex||0)+H,1)}`)])},renderDeepIndexCell(e){return yt.renderDeepNodeBtn(e,yt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:r}=e,{slots:n}=r,c=n?n.header:null,u=n?n.title:null;return hn(e,Jn(e,c?t.callSlot(c,e):[x("span",{class:"vxe-radio--label"},u?t.callSlot(u,e):qo(r.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:r,isHidden:n}=e,c=t.reactData,{computeRadioOpts:u}=t.getComputeMaps(),{selectRadioRow:h}=c,y=u.value,{slots:w}=r,{labelField:H,checkMethod:S,visibleMethod:F}=y,{row:j}=e,W=w?w.default:null,Y=w?w.radio:null,m=t.eqRow(j,h),g=!F||F({$table:t,row:j});let L=!!S,te;n||(te={onClick(ue){!L&&g&&t.triggerRadioRowEvent(ue,e)}},S&&(L=!S({$table:t,row:j})));const $=Object.assign(Object.assign({},e),{checked:m,disabled:L,visible:g});if(Y)return Bo(e,t.callSlot(Y,$));const J=[];return g&&J.push(x("span",{class:["vxe-radio--icon",m?uo().TABLE_RADIO_CHECKED:L?uo().TABLE_RADIO_DISABLED_UNCHECKED:uo().TABLE_RADIO_UNCHECKED]})),(W||H)&&J.push(x("span",{class:"vxe-radio--label"},W?t.callSlot(W,$):a.get(j,H))),Bo(e,[x("span",Object.assign({class:["vxe-cell--radio",{"is--checked":m,"is--disabled":L}]},te),J)])},renderDeepRadioCell(e){return yt.renderDeepNodeBtn(e,yt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:r,isHidden:n}=e,c=t.reactData,{computeIsAllCheckboxDisabled:u,computeCheckboxOpts:h}=t.getComputeMaps(),{isAllSelected:y,isIndeterminate:w}=c,H=u.value,{slots:S}=r,F=S?S.header:null,j=S?S.title:null,W=h.value,{checkStrictly:Y,showHeader:m,headerTitle:g}=W,L=r.getTitle(),te={};n||(te.onClick=J=>{H||t.triggerCheckAllEvent(J,!y)});const $=Object.assign(Object.assign({},e),{checked:y,disabled:H,indeterminate:w});return F?hn(e,Jn($,t.callSlot(F,$))):(Y?!m:m===!1)?hn(e,Jn($,[x("span",{class:"vxe-checkbox--label"},j?t.callSlot(j,$):L)])):hn(e,Jn($,[x("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":y,"is--disabled":H,"is--indeterminate":w}],title:a.eqNull(g)?Xs("vxe.table.allTitle"):`${g||""}`},te),[x("span",{class:["vxe-checkbox--icon",w?uo().TABLE_CHECKBOX_INDETERMINATE:y?uo().TABLE_CHECKBOX_CHECKED:H?uo().TABLE_CHECKBOX_DISABLED_UNCHECKED:uo().TABLE_CHECKBOX_UNCHECKED]})].concat(j||L?[x("span",{class:"vxe-checkbox--label"},j?t.callSlot(j,$):L)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:r,column:n,isHidden:c}=e,u=t.props,h=t.reactData,y=t.internalData,{treeConfig:w}=u,{updateCheckboxFlag:H,isRowGroupStatus:S}=h,{selectCheckboxMaps:F,treeIndeterminateRowMaps:j}=y,{computeCheckboxOpts:W,computeAggregateOpts:Y}=t.getComputeMaps(),m=Y.value,{mapChildrenField:g}=m,L=W.value,{labelField:te,checkMethod:$,visibleMethod:J}=L,{slots:ue}=n,le=ue?ue.default:null,M=ue?ue.checkbox:null;let I=!1,k=!1,K=!0,ie=!1;const U={};if(!c){const ve=Ge(t,r);if(k=!!H&&!!F[ve],$&&S&&t.isAggregateRecord(r)){const we=r[g||""];(!we||!we.length||we.every(ye=>!$({$table:t,row:ye})))&&(ie=!0)}else K=!J||J({$table:t,row:r}),ie=$?!$({$table:t,row:r}):!!$;(w||S)&&(I=!!j[ve]),U.onClick=we=>{!ie&&K&&t.triggerCheckRowEvent(we,e,!k)}}const q=Object.assign(Object.assign({},e),{checked:k,disabled:ie,visible:K,indeterminate:I});if(M)return Bo(e,t.callSlot(M,q));const ee=[];return K&&ee.push(x("span",{class:["vxe-checkbox--icon",I?uo().TABLE_CHECKBOX_INDETERMINATE:k?uo().TABLE_CHECKBOX_CHECKED:ie?uo().TABLE_CHECKBOX_DISABLED_UNCHECKED:uo().TABLE_CHECKBOX_UNCHECKED]})),(le||te)&&ee.push(x("span",{class:"vxe-checkbox--label"},le?t.callSlot(le,q):a.get(r,te))),Bo(e,[x("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":k,"is--disabled":ie,"is--indeterminate":I,"is--hidden":!K}]},U),ee)])},renderDeepSelectionCell(e){return yt.renderDeepNodeBtn(e,yt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:r,column:n,isHidden:c}=e,u=t.props,h=t.reactData,y=t.internalData,{treeConfig:w}=u,{updateCheckboxFlag:H,isRowGroupStatus:S}=h,{treeIndeterminateRowMaps:F}=y,{computeCheckboxOpts:j,computeAggregateOpts:W}=t.getComputeMaps(),Y=W.value,{mapChildrenField:m}=Y,g=j.value,{labelField:L,checkField:te,checkMethod:$,visibleMethod:J}=g,ue=g.indeterminateField||g.halfField,{slots:le}=n,M=le?le.default:null,I=le?le.checkbox:null;let k=!1,K=!1,ie=!0,U=!1;const q={};if(!c){const we=Ge(t,r);if(K=!!H&&a.get(r,te),$&&S&&t.isAggregateRecord(r)){const ye=r[m||""];(!ye||!ye.length||ye.every(be=>!$({$table:t,row:be})))&&(U=!0)}else ie=!J||J({$table:t,row:r}),U=$?!$({$table:t,row:r}):!!$;(w||S)&&(k=!!F[we]),q.onClick=ye=>{!U&&ie&&t.triggerCheckRowEvent(ye,e,!K)}}const ee=Object.assign(Object.assign({},e),{checked:K,disabled:U,visible:ie,indeterminate:k});if(I)return Bo(e,t.callSlot(I,ee));const ve=[];return ie&&(ve.push(x("span",{class:["vxe-checkbox--icon",k?uo().TABLE_CHECKBOX_INDETERMINATE:K?uo().TABLE_CHECKBOX_CHECKED:U?uo().TABLE_CHECKBOX_DISABLED_UNCHECKED:uo().TABLE_CHECKBOX_UNCHECKED]})),(M||L)&&ve.push(x("span",{class:"vxe-checkbox--label"},M?t.callSlot(M,ee):a.get(r,L)))),Bo(e,[x("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":K,"is--disabled":U,"is--indeterminate":ue&&!K?r[ue]:k,"is--hidden":!ie}]},q),ve)])},renderDeepSelectionCellByProp(e){return yt.renderDeepNodeBtn(e,yt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:r,row:n,column:c}=e,u=t.reactData,h=t.internalData,{isRowGroupStatus:y}=u,{rowExpandedMaps:w,rowExpandLazyLoadedMaps:H}=h,{computeExpandOpts:S}=t.getComputeMaps(),F=S.value,{lazy:j,labelField:W,iconLoaded:Y,showIcon:m,iconOpen:g,iconClose:L,visibleMethod:te}=F,{slots:$}=c,J=$?$.default:null,ue=$?$.icon:null;let le=!1,M=!1;if(y&&n.isAggregate)return Bo(e,[]);if(ue)return Bo(e,t.callSlot(ue,e));if(!r){const I=Ge(t,n);le=!!w[I],j&&(M=!!H[I])}return Bo(e,[m&&(!te||te(e))?x("span",{class:["vxe-table--expanded",{"is--active":le}],onMousedown(I){I.stopPropagation()},onClick(I){t.triggerRowExpandEvent(I,e)}},[x("i",{class:["vxe-table--expand-btn",M?Y||uo().TABLE_EXPAND_LOADED:le?g||uo().TABLE_EXPAND_OPEN:L||uo().TABLE_EXPAND_CLOSE]})]):ol(t),J||W?x("span",{class:"vxe-table--expand-label"},J?t.callSlot(J,e):a.get(n,W)):ol(t)])},renderExpandData(e){const{$table:t,column:r}=e,{slots:n,contentRender:c}=r,u=n?n.content:null;if(u)return t.callSlot(u,e);if(c){const h=ea.get(c.name);if(h){const y=h.renderTableExpand||h.renderExpand;if(y)return Oo(y(c,e))}}return[]},renderHTMLCell(e){const{$table:t,column:r}=e,{slots:n}=r,c=n?n.default:null;return c?Bo(e,t.callSlot(c,e)):Bo(e,[x("span",{class:"vxe-cell--html",innerHTML:Vf(e)})])},renderDeepHTMLCell(e){return yt.renderDeepNodeBtn(e,yt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return hn(e,yt.renderHeaderTitle(e).concat(yt.renderSortIcon(e).concat(yt.renderFilterIcon(e))))},renderSortHeader(e){return hn(e,yt.renderHeaderTitle(e).concat(yt.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:r}=e,{computeSortOpts:n}=t.getComputeMaps(),c=n.value,{showIcon:u,allowBtn:h,ascTitle:y,descTitle:w,iconLayout:H,iconAsc:S,iconDesc:F,iconVisibleMethod:j}=c,{order:W,slots:Y}=r;if(u&&(!j||j(e))){const m=Y?Y.sort:null;return m?Oo(t.callSlot(m,e)):[x("span",{class:["vxe-cell--sort",`vxe-cell--sort-${H}-layout`]},[x("i",{class:["vxe-sort--asc-btn",S||uo().TABLE_SORT_ASC,{"sort--active":W==="asc"}],title:a.eqNull(y)?Xs("vxe.table.sortAsc"):`${y||""}`,onClick:h?g=>{g.stopPropagation(),t.triggerSortEvent(g,r,"asc")}:void 0}),x("i",{class:["vxe-sort--desc-btn",F||uo().TABLE_SORT_DESC,{"sort--active":W==="desc"}],title:a.eqNull(w)?Xs("vxe.table.sortDesc"):`${w||""}`,onClick:h?g=>{g.stopPropagation(),t.triggerSortEvent(g,r,"desc")}:void 0})])]}return[]},renderFilterHeader(e){return hn(e,yt.renderHeaderTitle(e).concat(yt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:r,hasFilter:n}=e,c=t.reactData,{filterStore:u}=c,{computeFilterOpts:h}=t.getComputeMaps(),y=h.value,{showIcon:w,iconNone:H,iconMatch:S,iconVisibleMethod:F}=y;return w&&(!F||F(e))?[x("span",{class:["vxe-cell--filter",{"is--active":u.visible&&u.column===r}],onClick(j){t.triggerFilterEvent&&t.triggerFilterEvent(j,e.column,e)}},[x("i",{class:["vxe-filter--btn",n?S||uo().TABLE_FILTER_MATCH:H||uo().TABLE_FILTER_NONE],title:Xs("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:r}=e,n=t.props,{computeEditOpts:c}=t.getComputeMaps(),{editConfig:u,editRules:h}=n,y=c.value,{sortable:w,filters:H,editRender:S}=r,F=u&&it(u),j=F&&it(S)?S:null;let W=!1;if(h){const m=a.get(h,r.field);m&&(W=m.some(g=>g.required))}let Y=[];if(F){const{showAsterisk:m,showIcon:g,icon:L}=y;Y=[W&&m?x("span",{class:"vxe-cell--required-icon"},[x("i")]):ol(t),j&&g?x("span",{class:"vxe-cell--edit-icon"},a.isFunction(L)?Oo(L({})):[x("i",{class:L||uo().TABLE_EDIT})]):ol(t)]}return hn(e,Y.concat(yt.renderHeaderTitle(e)).concat(w?yt.renderSortIcon(e):[]).concat(H?yt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:r}=e,n=t.props,{editConfig:c}=n,u=t.reactData,{editStore:h}=u,{actived:y}=h,{editRender:w}=r,S=c&&it(c)&&it(w)?w:null;return yt.runRenderer(e,!!(S&&y&&y.row===e.row))},renderDeepRowEdit(e){return yt.renderDeepNodeBtn(e,yt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:r}=e,n=t.props,{editConfig:c}=n,u=t.reactData,{editStore:h}=u,{actived:y}=h,{editRender:w}=r,S=c&&it(c)&&it(w)?w:null;return yt.runRenderer(e,!!(S&&y&&y.row===e.row&&y.column===e.column))},renderDeepCellEdit(e){return yt.renderDeepNodeBtn(e,yt.renderCellEdit(e))},runRenderer(e,t){const{$table:r,row:n,column:c}=e,u=r.props,{editConfig:h}=u,y=r.reactData,{isRowGroupStatus:w}=y,{slots:H,field:S,editRender:F,formatter:j}=c,Y=h&&it(h)&&it(F)?F:null,m=H?H.default:null,g=H?H.groupContent||H["group-content"]:null,L=H?H.edit:null,te=Object.assign({$type:"",isEdit:t},e);if(t&&Y){if(te.$type="edit",L)return r.callSlot(L,te);const $=ea.get(Y.name),J=$?$.renderTableEdit||$.renderEdit:null;return J?Oo(J(Y,te)):[]}if(w&&S&&n.isAggregate){const $=n,{computeAggregateOpts:J}=r.getComputeMaps(),ue=J.value,{mapChildrenField:le}=ue,M=$.groupField,I=$.groupContent,k=le?$[le]||[]:[],K=$.childCount;if(g)return Bo(e,r.callSlot(g,Object.assign({groupField:M,groupContent:I,childList:k,childCount:K},e)))}else if(m)return Bo(e,r.callSlot(m,te));return j?Bo(e,[x("span",{class:"vxe-cell--label"},Vf(te))]):yt.renderDefaultCell(te)}},cv={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],headerFormatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,floatingFilters:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],copyMethod:Function,cutMethod:Function,pasteMethod:Function,params:Object},rl=Gr({name:"VxeColumn",props:cv,setup(e,{slots:t}){const r=Xe(),n=Qo("$xeTable",null),c=Qo("$xeColgroup",null);if(!n)return()=>ir();const u=yt.createColumn(n,e);u.slots=t;const h=()=>x("div",{ref:r}),y={columnConfig:u,renderVN:h};return rv(n,e,u),Il(()=>{const w=r.value;w&&nv(n,w,u,c)}),Pn(()=>{lv(n,u)}),Xr("$xeColumn",y),Xr("$xeGrid",null),Xr("$xeGantt",null),h}}),ld=Object.assign({},rl,{install(e){e.component(rl.name,rl),e.component("VxeTableColumn",rl)}});me.dynamicApp&&(me.dynamicApp.component(rl.name,rl),me.dynamicApp.component("VxeTableColumn",rl));me.component(rl);const ok=ld,nl=Gr({name:"VxeColgroup",props:cv,setup(e,{slots:t}){const r=Xe(),n=Qo("$xeTable",null),c=Qo("$xeColgroup",null);if(!n)return()=>ir();const u=yt.createColumn(n,e),h={};t.header&&(h.header=t.header),u.slots=h,u.children=[],rv(n,e,u),Il(()=>{const H=r.value;H&&nv(n,H,u,c)}),Pn(()=>{lv(n,u)});const y=()=>x("div",{ref:r},t.default?t.default():[]);return Xr("$xeColgroup",{columnConfig:u}),Xr("$xeGrid",null),Xr("$xeGantt",null),y}}),sd=Object.assign({},nl,{install(e){e.component(nl.name,nl),e.component("VxeTableColgroup",nl)}});me.dynamicApp&&(me.dynamicApp.component(nl.name,nl),me.dynamicApp.component("VxeTableColgroup",nl));me.component(nl);const rk=sd,{getConfig:To}=me,li={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>null},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>To().table.resizable},stripe:{type:Boolean,default:()=>To().table.stripe},border:{type:[Boolean,String],default:()=>To().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>To().table.round},size:{type:String,default:()=>To().table.size||To().size},fit:{type:Boolean,default:()=>To().table.fit},loading:Boolean,align:{type:String,default:()=>To().table.align},headerAlign:{type:String,default:()=>To().table.headerAlign},footerAlign:{type:String,default:()=>To().table.footerAlign},showHeader:{type:Boolean,default:()=>To().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>To().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>To().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>To().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>To().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],showCustomHeader:{type:Boolean,default:()=>To().table.showCustomHeader},mergeHeaderCells:Array,mergeCells:Array,mergeFooterCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>To().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>To().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>To().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>To().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>To().table.emptyText},keepSource:{type:Boolean,default:()=>To().table.keepSource},autoResize:{type:Boolean,default:()=>To().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,floatingFilterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,headerTooltipConfig:Object,footerTooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,undoHistoryConfig:Object,animat:{type:Boolean,default:()=>To().table.animat},delayHover:{type:Number,default:()=>To().table.delayHover},params:Object},{getConfig:Gf}=me,nk=Object.assign(Object.assign({},li),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Gf().grid.size||Gf().size}}),ad=["ready","init-rendered","data-rendered","update:data","keydown-start","keydown","keydown-end","paste","copy","cut","context-menu","columns-change","data-change","footer-data-change","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","row-remove-dragend","row-insert-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","custom-visible-change","custom-visible-all","custom-fixed-change","custom-sort-change","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-extension-fill","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],lk=[...ad,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],si="row--drag-move",dv="col--drag-move";function La(e,t){a.arrayEach(e,r=>{r.style.transform=`translateY(${t}px)`}),requestAnimationFrame(()=>{a.arrayEach(e,r=>{Pr(r,si),r.style.transform=""})})}function sk(e,t){setTimeout(()=>{e&&a.arrayEach(e.querySelectorAll(t.map(r=>`${r}.${si}`).join(",")),r=>hr(r,si))},500)}function zf(e,t){a.arrayEach(e,r=>{r.style.transform=`translateX(${t}px)`}),requestAnimationFrame(()=>{a.arrayEach(e,r=>{Pr(r,dv),r.style.transform=""})})}function ak(e,t){setTimeout(()=>{e&&a.arrayEach(e.querySelectorAll(t.map(r=>`${r}.${si}`).join(",")),r=>hr(r,dv))},500)}const ik=Br({row:null});function ck(){return ik}const{getI18n:dk,renderer:Wf,renderEmptyElement:Ys}=me,jf="table",Ha="body",qf=Gr({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=Qo("$xeTable",{}),{xID:r,props:n,context:c,reactData:u,internalData:h}=t,{computeEditOpts:y,computeMouseOpts:w,computeCellOffsetWidth:H,computeAreaOpts:S,computeDefaultRowHeight:F,computeEmptyOpts:j,computeTooltipOpts:W,computeRadioOpts:Y,computeExpandOpts:m,computeTreeOpts:g,computeCheckboxOpts:L,computeCellOpts:te,computeValidOpts:$,computeRowOpts:J,computeColumnOpts:ue,computeRowDragOpts:le,computeResizableOpts:M,computeVirtualXOpts:I,computeVirtualYOpts:k,computeIsBodyRenderOptimize:K}=t.getComputeMaps(),ie=Xe(),U=Xe(),q=Xe(),ee=Xe(),ve=Xe(),we=Xe(),ye=Xe(),be=Xe(),Me=()=>{const{delayHover:pe}=n,{lastScrollTime:ge,isDragResize:ce}=u;return!!(ce||ge&&Date.now()<ge+pe)},ne=(pe,ge,ce)=>{const{column:Q}=ge,{treeConfig:Fe}=n,Je=te.value,Ie=J.value,je=F.value,Le=g.value,{slots:Pe,treeNode:Re}=Q,{fullAllDataRowIdData:V}=h;if(Fe&&Re&&(Le.showLine||Le.line)){if(Pe&&Pe.line)return t.callSlot(Pe.line,ge);const he=V[pe];let Ce=0,De=null,Be=null,Ze="";if(he&&(Ce=he.level,De=he.items[he.treeIndex-1],Be=he.parent),!Ce&&!Le.showRootLine)return[];if(De)Ze=`${(V[Ge(t,De)]||{}).lineHeight||0}px`;else if(Ce&&Be){const Ae=V[Ge(t,Be)]||{};Ze=`calc(-1em + ${Math.floor(ce/2+Fr(Ae,Je,Ie,je)/2)}px)`}return[x("div",{key:"tl",class:"vxe-tree--line-wrapper"},[x("div",{class:"vxe-tree--line",style:{height:Ze,bottom:`-${Math.floor(ce/2)}px`,left:`calc(${Ce*Le.indent}px + 1em)`}})])]}return[]},Z=(pe,ge,ce,Q,Fe,Je,Ie,je,Le,Pe,Re,V,he)=>{const Ce=t.xeGrid,De=t.xeGantt,{columnKey:Be,resizable:Ze,showOverflow:Ae,border:pt,height:Qe,treeConfig:qe,cellClassName:at,cellStyle:He,align:Ne,spanMethod:Ot,mouseConfig:xt,editConfig:Rt,editRules:Ue,tooltipConfig:rt,padding:st}=n,{tableData:bt,tableColumn:Ye,dragRow:Dt,overflowX:et,overflowY:Lt,currentColumn:Qt,scrollXLoad:Yt,scrollYLoad:ut,mergeBodyFlag:wt,calcCellHeightFlag:Kt,resizeHeightFlag:At,resizeWidthFlag:Pt,editStore:Xt,isAllOverflow:dt,validErrorMaps:_}=u,{fullAllDataRowIdData:ae,fullColumnIdData:Ee,mergeBodyCellMaps:Te,visibleColumn:ze,afterFullData:ft,mergeBodyList:St,scrollXStore:_t,scrollYStore:nt}=h,lt=te.value,Tt=$.value,zt=L.value,ao=y.value,dr=W.value,Jo=M.value,yo=I.value,Io=k.value,{isAllColumnDrag:vr,isAllRowDrag:mr}=Jo,lo=J.value,Uo=le.value,Wt=F.value,no=Kt?lt.height||lo.height:0,{disabledMethod:Vo,isCrossDrag:jt,isPeerDrag:Rr}=Uo,Ho=ue.value,Do=w.value,sn=S.value,fo=H.value,{selectCellToRow:Po}=sn,{type:Xo,cellRender:Fo,editRender:Ao,align:rr,showOverflow:Go,className:zo,treeNode:Sr,rowResize:zr,padding:$o,verticalAlign:Yo,slots:Or}=Pe,{verticalAlign:Zt}=lt,{actived:Ft}=Xt,nr=ae[ge]||{},ur=Pe.id,Gn=Ee[ur]||{},Mr=Ao||Fo,Ir=Mr?Wf.get(Mr.name):null,Bl=Ir?Ir.tableCellClassName||Ir.cellClassName:null,Nl=Ir?Ir.tableCellStyle||Ir.cellStyle:"",fl=dr.showAll,ga=Gn.index,gl=Gn._index,pa=it(Ao),ha=At?nr.resizeHeight:0;let Yr=et&&(ce?Pe.fixed!==ce:!!Pe.fixed);const va=a.eqNull($o)?st===null?lt.padding:st:$o,Vl=a.eqNull(Go)?Ae:Go,Ts=Vl==="ellipsis",i=Vl==="title",an=Vl===!0||Vl==="tooltip",pl=dt||i||an||Ts,Eo=a.isBoolean(Pe.resizable)?Pe.resizable:Ho.resizable||Ze,Gl=!!no,Ms=ha>0;let ma;const Kr={},zl=rr||(Ir?Ir.tableCellAlign:"")||Ne,Wl=a.eqNull(Yo)?Zt:Yo,Zr=_[`${ge}:${ur}`],yi=Ue&&Tt.showMessage&&(Tt.message==="default"?Qe||bt.length>1:Tt.message==="inline"),cn={colid:ur},ko={$table:t,$grid:Ce,$gantt:De,isEdit:!1,seq:pe,rowid:ge,row:Je,rowIndex:Ie,$rowIndex:je,_rowIndex:Le,column:Pe,columnIndex:ga,$columnIndex:Re,_columnIndex:gl,fixed:ce,source:jf,type:Ha,isHidden:!!Yr,level:Fe,visibleData:ft,data:bt,items:he};let $n=!1,ba=!1;lo.drag&&($n=Uo.trigger==="row"||Pe.dragSort&&Uo.trigger==="cell"),$n&&(ba=!!(Vo&&Vo(ko))),(i||an||fl||rt)&&(Kr.onMouseover=Ut=>{Me()||(i?od(Ut.currentTarget,Pe):(an||fl)&&t.triggerBodyTooltipEvent(Ut,ko)),t.dispatchEvent("cell-mouseenter",Object.assign({cell:Ut.currentTarget},ko),Ut)}),(an||fl||rt)&&(Kr.onMouseleave=Ut=>{Me()||(an||fl)&&t.handleTargetLeaveEvent(Ut),t.dispatchEvent("cell-mouseleave",Object.assign({cell:Ut.currentTarget},ko),Ut)}),($n||zt.range||xt)&&(Kr.onMousedown=Ut=>{t.triggerCellMousedownEvent(Ut,ko)}),$n&&(Kr.onMouseup=t.triggerCellMouseupEvent),Kr.onClick=Ut=>{t.triggerCellClickEvent(Ut,ko)},Kr.onDblclick=Ut=>{t.triggerCellDblclickEvent(Ut,ko)};let zn=!1,jl=1,ql=1;if(wt&&St.length){const Ut=Te[`${Le}:${gl}`];if(Ut){const{rowspan:_o,colspan:Ar}=Ut;if(!_o||!Ar)return Ys(t);_o>1&&(zn=!0,ql=_o,cn.rowspan=_o),Ar>1&&(zn=!0,jl=Ar,cn.colspan=Ar)}}else if(Ot){const{rowspan:Ut=1,colspan:_o=1}=Ot(ko)||{};if(!Ut||!_o)return Ys(t);Ut>1&&(zn=!0,ql=Ut,cn.rowspan=Ut),_o>1&&(zn=!0,jl=_o,cn.colspan=_o)}Yr&&zn&&(cn.colspan>1||cn.rowspan>1)&&(Yr=!1),!Yr&&Rt&&(Ao||Fo)&&(ao.showStatus||ao.showUpdateStatus)&&(ma=t.isUpdateByRow(Je,Pe.field));const Ei=!pl&&(ut||Yt);let Ul=Fr(nr,lt,lo,Wt);const Ri=Re===V.length-1,Si=!Pe.resizeWidth&&(Pe.minWidth==="auto"||Pe.width==="auto");let Xl=!1;if(zn||(!Dt||Ge(t,Dt)!==ge)&&(Lt&&ut&&bt.length>16&&!qe&&!Io.immediate&&(Le<nt.visibleStartIndex-nt.preloadSize||Le>nt.visibleEndIndex+nt.preloadSize)||et&&Yt&&Ye.length>10&&!yo.immediate&&!Pe.fixed&&(gl<_t.visibleStartIndex-_t.preloadSize||gl>_t.visibleEndIndex+_t.preloadSize))&&(Xl=!0),ql>1){const Ut=ft[Le+ql-1];if(Ut){const _o=ae[Ge(t,Ut)];_o&&(Ul+=_o.oTop+Fr(_o,lt,lo,Wt)-nr.oTop-Fr(nr,lt,lo,Wt))}}const Wn={};if(pl&&Pt){let Ut=0;if(jl>1)for(let _o=1;_o<jl;_o++){const Ar=ze[ga+_o];Ar&&(Ut+=Ar.renderWidth)}Wn.width=`${Pe.renderWidth+Ut-fo}px`}ut||Yt||pl||Gl||Ms?Wn.height=`${Ul}px`:Wn.minHeight=`${Ul}px`;const dn=[];if(Yr&&dt)dn.push(x("div",{key:"tc",class:["vxe-cell",{"c--title":i,"c--tooltip":an,"c--ellipsis":Ts}],style:Wn}));else if(qe&&dn.push(...ne(ge,ko,Ul)),dn.push(x("div",{key:"tc",class:["vxe-cell",{"c--title":i,"c--tooltip":an,"c--ellipsis":Ts}],style:Wn,title:i?t.getCellLabel(Je,Pe):null},Xl?[]:[x("div",{colid:ur,rowid:ge,class:"vxe-cell--wrapper vxe-body-cell--wrapper"},Pe.renderCell(ko))])),yi&&Zr){const Ut=Zr.rule,_o=Or?Or.valid:null,Ar=Object.assign(Object.assign(Object.assign({},ko),Zr),{rule:Zr});dn.push(x("div",{key:"tcv",class:["vxe-cell--valid-error-tip",tl(Tt.className,Ar)],style:Ut&&Ut.maxWidth?{width:`${Ut.maxWidth}px`}:null},[x("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Tt.theme||"normal"}`},[_o?t.callSlot(_o,Ar):[x("span",{class:"vxe-cell--valid-error-msg"},Zr.content)]])]))}let Yl=!1;return xt&&Do.area&&!gl&&Po&&(Yl=!0),!Yr&&Eo&&vr&&dn.push(x("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!pt||pt==="none"}],onMousedown:Ut=>t.handleColResizeMousedownEvent(Ut,ce,ko),onDblclick:Ut=>t.handleColResizeDblclickEvent(Ut,ko)})),(zr||mr)&&lo.resizable&&dn.push(x("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Ut=>t.handleRowResizeMousedownEvent(Ut,ko),onDblclick:Ut=>t.handleRowResizeDblclickEvent(Ut,ko)})),x("td",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-body--column",ur,Wl?`col--vertical-${Wl}`:"",zl?`col--${zl}`:"",Xo?`col--${Xo}`:"",{"col--last":Ri,"col--tree-node":Sr,"col--edit":pa,"col--ellipsis":pl,"col--cs-height":Gl,"col--rs-height":Ms,"col--to-row":Yl,"col--auto-height":Ei,"fixed--width":!Si,"fixed--hidden":Yr,"is--padding":va,"is--progress":Yr&&dt||Xl,"is--drag-cell":$n&&(jt||Rr||!Fe),"is--drag-disabled":ba,"col--dirty":ma,"col--active":Rt&&pa&&Ft.row===Je&&(Ft.column===Pe||ao.mode==="row"),"col--valid-error":!!Zr,"col--current":Qt===Pe},tl(Bl,ko),tl(zo,ko),tl(at,ko)],key:Be||Yt||ut||Ho.useKey||lo.useKey||Ho.drag?ur:Re},cn),{style:Object.assign({},a.isFunction(Nl)?Nl(ko):Nl,a.isFunction(He)?He(ko):He)}),Kr),Q&&Yr?[]:dn)},re=(pe,ge,ce,Q)=>{const Fe=t.xeGrid,Je=t.xeGantt,{stripe:Ie,rowKey:je,highlightHoverRow:Le,rowClassName:Pe,rowStyle:Re,editConfig:V,treeConfig:he}=n,{hasFixedColumn:Ce,treeExpandedFlag:De,scrollXLoad:Be,scrollYLoad:Ze,isAllOverflow:Ae,rowExpandedFlag:pt,expandColumn:Qe,selectRadioRow:qe,pendingRowFlag:at,rowExpandHeightFlag:He,isRowGroupStatus:Ne}=u,{fullAllDataRowIdData:Ot,fullColumnIdData:xt,treeExpandedMaps:Rt,pendingRowMaps:Ue,rowExpandedMaps:rt}=h,st=L.value,bt=Y.value,Ye=g.value,Dt=y.value,et=J.value,Lt=ue.value,{transform:Qt,seqMode:Yt}=Ye,ut=Ye.children||Ye.childrenField,wt=[],{handleGetRowId:Kt}=So(t),At=he||Ne;return ce.forEach((Pt,Xt)=>{const dt=Kt(Pt),_=Ot[dt]||{};let ae=Xt,Ee=0,Te=-1,ze=-1;const ft=Ne&&Pt.isAggregate,St={};(et.isHover||Le)&&(St.onMouseover=Jo=>{Me()||t.triggerHoverEvent(Jo,{row:Pt,rowIndex:ae})},St.onMouseleave=()=>{Me()||t.clearHoverRow()}),_&&(ae=_.index,ze=_._index,Ee=_.level,Te=_.seq,ft||he&&Qt&&Yt==="increasing"?Te=_._index+1:he&&Yt==="fixed"&&(Te=_._tIndex+1));const _t={$table:t,seq:Te,rowid:dt,fixed:pe,type:Ha,level:Ee,row:Pt,rowIndex:ae,$rowIndex:Xt,_rowIndex:ze},nt=Qe&&!!pt&&!!rt[dt];let lt=!1,Tt=[],zt=!1;V&&(zt=t.isInsertByRow(Pt)),he&&!Ze&&!Qt&&(Tt=Pt[ut],lt=!!De&&Tt&&Tt.length>0&&!!Rt[dt]),et.drag&&!Ne&&(!he||Qt)&&(St.onDragstart=t.handleRowDragDragstartEvent,St.onDragend=t.handleRowDragDragendEvent,St.onDragover=t.handleRowDragDragoverEvent);const ao=["vxe-body--row",At?`row--level-${Ee}`:"",{"row--stripe":Ie&&(ze+1)%2===0,"is--new":zt,"is--expand-row":nt,"is--expand-tree":lt,"row--new":zt&&(Dt.showStatus||Dt.showInsertStatus),"row--radio":bt.highlight&&t.eqRow(qe,Pt),"row--checked":st.highlight&&t.isCheckedByCheckboxRow(Pt),"row--pending":!!at&&!!Ue[dt],"row--group":ft},tl(Pe,_t)],dr=Q.map((Jo,yo)=>Z(Te,dt,pe,ge,Ee,Pt,ae,Xt,ze,Jo,yo,Q,ce));if(wt.push(x("tr",Object.assign({class:ao,rowid:dt,style:Re?a.isFunction(Re)?Re(_t):Re:null,key:je||Be||Ze||et.useKey||et.drag||Lt.drag||Ne||he?dt:Xt},St),dr)),nt){const Jo=m.value,{height:yo,padding:Io,mode:vr}=Jo;if(vr==="fixed")wt.push(x("tr",{class:"vxe-body--row-expanded-place",key:`expand_${dt}`,rowid:dt},[x("td",{class:"vxe-body--row-expanded-place-column",colspan:Q.length,style:{height:`${He?_.expandHeight||yo:0}px`}})]));else{const mr={};yo&&(mr.height=`${yo}px`),he&&(mr.paddingLeft=`${Ee*Ye.indent+30}px`);const{showOverflow:lo}=Qe||{},Uo=Qe.id,Wt=xt[Uo]||{},no=a.eqNull(lo)?Ae:lo;let Vo=-1,jt=-1,Rr=-1;Wt&&(Vo=Wt.index,jt=Wt.$index,Rr=Wt._index);const Ho={$table:t,$grid:Fe,$gantt:Je,seq:Te,column:Qe,columnIndex:Vo,$columnIndex:jt,_columnIndex:Rr,fixed:pe,source:jf,type:Ha,level:Ee,row:Pt,rowid:dt,rowIndex:ae,$rowIndex:Xt,_rowIndex:ze,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};wt.push(x("tr",{class:["vxe-body--expanded-row",{"is--padding":Io}],key:`expand_${dt}`},[x("td",{class:["vxe-body--expanded-column",{"fixed--hidden":pe&&!Ce,"col--ellipsis":no}],colspan:Q.length},[x("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":yo}],style:mr},[Qe.renderData(Ho)])])]))}}lt&&wt.push(...re(pe,ge,Tt,Q))}),wt};return Il(()=>{se(()=>{const{fixedType:pe}=e,{elemStore:ge}=h,ce=`${pe||"main"}-body-`;ge[`${ce}wrapper`]=ie,ge[`${ce}scroll`]=U,ge[`${ce}table`]=q,ge[`${ce}colgroup`]=ee,ge[`${ce}list`]=ve,ge[`${ce}xSpace`]=we,ge[`${ce}ySpace`]=ye,ge[`${ce}emptyBlock`]=be})}),Pn(()=>{const{fixedType:pe}=e,{elemStore:ge}=h,ce=`${pe||"main"}-body-`;ge[`${ce}wrapper`]=null,ge[`${ce}scroll`]=null,ge[`${ce}table`]=null,ge[`${ce}colgroup`]=null,ge[`${ce}list`]=null,ge[`${ce}xSpace`]=null,ge[`${ce}ySpace`]=null,ge[`${ce}emptyBlock`]=null}),()=>{const{slots:pe}=c,ge=t.xeGrid,ce=t.xeGantt,{fixedColumn:Q,fixedType:Fe,tableColumn:Je}=e,{mouseConfig:Ie}=n,{isGroup:je,tableData:Le,isColLoading:Pe,overflowX:Re,scrollXLoad:V,scrollYLoad:he,dragRow:Ce,dragCol:De}=u,{visibleColumn:Be,fullAllDataRowIdData:Ze,fullColumnIdData:Ae}=h,pt=j.value,Qe=w.value,qe=K.value;let at=Le,He=Je;const Ne=qe;if(!Pe&&(Fe||!Re)&&(He=Be),Fe&&Ne&&(He=Q||[]),he&&Ce&&at.length>2){const Ue=Ze[Ge(t,Ce)];if(Ue){const rt=Ue._index,st=at[0],bt=at[at.length-1],Ye=Ze[Ge(t,st)],Dt=Ze[Ge(t,bt)];if(Ye&&Dt){const et=Ye._index,Lt=Dt._index;rt<et?at=[Ce].concat(at):rt>Lt&&(at=at.concat([Ce]))}}}if(!Fe&&!je&&V&&De&&He.length>2){const Ue=Ae[De.id];if(Ue){const rt=Ue._index,st=He[0],bt=He[He.length-1],Ye=Ae[st.id],Dt=Ae[bt.id];if(Ye&&Dt){const et=Ye._index,Lt=Dt._index;rt<et?He=[De].concat(He):rt>Lt&&(He=He.concat([De]))}}}let Ot;const xt=pe?pe.empty:null,Rt={$table:t,$grid:ge,$gantt:ce};if(xt)Ot=t.callSlot(xt,Rt);else{const Ue=pt.name?Wf.get(pt.name):null,rt=Ue?Ue.renderTableEmpty||Ue.renderTableEmptyView||Ue.renderEmpty:null;rt?Ot=Oo(rt(pt,Rt)):Ot=n.emptyText||dk("vxe.table.emptyText")}return x("div",{ref:ie,class:["vxe-table--body-wrapper",Fe?`fixed-${Fe}--wrapper`:"body--wrapper"],xid:r},[x("div",{ref:U,class:"vxe-table--body-inner-wrapper",onScroll(Ue){t.triggerBodyScrollEvent(Ue,Fe)}},[Fe?Ys(t):x("div",{ref:we,class:"vxe-body--x-space"}),x("div",{ref:ye,class:"vxe-body--y-space"}),x("table",{ref:q,class:"vxe-table--body",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:Ne?"1":null},[x("colgroup",{ref:ee},He.map((Ue,rt)=>x("col",{name:Ue.id,key:rt,style:{width:`${Ue.renderWidth}px`}}))),x("tbody",{ref:ve},re(Fe,Ne,at,He))]),x("div",{class:"vxe-table--checkbox-range"}),Ie&&Qe.area?x("div",{class:"vxe-table--cell-area",xid:r},[x("span",{class:"vxe-table--cell-main-area"},Qe.extension?[x("span",{class:"vxe-table--cell-main-area-btn",onMousedown(Ue){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(Ue,{$table:t,fixed:Fe,type:Ha})}})]:[]),x("span",{class:"vxe-table--cell-clip-area"}),x("span",{class:"vxe-table--cell-extend-area"}),x("span",{class:"vxe-table--cell-multi-area"}),x("span",{class:"vxe-table--cell-active-area"}),x("span",{class:"vxe-table--cell-row-status-area"})]):Ys(t),Fe?Ys(t):x("div",{class:"vxe-table--empty-block",ref:be},[x("div",{class:"vxe-table--empty-content"},Ot)])])])}}}),{renderer:cc,renderEmptyElement:dc}=me,Uf="table",uc="header",Xf=Gr({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=Qo("$xeTable",{}),{xID:r,props:n,reactData:c,internalData:u}=t,{computeColumnOpts:h,computeColumnDragOpts:y,computeCellOpts:w,computeMouseOpts:H,computeHeaderCellOpts:S,computeDefaultRowHeight:F,computeVirtualXOpts:j,computeFloatingFilterOpts:W,computeIsHeaderRenderOptimize:Y}=t.getComputeMaps(),m=Xe([]),g=Xe(),L=Xe(),te=Xe(),$=Xe(),J=Xe(),ue=Xe(),le=Xe(),M=()=>{const{showCustomHeader:U}=n,{collectColumn:q,visibleColumn:ee}=u,{tableGroupColumn:ve}=e,{isGroup:we}=c;let ye=we?_0(ve):[],be=[];U&&ye.length>1&&(be=B0(ye),ye=be),m.value=ye,t.dispatchEvent("columns-change",{visibleColgroups:be,collectColumn:q,visibleColumn:ee},null)},I=(U,q,ee,ve,we)=>{const ye=t.xeGrid,be=t.xeGantt,{fixedType:Me}=e,{resizable:ne,columnKey:Z,showCustomHeader:re,headerCellClassName:de,headerCellStyle:pe,showHeaderOverflow:ge,headerAlign:ce,align:Q,mouseConfig:Fe}=n,{currentColumn:Je,dragCol:Ie,scrollXLoad:je,scrollYLoad:Le,overflowX:Pe,mergeHeadFlag:Re,tableColumn:V}=c,{fullColumnIdData:he,scrollXStore:Ce,mergeHeaderList:De,mergeHeaderCellMaps:Be}=u,Ze=j.value,Ae=h.value,pt=y.value,Qe=w.value,qe=F.value,at=S.value,He=sa(at.height)||qe,{disabledMethod:Ne,isCrossDrag:Ot,isPeerDrag:xt}=pt,Rt=ve===ee.length-1;return we.map((Ue,rt)=>{const{type:st,showHeaderOverflow:bt,headerAlign:Ye,align:Dt,filters:et,headerClassName:Lt,editRender:Qt,cellRender:Yt}=Ue,ut=Ue.id,wt=he[ut]||{},Kt=Qt||Yt,At=Kt?cc.get(Kt.name):null,Pt=Ue.children&&Ue.children.length,Xt=Pe&&!Pt&&(Me?Ue.fixed!==Me:!!Ue.fixed),dt=a.isBoolean(at.padding)?at.padding:Qe.padding,_=a.eqNull(bt)?ge:bt,ae=Ye||(At?At.tableHeaderCellAlign:"")||ce||Dt||(At?At.tableCellAlign:"")||Q,Ee=_==="ellipsis",Te=_==="title",ze=_===!0||_==="tooltip",ft=Te||ze||Ee;let St=!1,_t=null;et&&(_t=et[0],St=et.some(Wt=>Wt.checked));const nt=wt.index,lt=wt._index,Tt={$table:t,$grid:ye,$gantt:be,$rowIndex:ve,column:Ue,columnIndex:nt,$columnIndex:rt,_columnIndex:lt,firstFilterOption:_t,fixed:Me,source:Uf,type:uc,isHidden:Xt,hasFilter:St},zt={colid:ut};let ao=!1;if(re||(zt.colspan=Ue.colSpan>1?Ue.colSpan:null,zt.rowspan=Ue.rowSpan>1?Ue.rowSpan:null),Re&&De.length&&(re||Rt)){const Wt=Be[`${ve}:${re?rt:lt}`];if(Wt){const{rowspan:no,colspan:Vo}=Wt;if(!no||!Vo)return null;no>1&&(ao=!0,zt.rowspan=no),Vo>1&&(ao=!0,zt.colspan=Vo)}}const dr={onClick:Wt=>t.triggerHeaderCellClickEvent(Wt,Tt),onDblclick:Wt=>t.triggerHeaderCellDblclickEvent(Wt,Tt)},Jo=Ae.drag&&pt.trigger==="cell";let yo=!1;Jo&&(yo=!!(Ne&&Ne(Tt))),(Fe||Jo)&&(dr.onMousedown=Wt=>t.triggerHeaderCellMousedownEvent(Wt,Tt)),Ae.drag&&(dr.onDragstart=t.handleHeaderCellDragDragstartEvent,dr.onDragend=t.handleHeaderCellDragDragendEvent,dr.onDragover=t.handleHeaderCellDragDragoverEvent,Jo&&(dr.onMouseup=t.handleHeaderCellDragMouseupEvent));const Io=rt===we.length-1,vr=a.isBoolean(Ue.resizable)?Ue.resizable:Ae.resizable||ne,mr=!Ue.resizeWidth&&(Ue.minWidth==="auto"||Ue.width==="auto");let lo=!1;q&&Pe&&!U&&!ao&&(!Ie||Ie.id!==ut)&&je&&V.length>10&&!Ue.fixed&&!Ze.immediate&&(lt<Ce.visibleStartIndex-Ce.preloadSize||lt>Ce.visibleEndIndex+Ce.preloadSize)&&(lo=!0);const Uo={};if(ft?Uo.height=`${He}px`:Uo.minHeight=`${He}px`,!re){if(Pt&&!Rt){let Wt=0;a.eachTree(Ue.children,no=>{no.visible&&(!no.children||!no.children.length)&&(Wt+=no.renderWidth)}),Uo.width=`${Wt}px`}}return x("th",Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-header--column",ut,Xt?"fixed--hidden":"fixed--visible",{[`col--${ae}`]:ae,[`col--${st}`]:st,"col--last":Io,"col--fixed":Ue.fixed,"col--group":Pt,"col--ellipsis":ft,"fixed--width":!mr,"is--padding":dt,"is--sortable":Ue.sortable,"col--filter":!!et,"is--filter-active":St,"is--drag-active":Ae.drag&&!Ue.fixed&&!yo&&(Ot||xt||!Ue.parentId),"is--drag-disabled":Ae.drag&&yo,"col--current":Je===Ue},Lt?a.isFunction(Lt)?Lt(Tt):Lt:"",de?a.isFunction(de)?de(Tt):de:""],style:pe?a.isFunction(pe)?pe(Tt):pe:null},zt),dr),{key:re?`${ut}${rt}`:Z||je||Le||Ae.useKey||Ae.drag||Pt?ut:rt}),[x("div",{class:["vxe-cell",{"c--title":Te,"c--tooltip":ze,"c--ellipsis":Ee}],style:Uo},lo||q&&Xt?[]:[x("div",{colid:ut,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},Ue.renderHeader(Tt))]),!Xt&&vr&&(!re||Rt)?x("div",{class:"vxe-cell--col-resizable",onMousedown:Wt=>t.handleColResizeMousedownEvent(Wt,Me,Tt),onDblclick:Wt=>t.handleColResizeDblclickEvent(Wt,Tt)}):dc(t)])})},k=(U,q)=>{const ee=t.xeGrid,ve=t.xeGantt,{fixedType:we}=e,{showHeaderOverflow:ye,headerAlign:be,align:Me}=n,{currentColumn:ne,overflowX:Z}=c,{fullColumnIdData:re}=u,de=w.value,pe=F.value,ge=S.value,ce=sa(ge.height)||pe;return q.map((Q,Fe)=>{const{type:Je,showHeaderOverflow:Ie,headerAlign:je,align:Le,filters:Pe,editRender:Re,cellRender:V,floatingFilters:he,filterRender:Ce,slots:De}=Q,Be=Q.id,Ze=re[Be]||{},Ae=Re||V,pt=De?De.floatingFilter||De["floating-filter"]:null,Qe=Ae?cc.get(Ae.name):null,qe=it(Ce)?cc.get(Ce.name):null,at=qe?qe.renderTableFloatingFilter:null,He=Z&&(we?Q.fixed!==we:!!Q.fixed),Ne=a.isBoolean(ge.padding)?ge.padding:de.padding,Ot=a.eqNull(Ie)?ye:Ie,xt=je||(Qe?Qe.tableHeaderCellAlign:"")||be||Le||(Qe?Qe.tableCellAlign:"")||Me,Rt=Ot==="ellipsis",Ue=Ot==="title",rt=Ot===!0||Ot==="tooltip",st=Ue||rt||Rt;let bt=!1,Ye=null;Pe&&(Ye=Pe[0],bt=Pe.some(Kt=>Kt.checked));const Dt=Ze.index,et=Ze._index,Lt={$table:t,$grid:ee,$gantt:ve,column:Q,columnIndex:Dt,$columnIndex:Fe,_columnIndex:et,option:Ye,fixed:we,source:Uf,type:uc,isHidden:He,hasFilter:bt},Qt={colid:Be},Yt=Fe===q.length-1,ut=!Q.resizeWidth&&(Q.minWidth==="auto"||Q.width==="auto"),wt={};return st?wt.height=`${ce}px`:wt.minHeight=`${ce}px`,x("th",Object.assign({class:["vxe-table--column vxe-header--column",Be,He?"fixed--hidden":"fixed--visible",{[`col--${xt}`]:xt,[`col--${Je}`]:Je,"col--last":Yt,"col--fixed":Q.fixed,"col--ellipsis":st,"fixed--width":!ut,"is--padding":Ne,"is--sortable":Q.sortable,"col--current":ne===Q}],key:Be},Qt),[x("div",{class:["vxe-cell",{"c--title":Ue,"c--tooltip":rt,"c--ellipsis":Rt}],style:wt},U&&He&&!he?[]:[x("div",{colid:Be,class:"vxe-cell--wrapper vxe-header-cell--wrapper"},pt?t.callSlot(pt,Lt):at&&Ye?Oo(at(Ce,Lt)):[])])])})},K=(U,q,ee,ve)=>{const{fixedType:we}=e,{headerRowClassName:ye,headerRowStyle:be}=n,Me=W.value,ne=ee.map((Z,re)=>{const de={$table:t,$rowIndex:re,fixed:we,type:uc};return x("tr",{key:re,class:["vxe-header--row",ye?a.isFunction(ye)?ye(de):ye:""],style:be?a.isFunction(be)?be(de):be:null},I(U,q,ee,re,Z))});return Me.enabled&&ne.push(x("tr",{key:"ff",class:["vxe-header--row"]},k(q,ve))),ne},ie=()=>{const{fixedType:U,fixedColumn:q,tableColumn:ee}=e,{mouseConfig:ve}=n,{isGroup:we,isColLoading:ye,overflowX:be,scrollXLoad:Me,dragCol:ne}=c,{visibleColumn:Z,fullColumnIdData:re}=u,de=H.value,pe=Y.value;let ge=m.value||[],ce=ee;const Q=pe;if(we?ce=Z:((!Q||!ye&&(U||!be))&&(ce=Z),U&&Q&&(ce=q||[]),ge=[ce]),!U&&!we&&Me&&ne&&ce.length>2){const Fe=re[ne.id];if(Fe){const Je=Fe._index,Ie=ce[0],je=ce[ce.length-1],Le=re[Ie.id],Pe=re[je.id];if(Le&&Pe){const Re=Le._index,V=Pe._index;Je<Re?(ce=[ne].concat(ce),ge=[[ne].concat(ge[0])].concat(ge.slice(1))):Je>V&&(ce=ce.concat([ne]),ge=[ge[0].concat([ne])].concat(ge.slice(1)))}}}return x("div",{ref:g,class:["vxe-table--header-wrapper",U?`fixed-${U}--wrapper`:"body--wrapper"],xid:r},[x("div",{ref:L,class:"vxe-table--header-inner-wrapper",onScroll(Fe){t.triggerHeaderScrollEvent(Fe,U)}},[U?dc(t):x("div",{ref:ue,class:"vxe-body--x-space"}),x("table",{ref:te,class:"vxe-table--header",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:Q?"1":null},[x("colgroup",{ref:$},ce.map((Fe,Je)=>x("col",{name:Fe.id,key:Je,style:{width:`${Fe.renderWidth}px`}}))),x("thead",{ref:J},K(we,Q,ge,ce))]),ve&&de.area?x("div",{class:"vxe-table--cell-area",xid:r},[x("span",{class:"vxe-table--cell-main-area"}),x("span",{class:"vxe-table--cell-clip-area"}),x("span",{class:"vxe-table--cell-extend-area"}),x("span",{class:"vxe-table--cell-multi-area"}),x("span",{class:"vxe-table--cell-active-area"}),x("span",{class:"vxe-table--cell-col-status-area"})]):dc(t)])])};return It(()=>e.tableColumn,M),Il(()=>{se(()=>{const{fixedType:U}=e,{internalData:q}=t,{elemStore:ee}=q,ve=`${U||"main"}-header-`;ee[`${ve}wrapper`]=g,ee[`${ve}scroll`]=L,ee[`${ve}table`]=te,ee[`${ve}colgroup`]=$,ee[`${ve}list`]=J,ee[`${ve}xSpace`]=ue,ee[`${ve}repair`]=le,M()})}),Pn(()=>{const{fixedType:U}=e,{internalData:q}=t,{elemStore:ee}=q,ve=`${U||"main"}-header-`;ee[`${ve}wrapper`]=null,ee[`${ve}scroll`]=null,ee[`${ve}table`]=null,ee[`${ve}colgroup`]=null,ee[`${ve}list`]=null,ee[`${ve}xSpace`]=null,ee[`${ve}repair`]=null}),ie}}),{renderer:uk,renderEmptyElement:Yf}=me,fk="table",Kf="footer",Zf=Gr({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=Qo("$xeTable",{}),{xID:r,props:n,reactData:c,internalData:u}=t,{computeFooterTooltipOpts:h,computeColumnOpts:y,computeCellOpts:w,computeFooterCellOpts:H,computeDefaultRowHeight:S,computeResizableOpts:F,computeVirtualXOpts:j,computeIsFooterRenderOptimize:W}=t.getComputeMaps(),Y=Xe(),m=Xe(),g=Xe(),L=Xe(),te=Xe(),$=Xe(),J=(M,I,k,K,ie,U)=>{const q=t.xeGrid,ee=t.xeGantt,{fixedType:ve}=e,{resizable:we,border:ye,footerCellClassName:be,footerCellStyle:Me,footerAlign:ne,footerSpanMethod:Z,align:re,columnKey:de,showFooterOverflow:pe}=n,{scrollXLoad:ge,scrollYLoad:ce,overflowX:Q,currentColumn:Fe,mergeFootFlag:Je}=c,{fullColumnIdData:Ie,mergeFooterList:je,mergeFooterCellMaps:Le,scrollXStore:Pe}=u,Re=j.value,V=h.value,he=F.value,{isAllColumnDrag:Ce}=he,De=y.value,Be=S.value,Ze=w.value,Ae=H.value,pt=sa(Ae.height)||Be;return I.map((Qe,qe)=>{const{type:at,showFooterOverflow:He,footerAlign:Ne,align:Ot,footerClassName:xt,editRender:Rt,cellRender:Ue}=Qe,rt=Qe.id,st=Ie[rt]||{},bt=Rt||Ue,Ye=bt?uk.get(bt.name):null,Dt=V.showAll,et=Q&&(ve?Qe.fixed!==ve:!!Qe.fixed),Lt=a.isBoolean(Ae.padding)?Ae.padding:Ze.padding,Qt=a.eqNull(He)?pe:He,Yt=Ne||(Ye?Ye.tableFooterCellAlign:"")||ne||Ot||(Ye?Ye.tableCellAlign:"")||re,ut=Qt==="ellipsis",wt=Qt==="title",Kt=Qt===!0||Qt==="tooltip",At=wt||Kt||ut,Pt=a.isBoolean(Qe.resizable)?Qe.resizable:De.resizable||we,Xt={colid:rt},dt={},_=st.index,ae=st._index,Te={$table:t,$grid:q,$gantt:ee,row:K,rowIndex:U,_rowIndex:U,$rowIndex:ie,column:Qe,columnIndex:_,$columnIndex:qe,_columnIndex:ae,itemIndex:ae,items:K,fixed:ve,source:fk,type:Kf,data:k};(wt||Kt||Dt)&&(dt.onMouseenter=lt=>{wt?od(lt.currentTarget,Qe):(Kt||Dt)&&t.triggerFooterTooltipEvent(lt,Te)}),(Kt||Dt)&&(dt.onMouseleave=lt=>{(Kt||Dt)&&t.handleTargetLeaveEvent(lt)}),dt.onClick=lt=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:lt.currentTarget},Te),lt)},dt.onDblclick=lt=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:lt.currentTarget},Te),lt)};let ze=!1;if(Je&&je.length){const lt=Le[`${U}:${ae}`];if(lt){const{rowspan:Tt,colspan:zt}=lt;if(!Tt||!zt)return null;Tt>1&&(ze=!0,Xt.rowspan=Tt),zt>1&&(ze=!0,Xt.colspan=zt)}}else if(Z){const{rowspan:lt=1,colspan:Tt=1}=Z(Te)||{};if(!lt||!Tt)return null;lt>1&&(Xt.rowspan=lt),Tt>1&&(Xt.colspan=Tt)}const ft=qe===I.length-1,St=!Qe.resizeWidth&&(Qe.minWidth==="auto"||Qe.width==="auto");let _t=!1;M&&Q&&!ze&&ge&&I.length>10&&!Qe.fixed&&!Re.immediate&&(ae<Pe.visibleStartIndex-Pe.preloadSize||ae>Pe.visibleEndIndex+Pe.preloadSize)&&(_t=!0);const nt={};return At?nt.height=`${pt}px`:nt.minHeight=`${pt}px`,x("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-table--column vxe-footer--column",Qe.id,{[`col--${Yt}`]:Yt,[`col--${at}`]:at,"col--last":ft,"fixed--width":!St,"fixed--hidden":et,"is--padding":Lt,"col--ellipsis":At,"col--current":Fe===Qe},tl(xt,Te),tl(be,Te)]},Xt),{style:Me?a.isFunction(Me)?Me(Te):Me:null}),dt),{key:de||ge||ce||De.useKey||De.drag?Qe.id:qe}),[x("div",{class:["vxe-cell",{"c--title":wt,"c--tooltip":Kt,"c--ellipsis":ut}],style:nt},_t?[]:[x("div",{colid:rt,class:"vxe-cell--wrapper vxe-footer-cell--wrapper"},Qe.renderFooter(Te))]),!et&&Pt&&Ce?x("div",{class:["vxe-cell--col-resizable",{"is--line":!ye||ye==="none"}],onMousedown:lt=>t.handleColResizeMousedownEvent(lt,ve,Te),onDblclick:lt=>t.handleColResizeDblclickEvent(lt,Te)}):Yf(t)])})},ue=(M,I)=>{const{fixedType:k,footerTableData:K}=e,{footerRowClassName:ie,footerRowStyle:U}=n;return K.map((q,ee)=>{const ve=ee,we={$table:t,row:q,_rowIndex:ve,$rowIndex:ee,fixed:k,type:Kf};return x("tr",{key:ee,class:["vxe-footer--row",ie?a.isFunction(ie)?ie(we):ie:""],style:U?a.isFunction(U)?U(we):U:null},J(M,I,K,q,ee,ve))})},le=()=>{const{fixedType:M,fixedColumn:I,tableColumn:k}=e,{visibleColumn:K,fullColumnIdData:ie}=u,{isGroup:U,isColLoading:q,overflowX:ee,scrollXLoad:ve,dragCol:we}=c,ye=W.value;let be=k;const Me=ye;if((!Me||!q&&(M||!ee))&&(be=K),M&&Me&&(be=I||[]),!M&&!U&&ve&&we&&be.length>2){const ne=ie[we.id];if(ne){const Z=ne._index,re=be[0],de=be[be.length-1],pe=ie[re.id],ge=ie[de.id];if(pe&&ge){const ce=pe._index,Q=ge._index;Z<ce?be=[we].concat(be):Z>Q&&(be=be.concat([we]))}}}return x("div",{ref:Y,class:["vxe-table--footer-wrapper",M?`fixed-${M}--wrapper`:"body--wrapper"],xid:r},[x("div",{ref:m,class:"vxe-table--footer-inner-wrapper",onScroll(ne){t.triggerFooterScrollEvent(ne,M)}},[M?Yf(t):x("div",{ref:$,class:"vxe-body--x-space"}),x("table",{ref:g,class:"vxe-table--footer",xid:r,cellspacing:0,cellpadding:0,border:0,xvm:Me?"1":null},[x("colgroup",{ref:L},be.map((ne,Z)=>x("col",{name:ne.id,key:Z,style:{width:`${ne.renderWidth}px`}}))),x("tfoot",{ref:te},ue(Me,be))])])])};return Il(()=>{se(()=>{const{fixedType:M}=e,{elemStore:I}=u,k=`${M||"main"}-footer-`;I[`${k}wrapper`]=Y,I[`${k}scroll`]=m,I[`${k}table`]=g,I[`${k}colgroup`]=L,I[`${k}list`]=te,I[`${k}xSpace`]=$})}),Pn(()=>{const{fixedType:M}=e,{elemStore:I}=u,k=`${M||"main"}-footer-`;I[`${k}wrapper`]=null,I[`${k}scroll`]=null,I[`${k}table`]=null,I[`${k}colgroup`]=null,I[`${k}list`]=null,I[`${k}xSpace`]=null}),le}}),{getI18n:po,getIcon:Lo,renderEmptyElement:so}=me;function Qf(){return{}}const gk=Gr({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e,t){const r=a.uniqueId(),n=me.getComponent("VxeModal"),c=me.getComponent("VxeDrawer"),u=me.getComponent("VxeButton"),h=me.getComponent("VxeNumberInput"),y=me.getComponent("VxeRadioGroup"),w=Qo("$xeTable",{}),{props:H,reactData:S,internalData:F}=w,{computeCustomOpts:j,computeColumnDragOpts:W,computeColumnOpts:Y,computeIsMaxFixedColumn:m,computeResizableOpts:g}=w.getComputeMaps(),L=Xe(),te=Xe(),$=Xe(),J=Xe(),ue=Xe(),le=Br({dragCol:null,dragGroupField:null,dragAggFnCol:null,dragTipText:""});let M=Qf();const I={refElem:L,refBodyWrapperElem:te,refCustomBodyElem:$,refDragLineElem:J,refDragTipElem:ue},k={},K=V=>{const{customStore:he}=e;he.activeWrapper=!0,w.customOpenEvent(V)},ie=V=>{const{customStore:he}=e;he.activeWrapper=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&w.customCloseEvent(V)},300)},U=({$event:V})=>{S.isCustomStatus=!0,w.saveCustom(),w.closeCustom(),w.emitCustomEvent("confirm",V),w.emitCustomEvent("close",V)},q=({$event:V})=>{w.closeCustom(),w.emitCustomEvent("close",V)},ee=({$event:V})=>{w.cancelCustom(),w.closeCustom(),w.emitCustomEvent("cancel",V),w.emitCustomEvent("close",V)},ve=V=>{w.resetCustom(!0),w.closeCustom(),w.emitCustomEvent("reset",V),w.emitCustomEvent("close",V)},we=({$event:V})=>{me.modal?me.modal.confirm({content:po("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(he=>{he==="confirm"&&ve(V)}):ve(V)},ye=V=>{const{customColumnList:he}=S,Ce=a.findTree(he,De=>De===V);if(Ce&&Ce.parent){const{parent:De}=Ce;De.children&&De.children.length&&(De.renderVisible=De.children.every(Be=>Be.renderVisible),De.halfVisible=!De.renderVisible&&De.children.some(Be=>Be.renderVisible||Be.halfVisible),ye(De))}},be=(V,he)=>{const Ce=!V.renderVisible;j.value.immediate?(a.eachTree([V],Be=>{Be.visible=Ce,Be.renderVisible=Ce,Be.halfVisible=!1}),S.isCustomStatus=!0,w.handleCustom(),w.saveCustomStore("update:visible")):a.eachTree([V],Be=>{Be.renderVisible=Ce,Be.halfVisible=!1}),ye(V),w.checkCustomStatus(),w.dispatchEvent("custom-visible-change",{column:V,checked:Ce},he)},Me=V=>{j.value.immediate&&V.renderResizeWidth!==V.renderWidth&&(V.resizeWidth=V.renderResizeWidth,V.renderWidth=V.renderResizeWidth,S.isCustomStatus=!0,w.handleCustom(),w.saveCustomStore("update:width"))},ne=(V,he,Ce)=>{const De=m.value,Be=j.value;let Ze=null;Be.immediate?(V.renderFixed===he?(Ze="",a.eachTree([V],Ae=>{Ae.fixed="",Ae.renderFixed=""})):(!De||V.renderFixed)&&(Ze=he,a.eachTree([V],Ae=>{Ae.fixed=he,Ae.renderFixed=he})),S.isCustomStatus=!0,w.handleCustom(),w.saveCustomStore("update:fixed")):V.renderFixed===he?(Ze="",a.eachTree([V],Ae=>{Ae.renderFixed=""})):(!De||V.renderFixed)&&(Ze=he,a.eachTree([V],Ae=>{Ae.renderFixed=he})),Ze!==null&&w.dispatchEvent("custom-fixed-change",{column:V,fixed:Ze},Ce)},Z=V=>{const{customStore:he}=S,Ce=!he.isAll;w.toggleCustomAllCheckbox(),w.dispatchEvent("custom-visible-all",{checked:Ce},V)},re=(V,he,Ce,De)=>{const Be=te.value;if(!Be)return;const Ze=$.value;if(!Ze)return;const{prevDragToChild:Ae}=M,pt=Be.getBoundingClientRect(),Qe=Ze.getBoundingClientRect(),qe=J.value;if(he){if(qe)if(Ce){const He=he.getBoundingClientRect();qe.style.display="block",qe.style.left=`${Math.max(0,Qe.x-pt.x)}px`,qe.style.top=`${Math.max(1,He.y+Be.scrollTop-pt.y)}px`,qe.style.height=`${He.height}px`,qe.style.width=`${He.width}px`,qe.setAttribute("drag-pos",De),qe.setAttribute("drag-to-child",Ae?"y":"n")}else qe.style.display=""}else qe&&(qe.style.display="node");const at=ue.value;at&&(at.style.display="block",at.style.top=`${Math.min(Be.clientHeight+Be.scrollTop-at.clientHeight,V.clientY+Be.scrollTop-pt.y)}px`,at.style.left=`${Math.min(Be.clientWidth+Be.scrollLeft-at.clientWidth,V.clientX+Be.scrollLeft-pt.x)}px`,at.setAttribute("drag-status",Ce?Ae?"sub":"normal":"disabled"))},de=()=>{const{dragCol:V}=le,he=W.value,{tooltipMethod:Ce}=he;let De="";Ce?De=`${Ce({$table:w,column:V})||""}`:De=po("vxe.custom.cstmDragTarget",[V&&V.type!=="html"?V.getTitle():""]),le.dragTipText=De},pe=()=>{const V=ue.value,he=J.value;V&&(V.style.display=""),he&&(he.style.display="")},ge=V=>{const Be=V.currentTarget.parentElement.parentElement.parentElement,Ze=Be.getAttribute("colid"),Ae=w.getColumnById(Ze);Be.draggable=!0,le.dragCol=Ae,le.dragGroupField=null,le.dragAggFnCol=null,de(),Pr(Be,"active--drag-origin")},ce=V=>{const Be=V.currentTarget.parentElement.parentElement.parentElement;pe(),Be.draggable=!1,le.dragCol=null,le.dragGroupField=null,le.dragAggFnCol=null,hr(Be,"active--drag-origin")},Q=V=>{V.dataTransfer&&V.dataTransfer.setDragImage(Ac(),0,0),M.prevDragGroupField=null,M.prevDragAggFnColid=null},Fe=V=>{const{mouseConfig:he}=H,{customColumnList:Ce}=S,{collectColumn:De}=F,Be=j.value,{immediate:Ze}=Be,Ae=V.currentTarget,pt=W.value,{isCrossDrag:Qe,isSelfToChildDrag:qe,isToChildDrag:at,dragEndMethod:He}=pt,{dragCol:Ne}=le,{prevDragCol:Ot,prevDragGroupField:xt,prevDragAggFnColid:Rt,prevDragPos:Ue,prevDragToChild:rt}=M,st=Ue==="bottom"?1:0;if(xt||Rt)w.handlePivotTableAggregatePanelDragendEvent&&w.handlePivotTableAggregatePanelDragendEvent(V);else if(Ot&&Ne&&Ot!==Ne){const bt=Ne,Ye=Ot;Promise.resolve(He?He({oldColumn:bt,newColumn:Ye,dragColumn:bt,dragPos:Ue,dragToChild:!!rt,offsetIndex:st}):!0).then(Dt=>{if(!Dt)return;let et=-1,Lt=-1;const Qt={};a.eachTree([bt],wt=>{Qt[wt.id]=wt});let Yt=!1;if(Ze){if(bt.parentId&&Ye.parentId){if(!Qe)return;if(Qt[Ye.id]&&(Yt=!0,!(Qe&&qe))){me.modal&&me.modal.message({status:"error",content:po("vxe.error.treeDragChild")});return}}else if(bt.parentId){if(!Qe)return}else if(Ye.parentId){if(!Qe)return;if(Qt[Ye.id]&&(Yt=!0,!(Qe&&qe))){me.modal&&me.modal.message({status:"error",content:po("vxe.error.treeDragChild")});return}}const wt=a.findTree(De,At=>At.id===bt.id);if(Yt&&Qe&&qe){if(wt){const{items:At,index:Pt}=wt,Xt=bt.children||[];Xt.forEach(dt=>{dt.parentId=bt.parentId}),At.splice(Pt,1,...Xt),bt.children=[]}}else if(wt){const{items:At,index:Pt,parent:Xt}=wt;At.splice(Pt,1),Xt||(et=Pt)}const Kt=a.findTree(De,At=>At.id===Ye.id);if(Kt){const{items:At,index:Pt,parent:Xt}=Kt;Qe&&at&&rt?(bt.parentId=Ye.id,Ye.children=(Ye.children||[]).concat([bt])):(bt.parentId=Ye.parentId,At.splice(Pt+st,0,bt)),Xt||(Lt=Pt)}a.eachTree(De,(At,Pt,Xt,dt,_)=>{if(!_){const ae=Pt+1;At.renderSortNumber=ae}})}else et=a.findIndexOf(Ce,wt=>wt.id===bt.id),Ce.splice(et,1),Lt=a.findIndexOf(Ce,wt=>wt.id===Ye.id),Ce.splice(Lt+st,0,bt);he&&(w.clearSelected&&w.clearSelected(),w.clearCellAreas&&(w.clearCellAreas(),w.clearCopyCellArea()));const ut={oldColumn:bt,newColumn:Ye,dragColumn:bt,dragPos:Ue,offsetIndex:st,_index:{newIndex:Lt,oldIndex:et}};w.dispatchEvent("custom-sort-change",ut,V),w.dispatchEvent("column-dragend",ut,V),Ze&&(S.customColumnList=De.slice(0),w.handleColDragSwapColumn())}).catch(()=>{})}pe(),le.dragCol=null,le.dragGroupField=null,le.dragAggFnCol=null,M.prevDragGroupField=null,M.prevDragAggFnColid=null,Ae.draggable=!1,Ae.removeAttribute("drag-pos"),hr(Ae,"active--drag-target"),hr(Ae,"active--drag-origin")},Je=V=>{const he=j.value,{immediate:Ce}=he,De=W.value,{isCrossDrag:Be,isToChildDrag:Ze}=De,Ae=V.currentTarget,pt=oa(V),Qe=Ae.getAttribute("colid"),qe=w.getColumnById(Qe),{dragCol:at}=le;if(M.prevDragGroupField=null,M.prevDragAggFnColid=null,qe&&(Be||qe.level===1)){V.preventDefault();const Ne=V.clientY-Ae.getBoundingClientRect().y<Ae.clientHeight/2?"top":"bottom";if(!at||at&&at.id===qe.id||!Be&&qe.level>1||!Ce&&qe.level>1){re(V,Ae,!1,Ne);return}M.prevDragToChild=!!(Be&&Ze&&pt&&Ce),M.prevDragCol=qe,M.prevDragPos=Ne,re(V,Ae,!0,Ne)}},Ie=()=>{const{dragTipText:V}=le,he=W.value;return x("div",{},[x("div",{ref:J,class:["vxe-table-custom-popup--drag-line",{"is--guides":he.showGuidesStatus}]}),x("div",{ref:ue,class:"vxe-table-custom-popup--drag-tip"},[x("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[x("div",{class:"vxe-table-custom-popup--drag-tip-status"},[x("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",Lo().TABLE_DRAG_STATUS_ROW]}),x("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",Lo().TABLE_DRAG_STATUS_SUB_ROW]}),x("span",{class:["vxe-table-custom-popup--drag-tip-group-status",Lo().TABLE_DRAG_STATUS_AGG_GROUP]}),x("span",{class:["vxe-table-custom-popup--drag-tip-values-status",Lo().TABLE_DRAG_STATUS_AGG_VALUES]}),x("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",Lo().TABLE_DRAG_DISABLED]})]),x("div",{class:"vxe-table-custom-popup--drag-tip-content"},`${V||""}`)])])])},je=()=>{const V=w.xeGrid,he=w.xeGantt,Ce=w.props,{customStore:De}=e,{treeConfig:Be,rowGroupConfig:Ze,aggregateConfig:Ae}=Ce,{isCustomStatus:pt,customColumnList:Qe}=S,qe=j.value,{immediate:at}=qe,He=W.value,{maxHeight:Ne}=De,{checkMethod:Ot,visibleMethod:xt,allowVisible:Rt,allowSort:Ue,allowFixed:rt,trigger:st,placement:bt}=qe,Ye=m.value,{isCrossDrag:Dt}=He,et=qe.slots||{},Lt=et.header,Qt=et.top,Yt=et.bottom,ut=et.default,wt=et.footer,Kt=[],At={},Pt=De.isAll,Xt=De.isIndeterminate;st==="hover"&&(At.onMouseenter=K,At.onMouseleave=ie);const dt={$table:w,$grid:V,$gantt:he,columns:Qe,isAllChecked:Pt,isAllIndeterminate:Xt,isCustomStatus:pt};return a.eachTree(Qe,(_,ae,Ee,Te,ze)=>{if(xt?xt({$table:w,column:_}):!0){const St=_.renderVisible,_t=_.halfVisible,nt=_.children&&_.children.length,lt=qo(_.getTitle(),1),Tt=Ot?!Ot({$table:w,column:_}):!1,zt=!St;Kt.push(x("li",{key:_.id,colid:_.id,class:["vxe-table-custom--option",`level--${_.level}`,{"is--hidden":Tt||zt,"is--group":nt}],onDragstart:Q,onDragend:Fe,onDragover:Je},[Rt?x("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":St,"is--indeterminate":_t,"is--disabled":Tt}],title:po("vxe.custom.setting.colVisible"),onClick:ao=>{Tt||be(_,ao)}},[x("span",{class:["vxe-checkbox--icon",_t?Lo().TABLE_CHECKBOX_INDETERMINATE:St?Lo().TABLE_CHECKBOX_CHECKED:Lo().TABLE_CHECKBOX_UNCHECKED]})]):so(w),x("div",{class:"vxe-table-custom--name-option"},[Ue&&(Dt&&at||_.level===1)?x("div",{class:"vxe-table-custom--sort-option"},[x("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":zt}],title:po("vxe.custom.setting.sortHelpTip")},zt?{}:{onMousedown:ge,onMouseup:ce}),[x("i",{class:Lo().TABLE_CUSTOM_SORT})])]):so(w),_.type==="html"?x("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:lt}):x("div",{key:"0",class:"vxe-table-custom--checkbox-label"},lt)]),!ze&&rt?x("div",{class:"vxe-table-custom--fixed-option"},[u?x(u,{mode:"text",icon:_.renderFixed==="left"?Lo().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Lo().TOOLBAR_TOOLS_FIXED_LEFT,status:_.renderFixed==="left"?"primary":"",disabled:zt||Ye&&!_.renderFixed,title:po(_.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:({$event:ao})=>{ne(_,"left",ao)}}):so(w),u?x(u,{mode:"text",icon:_.renderFixed==="right"?Lo().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Lo().TOOLBAR_TOOLS_FIXED_RIGHT,status:_.renderFixed==="right"?"primary":"",disabled:zt||Ye&&!_.renderFixed,title:po(_.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:({$event:ao})=>{ne(_,"right",ao)}}):so(w)]):so(w)]))}}),x("div",{ref:L,key:"simple",class:["vxe-table-custom-wrapper",`placement--${bt}`,{"is--active":De.visible}],style:Ne&&!["left","right"].includes(bt||"")?{maxHeight:`${Ne}px`}:{}},De.visible?[x("div",{ref:te,class:"vxe-table-custom-simple--body-wrapper"},[!Be&&(Ae||Ze)&&w.getPivotTableAggregateSimplePanel?x(w.getPivotTableAggregateSimplePanel(),{customStore:De}):so(w),x("div",{ref:$,class:"vxe-table-custom--handle-wrapper"},[x("div",{class:"vxe-table-custom--header"},Lt?w.callSlot(Lt,dt):[x("ul",{class:"vxe-table-custom--panel-list"},[x("li",{class:"vxe-table-custom--option"},[Rt?x("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Pt,"is--indeterminate":Xt}],title:po("vxe.table.allTitle"),onClick:Z},[x("span",{class:["vxe-checkbox--icon",Xt?Lo().TABLE_CHECKBOX_INDETERMINATE:Pt?Lo().TABLE_CHECKBOX_CHECKED:Lo().TABLE_CHECKBOX_UNCHECKED]}),x("span",{class:"vxe-checkbox--label"},po("vxe.toolbar.customAll"))]):x("span",{class:"vxe-checkbox--label"},po("vxe.table.customTitle"))])])]),x("div",{class:"vxe-table-custom--body"},[Qt?x("div",{class:"vxe-table-custom--panel-top"},w.callSlot(Qt,dt)):so(w),ut?x("div",{class:"vxe-table-custom--panel-body"},w.callSlot(ut,dt)):x(Nd,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},At),{default:()=>Kt}),Yt?x("div",{class:"vxe-table-custom--panel-bottom"},w.callSlot(Yt,dt)):so(w)]),qe.showFooter?x("div",{class:"vxe-table-custom--footer"},wt?w.callSlot(wt,dt):[x("div",{class:"vxe-table-custom--footer-buttons"},[u?x(u,{mode:"text",content:qe.resetButtonText||po("vxe.table.customRestore"),disabled:!pt,onClick:we}):so(w),at?u?x(u,{mode:"text",content:qe.closeButtonText||po("vxe.table.customClose"),onClick:q}):so(w):u?x(u,{mode:"text",content:qe.cancelButtonText||po("vxe.table.customCancel"),onClick:ee}):so(w),at?so(w):u?x(u,{mode:"text",status:"primary",content:qe.confirmButtonText||po("vxe.table.customConfirm"),onClick:U}):so(w)])]):null]),Ie()])]:[])},Le=()=>{const V=w.xeGrid,he=w.xeGantt,{customStore:Ce}=e,{treeConfig:De,rowGroupConfig:Be,aggregateConfig:Ze,resizable:Ae}=H,{isCustomStatus:pt,customColumnList:Qe}=S,qe=j.value,{immediate:at}=qe,He=W.value,{mode:Ne,modalOptions:Ot,drawerOptions:xt,allowVisible:Rt,allowSort:Ue,allowFixed:rt,allowResizable:st,checkMethod:bt,visibleMethod:Ye}=qe,Dt=Y.value,{maxFixedSize:et}=Dt,Lt=g.value,{minWidth:Qt,maxWidth:Yt}=Lt,ut=Object.assign({},Ot),wt=Object.assign({},xt),Kt=m.value,{isCrossDrag:At}=He,Pt=qe.slots||{},Xt=Pt.header,dt=Pt.top,_=Pt.bottom,ae=Pt.default,Ee=Pt.footer,Te=[],ze=Ce.isAll,ft=Ce.isIndeterminate,St={$table:w,$grid:V,$gantt:he,columns:Qe,isAllChecked:ze,isAllIndeterminate:ft,isCustomStatus:pt};a.eachTree(Qe,(nt,lt,Tt,zt,ao)=>{if(Ye?Ye({$table:w,column:nt}):!0){let Jo=0,yo=0;if(st){const no={$table:w,column:nt,columnIndex:lt,$columnIndex:lt,$rowIndex:-1};Qt&&(Jo=a.toNumber(a.isFunction(Qt)?Qt(no):Qt)),Yt&&(yo=a.toNumber(a.isFunction(Yt)?Yt(no):Yt))}const Io=nt.renderVisible,vr=nt.halfVisible,mr=qo(nt.getTitle(),1),lo=nt.children&&nt.children.length,Uo=bt?!bt({$table:w,column:nt}):!1,Wt=!Io;Te.push(x("tr",{key:nt.id,colid:nt.id,class:[`vxe-table-custom-popup--row level--${nt.level}`,{"is--group":lo}],onDragstart:Q,onDragend:Fe,onDragover:Je},[Rt?x("td",{class:"vxe-table-custom-popup--column-item col--visible"},[x("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Io,"is--indeterminate":vr,"is--disabled":Uo}],title:po("vxe.custom.setting.colVisible"),onClick:no=>{Uo||be(nt,no)}},[x("span",{class:["vxe-checkbox--icon",vr?Lo().TABLE_CHECKBOX_INDETERMINATE:Io?Lo().TABLE_CHECKBOX_CHECKED:Lo().TABLE_CHECKBOX_UNCHECKED]})])]):so(w),x("td",{class:"vxe-table-custom-popup--column-item col--name"},[x("div",{class:"vxe-table-custom-popup--name"},[Ue?At&&at||nt.level===1?x("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Wt}],title:po("vxe.custom.setting.sortHelpTip")},Wt?{}:{onMousedown:ge,onMouseup:ce}),[x("i",{class:Lo().TABLE_CUSTOM_SORT})]):x("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):so(w),nt.type==="html"?x("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:mr}):x("div",{key:"0",class:"vxe-table-custom-popup--title",title:mr},mr)])]),st?x("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[nt.children&&nt.children.length||!(a.isBoolean(nt.resizable)?nt.resizable:Dt.resizable||Ae)?x("span","-"):h?x(h,{type:"integer",immediate:!1,disabled:Wt,modelValue:nt.renderResizeWidth,min:Jo||void 0,max:yo||void 0,"onUpdate:modelValue"(no){const Vo=Math.max(0,Number(no));nt.renderResizeWidth=Vo},onChange(){Me(nt)}}):so(w)]):so(w),rt?x("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[ao?x("span","-"):y?x(y,{modelValue:nt.renderFixed||"",type:"button",size:"mini",disabled:Wt,options:[{label:po("vxe.custom.setting.fixedLeft"),value:"left",disabled:Wt||Kt},{label:po("vxe.custom.setting.fixedUnset"),value:"",disabled:Wt},{label:po("vxe.custom.setting.fixedRight"),value:"right",disabled:Wt||Kt}],onChange({label:no,$event:Vo}){ne(nt,no,Vo)}}):so(w)]):so(w)]))}});const _t={default:()=>x("div",{ref:te,class:"vxe-table-custom-popup--body-wrapper"},ae?w.callSlot(ae,St):[x("div",{ref:$,class:"vxe-table-custom-popup--handle-wrapper"},[dt?x("div",{class:"vxe-table-custom-popup--table-top"},w.callSlot(dt,St)):so(w),x("div",{class:"vxe-table-custom-popup--table-wrapper"},[x("table",{},[x("colgroup",{},[Rt?x("col",{class:"vxe-table-custom-popup--table-col-seq"}):so(w),x("col",{class:"vxe-table-custom-popup--table-col-title"}),st?x("col",{class:"vxe-table-custom-popup--table-col-width"}):so(w),rt?x("col",{class:"vxe-table-custom-popup--table-col-fixed"}):so(w)]),x("thead",{},[x("tr",{},[Rt?x("th",{},[x("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ze,"is--indeterminate":ft}],title:po("vxe.table.allTitle"),onClick:Z},[x("span",{class:["vxe-checkbox--icon",ft?Lo().TABLE_CHECKBOX_INDETERMINATE:ze?Lo().TABLE_CHECKBOX_CHECKED:Lo().TABLE_CHECKBOX_UNCHECKED]}),x("span",{class:"vxe-checkbox--label"},po("vxe.toolbar.customAll"))])]):so(w),x("th",{},po("vxe.custom.setting.colTitle")),st?x("th",{},po("vxe.custom.setting.colResizable")):so(w),rt?x("th",{},po(`vxe.custom.setting.${et?"colFixedMax":"colFixed"}`,[et])):so(w)])]),x(Nd,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Te})])]),_?x("div",{class:"vxe-table-custom-popup--table-bottom"},w.callSlot(_,St)):so(w),Ie()]),!De&&(Ze||Be)&&w.getPivotTableAggregatePopupPanel?x(w.getPivotTableAggregatePopupPanel(),{customStore:Ce}):so(w)]),footer:()=>Ee?w.callSlot(Ee,St):x("div",{class:"vxe-table-custom-popup--footer"},[u?x(u,{content:qe.resetButtonText||po("vxe.custom.cstmRestore"),disabled:!pt,onClick:we}):so(w),at?u?x(u,{content:qe.closeButtonText||po("vxe.table.customClose"),onClick:q}):so(w):u?x(u,{content:qe.cancelButtonText||po("vxe.table.customCancel"),onClick:ee}):so(w),at?so(w):u?x(u,{status:"primary",content:qe.confirmButtonText||po("vxe.custom.cstmConfirm"),onClick:U}):so(w)])};return Xt&&(_t.header=()=>w.callSlot(Xt,St)),Ne==="drawer"?c?x(c,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",wt.className||""].join(" "),modelValue:Ce.visible,title:wt.title||po("vxe.custom.cstmTitle"),width:wt.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:wt.position,resize:!!wt.resize,escClosable:!!wt.escClosable,maskClosable:!!wt.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(nt){Ce.visible=nt}},_t):so(w):n?x(n,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",ut.className||""].join(" "),modelValue:Ce.visible,title:ut.title||po("vxe.custom.cstmTitle"),width:ut.width||Math.min(880,document.documentElement.clientWidth),minWidth:ut.minWidth||700,height:ut.height||Math.min(680,document.documentElement.clientHeight),minHeight:ut.minHeight||400,showZoom:ut.showZoom,showMaximize:ut.showMaximize,showMinimize:ut.showMinimize,mask:ut.mask,lockView:ut.lockView,resize:ut.resize,escClosable:!!ut.escClosable,maskClosable:!!ut.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(nt){Ce.visible=nt}},_t):so(w)},Pe=()=>{const V=j.value;return["modal","drawer","popup"].includes(`${V.mode}`)?Le():je()};se(()=>{const V=j.value,{mode:he}=V;!n&&he==="modal"&&We("vxe.error.reqComp",["vxe-modal"]),!c&&he==="drawer"&&We("vxe.error.reqComp",["vxe-drawer"]),u||We("vxe.error.reqComp",["vxe-button"]),h||We("vxe.error.reqComp",["vxe-number-input"]),y||We("vxe.error.reqComp",["vxe-radio-group"])});const Re={xID:r,props:e,context:t,reactData:le,internalData:M,xeTable:w,getRefMaps:()=>I,getComputeMaps:()=>k,renderVN:Pe};return Pn(()=>{M=Qf()}),Xr("$xeTableCustomPanel",Re),Re},render(){return this.renderVN()}}),{getI18n:Pa,getIcon:Ks,renderer:Jf,renderEmptyElement:pk}=me,hk=Gr({name:"VxeTableFilterPanel",props:{filterStore:{type:Object,default:()=>({})}},setup(e,t){const r=a.uniqueId(),n=Qo("$xeTable",{}),{reactData:c,internalData:u,getComputeMaps:h}=n,{computeFilterOpts:y}=h(),w=Xe(),H={refElem:w},S={xID:r,props:e,context:t,getRefMaps:()=>H},F=ke(()=>{const{filterStore:M}=e,{column:I}=M;return I&&I.filters&&I.filters.some(k=>k.checked)}),j=(M,I)=>{const{filterStore:k}=e,{column:K}=k;K&&K.filters&&K.filters.forEach(ie=>{ie._checked=I,ie.checked=I}),k.isAllSelected=I,k.isIndeterminate=!1},W=M=>{const{filterStore:I}=e;M||ot("vxe.error.delFunc",["confirmFilter","saveFilterPanelByEvent"]),n.handleFilterConfirmFilter(M||new Event("click"),I.column||null)},Y=(M,I,k)=>{n.handleFilterChangeRadioOption(M,I,k)},m=M=>{const{filterStore:I}=e;n.handleFilterResetFilter(M,I.column||null)},g=(M,I,k)=>{n.handleFilterChangeMultipleOption(M,I,k)},L=(M,I,k)=>{n.handleFilterChangeOption(M,I,k)},te=(M,I)=>{const{filterStore:k}=e,{column:K}=k;K&&K.filterMultiple?j(M,I):m(M)};Object.assign(S,{changeRadioOption:Y,changeMultipleOption:g,changeAllOption:te,changeOption:L,confirmFilter:W,resetFilter:m});const J=(M,I)=>{const{filterStore:k}=e,{column:K,maxHeight:ie}=k;if(!K)return[];const{filterMultiple:U,filters:q,slots:ee}=K,ve=q||[],we=ee?ee.filter:null,ye=Object.assign({},u._currFilterParams,{option:ve[0],$panel:S,$table:n}),be=I?I.renderTableFilter||I.renderFilter:null;if(we)return[x("div",{class:"vxe-table--filter-template",style:ie?{maxHeight:ll(ie)}:{}},n.callSlot(we,ye))];if(M&&be)return[x("div",{class:"vxe-table--filter-template",style:ie?{maxHeight:ll(ie)}:{}},Oo(be(M,ye)))];const Me=U?k.isAllSelected:!ve.some(Z=>Z._checked),ne=U&&k.isIndeterminate;return[x("ul",{class:"vxe-table--filter-header"},[x("li",{class:["vxe-table--filter-option",{"is--checked":Me,"is--indeterminate":ne}],title:Pa(U?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Z=>{te(Z,!k.isAllSelected)}},(U?[x("span",{class:["vxe-checkbox--icon",ne?Ks().TABLE_CHECKBOX_INDETERMINATE:Me?Ks().TABLE_CHECKBOX_CHECKED:Ks().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([x("span",{class:"vxe-checkbox--label"},Pa("vxe.table.allFilter"))]))]),x("ul",{class:"vxe-table--filter-body",style:ie?{maxHeight:ll(ie)}:{}},ve.map(Z=>{const re=Z._checked;return x("li",{class:["vxe-table--filter-option",{"is--checked":Z._checked}],title:Z.label,onClick:de=>{L(de,!Z._checked,Z)}},(U?[x("span",{class:["vxe-checkbox--icon",re?Ks().TABLE_CHECKBOX_CHECKED:Ks().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([x("span",{class:"vxe-checkbox--label"},qo(Z.label,1))]))}))]},ue=()=>{const{filterStore:M}=e,{column:I}=M;if(!I)return[];const k=y.value,K=F.value,{filterRender:ie,filterMultiple:U}=I,q=it(ie)?Jf.get(ie.name):null,ee=!K&&!M.isAllSelected&&!M.isIndeterminate;return(q?!(q.showTableFilterFooter===!1||q.showFilterFooter===!1||q.isFooter===!1):U)?[x("div",{class:"vxe-table--filter-footer"},[x("button",{class:{"is--disabled":ee},disabled:ee,onClick:W},k.confirmButtonText||Pa("vxe.table.confirmFilter")),x("button",{onClick:m},k.resetButtonText||Pa("vxe.table.resetFilter"))])]:[]},le=()=>{const{filterStore:M}=e,{initStore:I}=c,{visible:k,column:K}=M;if(!K)return pk(S);const ie=K?K.filterRender:null,U=ie&&it(ie)?Jf.get(ie.name):null,q=U?U.tableFilterClassName||U.filterClassName:"",ee=Object.assign({},u._currFilterParams,{$panel:S,$table:n}),ve=n.props,{computeSize:we}=n.getComputeMaps(),ye=we.value,be=y.value,{transfer:Me,destroyOnClose:ne,className:Z}=be;return x(Ja,{to:"body",disabled:!Me},[x("div",{ref:w,class:["vxe-table--filter-wrapper","filter--prevent-default",Z,tl(q,ee),{[`size--${ye}`]:ye,"is--animat":ve.animat,"is--multiple":K.filterMultiple,"is--active":k}],style:M.style},I.filter&&(!ne||k)&&K?J(ie,U).concat(ue()):[])])};return S.renderVN=le,S},render(){return this.renderVN()}}),{getI18n:El,getIcon:vk,renderEmptyElement:es}=me,mk=Gr({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=me.getComponent("VxeModal"),r=me.getComponent("VxeButton"),n=me.getComponent("VxeSelect"),c=Qo("$xeTable",{}),{computeImportOpts:u}=c.getComputeMaps(),h=Br({loading:!1}),y=Xe(),w=ke(()=>{const{storeData:L}=e;return`${L.filename}.${L.type}`}),H=ke(()=>{const{storeData:L}=e;return L.file&&L.type}),S=ke(()=>{const{storeData:L}=e,{type:te,typeList:$}=L;if(te){const J=a.find($,ue=>te===ue.value);return J?J.label:"*.*"}return`*.${$.map(J=>J.value).join(", *.")}`}),F=()=>{const{storeData:L}=e;Object.assign(L,{filename:"",sheetName:"",type:""})},j=()=>{const{storeData:L,defaultOptions:te}=e;c.readFile(te).then($=>{const{file:J}=$;Object.assign(L,jh(J),{file:J})}).catch($=>$)},W=()=>{se(()=>{const L=y.value;L&&L.focus()})},Y=()=>{const{storeData:L}=e;L.visible=!1},m=()=>{const{storeData:L,defaultOptions:te}=e,$=u.value;h.loading=!0,c.importByFile(L.file,Object.assign({},$,te)).then(()=>{h.loading=!1,L.visible=!1}).catch(()=>{h.loading=!1})},g=()=>{const L=c.xeGrid,te=c.xeGantt,{defaultOptions:$,storeData:J}=e,ue=w.value,le=H.value,M=S.value,I=$.slots||{},k=I.top,K=I.bottom,ie=I.default,U=I.footer;return t?x(t,{id:"VXE_IMPORT_MODAL",modelValue:J.visible,title:El("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:h.loading,"onUpdate:modelValue"(q){J.visible=q},onShow:W},{default:()=>{const q={$table:c,$grid:L,$gantt:te,options:$,params:$.params};return x("div",{class:"vxe-table-export--panel"},[k?x("div",{class:"vxe-table-export--panel-top"},c.callSlot(k,q)):es(c),x("div",{class:"vxe-table-export--panel-body"},ie?c.callSlot(ie,q):[x("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[x("tbody",[x("tr",[x("td",El("vxe.import.impFile")),x("td",[le?x("div",{class:"vxe-table-export--selected--file",title:ue},[x("span",ue),x("i",{class:vk().INPUT_CLEAR,onClick:F})]):x("button",{ref:y,class:"vxe-table-export--select--file",onClick:j},El("vxe.import.impSelect"))])]),x("tr",[x("td",El("vxe.import.impType")),x("td",M)]),x("tr",[x("td",El("vxe.import.impMode")),x("td",[n?x(n,{modelValue:$.mode,options:J.modeList,"onUpdate:modelValue"(ee){$.mode=ee}}):es(c)])])])])]),K?x("div",{class:"vxe-table-export--panel-bottom"},c.callSlot(K,q)):es(c)])},footer(){const q={$table:c,$grid:L,$gantt:te,options:$,params:$.params};return x("div",{class:"vxe-table-export--panel-footer"},U?c.callSlot(U,q):[x("div",{class:"vxe-table-export--panel-btns"},[r?x(r,{content:El("vxe.import.impCancel"),onClick:Y}):es(c),r?x(r,{status:"primary",disabled:!le||h.loading,content:El("vxe.import.impConfirm"),onClick:m}):es(c)])])}}):es(c)};return se(()=>{t||We("vxe.error.reqComp",["vxe-modal"]),r||We("vxe.error.reqComp",["vxe-button"]),n||We("vxe.error.reqComp",["vxe-select"])}),g}}),{getI18n:bo,getIcon:ts,renderEmptyElement:jo}=me,bk=Gr({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=me.getComponent("VxeModal"),r=me.getComponent("VxeButton"),n=me.getComponent("VxeSelect"),c=me.getComponent("VxeInput"),u=me.getComponent("VxeCheckbox"),h=Qo("$xeTable",{}),{computeExportOpts:y,computePrintOpts:w}=h.getComputeMaps(),H=Br({isAll:!1,isIndeterminate:!1,loading:!1}),S=Xe(),F=Xe(),j=Xe(),W=ke(()=>{const{storeData:U}=e;return U.columns.every(q=>q.checked)}),Y=ke(()=>{const{defaultOptions:U}=e;return["html","xml","xlsx","pdf"].indexOf(U.type)>-1}),m=ke(()=>{const{storeData:U,defaultOptions:q}=e;return!q.original&&q.mode==="current"&&(U.isPrint||["html","xlsx"].indexOf(q.type)>-1)}),g=ke(()=>{const{defaultOptions:U}=e;return!U.original&&["xlsx"].indexOf(U.type)>-1}),L=U=>{const{storeData:q}=e,ee=a.findTree(q.columns,ve=>ve===U);if(ee&&ee.parent){const{parent:ve}=ee;ve.children&&ve.children.length&&(ve.checked=ve.children.every(we=>we.checked),ve.halfChecked=!ve.checked&&ve.children.some(we=>we.checked||we.halfChecked),L(ve))}},te=()=>{const{storeData:U}=e,q=U.columns;H.isAll=q.every(ee=>ee.disabled||ee.checked),H.isIndeterminate=!H.isAll&&q.some(ee=>!ee.disabled&&(ee.checked||ee.halfChecked))},$=U=>{const q=!U.checked;a.eachTree([U],ee=>{ee.checked=q,ee.halfChecked=!1}),L(U),te()},J=()=>{const{storeData:U}=e,q=!H.isAll;a.eachTree(U.columns,ee=>{ee.disabled||(ee.checked=q,ee.halfChecked=!1)}),H.isAll=q,te()},ue=()=>{se(()=>{const U=F.value,q=j.value,ee=S.value,ve=U||q||ee;ve&&ve.focus()}),te()},le=()=>{const{storeData:U,defaultOptions:q}=e,{hasMerge:ee,columns:ve}=U,we=W.value,ye=m.value,be=a.searchTree(ve,Me=>Me.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},q,{columns:be,isMerge:ee&&ye&&we?q.isMerge:!1})},M=()=>{const{storeData:U}=e,q=w.value;U.visible=!1,h.print(Object.assign({},q,le()))},I=()=>{const{storeData:U}=e,q=y.value;H.loading=!0,h.exportData(Object.assign({},q,le())).then(()=>{H.loading=!1,U.visible=!1}).catch(()=>{H.loading=!1})},k=()=>{const{storeData:U}=e;U.visible=!1},K=()=>{const{storeData:U}=e;U.isPrint?M():I()},ie=()=>{const U=h.xeGrid,q=h.xeGantt,{defaultOptions:ee,storeData:ve}=e,{isAll:we,isIndeterminate:ye}=H,{hasTree:be,hasMerge:Me,isPrint:ne,hasColgroup:Z,columns:re}=ve,{isHeader:de}=ee,pe=[],ge=W.value,ce=Y.value,Q=m.value,Fe=g.value,Je=ee.slots||{},Ie=Je.top,je=Je.bottom,Le=Je.default,Pe=Je.footer,Re=Je.parameter;return a.eachTree(re,V=>{const he=qo(V.getTitle(),1),Ce=V.children&&V.children.length,De=V.checked,Be=V.halfChecked,Ze=V.type==="html";pe.push(x("li",{key:V.id,class:["vxe-table-export--panel-column-option",`level--${V.level}`,{"is--group":Ce,"is--checked":De,"is--indeterminate":Be,"is--disabled":V.disabled}],title:Ze?"":he,onClick:()=>{V.disabled||$(V)}},[x("span",{class:["vxe-checkbox--icon",Be?ts().TABLE_CHECKBOX_INDETERMINATE:De?ts().TABLE_CHECKBOX_CHECKED:ts().TABLE_CHECKBOX_UNCHECKED]}),Ze?x("span",{key:"1",class:"vxe-checkbox--label",innerHTML:he}):x("span",{key:"0",class:"vxe-checkbox--label"},he)]))}),t?x(t,{id:"VXE_EXPORT_MODAL",modelValue:ve.visible,title:bo(ne?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:H.loading,"onUpdate:modelValue"(V){ve.visible=V},onShow:ue},{default:()=>{const V={$table:h,$grid:U,$gantt:q,options:ee,columns:re,params:ee.params},he=ee.mode==="empty";return x("div",{class:"vxe-table-export--panel"},[Ie?x("div",{class:"vxe-table-export--panel-top"},h.callSlot(Ie,V)):jo(h),x("div",{class:"vxe-table-export--panel-body"},Le?h.callSlot(Le,V):[x("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[x("tbody",[[ne?jo(h):x("tr",[x("td",bo("vxe.export.expName")),x("td",[c?x(c,{ref:F,modelValue:ee.filename,type:"text",clearable:!0,placeholder:bo("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Ce){ee.filename=Ce}}):jo(h)])]),ne?jo(h):x("tr",[x("td",bo("vxe.export.expType")),x("td",[n?x(n,{modelValue:ee.type,options:ve.typeList,"onUpdate:modelValue"(Ce){ee.type=Ce}}):jo(h)])]),ne||ce?x("tr",[x("td",bo("vxe.export.expSheetName")),x("td",[c?x(c,{ref:j,modelValue:ee.sheetName,type:"text",clearable:!0,placeholder:bo("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Ce){ee.sheetName=Ce}}):jo(h)])]):jo(h),x("tr",[x("td",bo("vxe.export.expMode")),x("td",[n?x(n,{modelValue:ee.mode,options:ve.modeList.map(Ce=>({value:Ce.value,label:bo(Ce.label)})),"onUpdate:modelValue"(Ce){ee.mode=Ce}}):jo(h)])]),x("tr",[x("td",[bo("vxe.export.expColumn")]),x("td",[x("div",{class:"vxe-table-export--panel-column"},[x("ul",{class:"vxe-table-export--panel-column-header"},[x("li",{class:["vxe-table-export--panel-column-option",{"is--checked":we,"is--indeterminate":ye}],title:bo("vxe.table.allTitle"),onClick:J},[x("span",{class:["vxe-checkbox--icon",ye?ts().TABLE_CHECKBOX_INDETERMINATE:we?ts().TABLE_CHECKBOX_CHECKED:ts().TABLE_CHECKBOX_UNCHECKED]}),x("span",{class:"vxe-checkbox--label"},bo("vxe.export.expCurrentColumn"))])]),x("ul",{class:"vxe-table-export--panel-column-body"},pe)])])]),x("tr",[x("td",bo("vxe.export.expOpts")),Re?x("td",[x("div",{class:"vxe-table-export--panel-option-row"},h.callSlot(Re,V))]):x("td",[x("div",{class:"vxe-table-export--panel-option-row"},[u?x(u,{modelValue:he||de,disabled:he,title:bo("vxe.export.expHeaderTitle"),content:bo("vxe.export.expOptHeader"),"onUpdate:modelValue"(Ce){ee.isHeader=Ce}}):jo(h),u?x(u,{modelValue:de?ee.isTitle:!1,disabled:!de,title:bo("vxe.export.expTitleTitle"),content:bo("vxe.export.expOptTitle"),"onUpdate:modelValue"(Ce){ee.isTitle=Ce}}):jo(h),u?x(u,{modelValue:de&&Z&&Q?ee.isColgroup:!1,title:bo("vxe.export.expColgroupTitle"),disabled:!de||!Z||!Q,content:bo("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Ce){ee.isColgroup=Ce}}):jo(h)]),x("div",{class:"vxe-table-export--panel-option-row"},[u?x(u,{modelValue:he?!1:ee.original,disabled:he,title:bo("vxe.export.expOriginalTitle"),content:bo("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Ce){ee.original=Ce}}):jo(h),u?x(u,{modelValue:Me&&Q&&ge?ee.isMerge:!1,title:bo("vxe.export.expMergeTitle"),disabled:he||!Me||!Q||!ge,content:bo("vxe.export.expOptMerge"),"onUpdate:modelValue"(Ce){ee.isMerge=Ce}}):jo(h),ne||!u?jo(h):x(u,{modelValue:Fe?ee.useStyle:!1,disabled:!Fe,title:bo("vxe.export.expUseStyleTitle"),content:bo("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Ce){ee.useStyle=Ce}}),u?x(u,{modelValue:be?ee.isAllExpand:!1,disabled:he||!be,title:bo("vxe.export.expAllExpandTitle"),content:bo("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Ce){ee.isAllExpand=Ce}}):jo(h)]),x("div",{class:"vxe-table-export--panel-option-row"},[u?x(u,{modelValue:ee.isFooter,disabled:!ve.hasFooter,title:bo("vxe.export.expFooterTitle"),content:bo("vxe.export.expOptFooter"),"onUpdate:modelValue"(Ce){ee.isFooter=Ce}}):jo(h)])])])]])])]),je?x("div",{class:"vxe-table-export--panel-bottom"},h.callSlot(je,V)):jo(h)])},footer(){const V={$table:h,$grid:U,$gantt:q,options:ee,columns:re,params:ee.params};return x("div",{class:"vxe-table-export--panel-footer"},Pe?h.callSlot(Pe,V):[x("div",{class:"vxe-table-export--panel-btns"},[r?x(r,{content:bo("vxe.export.expCancel"),onClick:k}):jo(h),r?x(r,{ref:S,status:"primary",content:bo(ne?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:K}):jo(h)])])}}):jo(h)};return se(()=>{t||We("vxe.error.reqComp",["vxe-modal"]),r||We("vxe.error.reqComp",["vxe-button"]),n||We("vxe.error.reqComp",["vxe-select"]),c||We("vxe.error.reqComp",["vxe-input"]),u||We("vxe.error.reqComp",["vxe-checkbox"])}),ie}}),{getIcon:fc,getI18n:eg,renderEmptyElement:os}=me,xk=Gr({name:"VxeTableMenuPanel",setup(e,t){const r=a.uniqueId(),n=Qo("$xeTable",{}),{reactData:c}=n,u=Xe(),h={refElem:u},y={xID:r,props:e,context:t,getRefMaps:()=>h},w=()=>{const{ctxMenuStore:H}=c,{computeMenuOpts:S}=n.getComputeMaps(),F=S.value,{transfer:j,destroyOnClose:W}=F,{visible:Y,list:m,className:g}=H;return x(Ja,{to:"body",disabled:!j},[x("div",{ref:u,class:["vxe-table--context-menu-wrapper",g,{"is--visible":Y}],style:H.style},!W||Y?m.map((L,te)=>L.every($=>$.visible===!1)?os(n):x("ul",{class:"vxe-context-menu--option-wrapper",key:te},L.map(($,J)=>{const{children:ue,loading:le}=$,M=ue&&ue.some(q=>q.visible!==!1),I=Object.assign({},$.prefixConfig),k=I.icon||$.prefixIcon,K=Object.assign({},$.suffixConfig),ie=K.icon||$.suffixIcon,U=Sn($.name);return $.visible===!1?os(n):x("li",{class:[$.className,{"link--loading":le,"link--disabled":$.disabled,"link--active":$===H.selected}],key:`${te}_${J}`},[x("a",{class:"vxe-context-menu--link",onClick(q){n.ctxMenuLinkEvent(q,$)},onMouseover(q){n.ctxMenuMouseoverEvent(q,$)},onMouseout(q){n.ctxMenuMouseoutEvent(q,$)}},[x("div",{class:["vxe-context-menu--link-prefix",I.className||""]},[le?x("span",{class:fc("TABLE_MENU_OPTION_LOADING")}):k&&a.isFunction(k)?x("span",{},Oo(k({}))):x("span",{},[x("i",{class:k})]),I.content?x("span",{},`${I.content}`):os(n)]),x("div",{class:"vxe-context-menu--link-content",title:U},le?eg("vxe.table.menuLoading"):U),x("div",{class:["vxe-context-menu--link-suffix",K.className||""]},[ie&&a.isFunction(ie)?x("span",{},Oo(ie({}))):x("i",{class:ie||(M?fc().TABLE_MENU_OPTIONS:"")}),K.content?x("span",`${K.content}`):os(n)])]),M&&$.children?x("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":$===H.selected&&H.showChild}]},$.children.map((q,ee)=>{const{loading:ve}=q,we=Object.assign({},q.prefixConfig),ye=we.icon||q.prefixIcon,be=Object.assign({},q.suffixConfig),Me=be.icon||q.suffixIcon,ne=Sn(q.name);return q.visible===!1?null:x("li",{class:[q.className,{"link--loading":ve,"link--disabled":q.disabled,"link--active":q===H.selectChild}],key:`${te}_${J}_${ee}`},[x("a",{class:"vxe-context-menu--link",onClick(Z){n.ctxMenuLinkEvent(Z,q)},onMouseover(Z){n.ctxMenuMouseoverEvent(Z,$,q)},onMouseout(Z){n.ctxMenuMouseoutEvent(Z,$)}},[x("div",{class:["vxe-context-menu--link-prefix",we.className||""]},[q.loading?x("span",{class:fc("TABLE_MENU_OPTION_LOADING")}):ye&&a.isFunction(ye)?x("span",{},Oo(ye({}))):x("span",{},[x("i",{class:ye})]),we.content?x("span",`${we.content}`):os(n)]),x("div",{class:"vxe-context-menu--link-content",title:ne},ve?eg("vxe.table.menuLoading"):ne),x("div",{class:["vxe-context-menu--link-suffix",be.className||""]},[Me&&a.isFunction(Me)?x("span",{},Oo(Me({}))):x("i",{class:Me}),be.content?x("span",`${be.content}`):os(n)])])])})):null])}))):[])])};return y.renderVN=w,y},render(){return this.renderVN()}}),{renderer:tg,hooks:Ck}=me,og=["openFilter","setFilter","clearFilter","saveFilter","saveFilterByEvent","saveFilterPanel","saveFilterPanelByEvent","resetFilter","resetFilterByEvent","resetFilterPanel","resetFilterPanelByEvent","getCheckedFilters","updateFilterOptionStatus"];Ck.add("tableFilterModule",{setupTable(e){const t=e.xeGrid,r=e.xeGantt,n=t||r,{props:c,reactData:u,internalData:h}=e,{refElem:y,refTableFilter:w}=e.getRefMaps(),{computeFilterOpts:H,computeMouseOpts:S}=e.getComputeMaps(),F={checkFilterOptions(){const{filterStore:W}=u,{column:Y}=W;if(Y){const m=Y.filters||[];W.isAllSelected=m.every(g=>g._checked),W.isIndeterminate=!W.isAllSelected&&m.some(g=>g._checked)}},triggerFilterEvent(W,Y,m){const{initStore:g,filterStore:L}=u,{elemStore:te}=h;if(L.column===Y&&L.visible)L.visible=!1;else{const $=y.value,{scrollTop:J,scrollLeft:ue,visibleHeight:le,visibleWidth:M}=mi(),I=H.value,{transfer:k}=I,K=$.getBoundingClientRect(),ie=W.currentTarget,U=Y?Y.filterRender:null,q=U&&it(U)?tg.get(U.name):null;e.handleFilterOptions(Y),h._currFilterParams=m,L.style=null,L.visible=!0,g.filter=!0,se(()=>{if(!ct(te["main-header-scroll"]))return;const ve=w.value,we=ve?ve.getRefMaps().refElem.value:null;if(!we)return;const ye=ie.getBoundingClientRect(),be=we.querySelector(".vxe-table--filter-header"),Me=we.querySelector(".vxe-table--filter-footer"),ne=we.offsetWidth,Z=ne/2;let re=0,de=0,pe=0;if(k)re=ye.left-Z+ue,de=ye.top+ie.clientHeight+J,pe=Math.min(Math.max(K.height,Math.floor(le/2)),Math.max(80,le-de-(be?be.clientHeight:0)-(Me?Me.clientHeight:0)-28)),re<16?re=16:re>M-ne-16&&(re=M-ne-16);else if(re=ye.left-K.left-Z,de=ye.top-K.top+ie.clientHeight,pe=Math.max(40,$.clientHeight-de-(be?be.clientHeight:0)-(Me?Me.clientHeight:0)-14),re<1?re=1:re>$.clientWidth-ne-1&&(re=$.clientWidth-ne-1),n){const ge=n.getRefMaps().refElem.value;if(ge){const ce=ge.getBoundingClientRect();de+=K.top-ce.top}}L.style={top:ll(de),left:ll(re)},q&&!q.tableFilterAutoHeight&&(pe=0),L.maxHeight=pe})}e.dispatchEvent("filter-visible",{column:Y,field:Y.field,property:Y.field,filterList:e.getCheckedFilters(),visible:L.visible},W)},handleClearFilter(W){if(W){const{filters:Y,filterRender:m}=W;if(Y){const g=it(m)?tg.get(m.name):null,L=W.filterResetMethod||(g?g.tableFilterResetMethod||g.filterResetMethod:null);Y.forEach(te=>{te._checked=!1,te.checked=!1,L||(te.data=a.clone(te.resetValue,!0))}),L&&L({options:Y,column:W,$table:e})}}},handleColumnConfirmFilter(W,Y){const{mouseConfig:m}=c,{scrollXLoad:g,scrollYLoad:L}=u,te=H.value,$=S.value,{field:J,filters:ue}=W,le=ue||[],M=[],I=[];le.forEach(ie=>{ie.checked&&(M.push(ie.value),I.push(ie.data))});const k=e.getCheckedFilters(),K={$table:e,$event:Y,column:W,field:J,property:J,values:M,datas:I,filters:k,filterList:k};return te.remote||(e.handleTableData(!0),e.checkSelectionStatus()),m&&$.area&&e.handleFilterEvent&&e.handleFilterEvent(Y,K),Y&&e.dispatchEvent("filter-change",K,Y),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:ie,scrollYLoad:U}=u;if(g||ie||L||U)return(g||ie)&&e.updateScrollXSpace(),(L||U)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(W,Y){Y&&e.handleColumnConfirmFilter(Y,W)},handleFilterChangeRadioOption(W,Y,m){const{filterStore:g}=u,{column:L}=g;L&&((L.filters||[]).forEach($=>{$._checked=!1}),m._checked=Y,e.checkFilterOptions(),e.handleFilterConfirmFilter(W,L))},handleFilterChangeMultipleOption(W,Y,m){m._checked=Y,e.checkFilterOptions()},handleFilterChangeOption(W,Y,m){const{filterStore:g}=u,{fullColumnIdData:L}=h;let te=g.column;if(!te){const $=L[m._colId];$&&(te=$.column,g.column=te)}te&&(te.filterMultiple?e.handleFilterChangeMultipleOption(W,Y,m):e.handleFilterChangeRadioOption(W,Y,m))},handleFilterConfirmFilter(W,Y){Y&&((Y.filters||[]).forEach(g=>{g.checked=g._checked}),e.confirmFilterEvent(W,Y))},handleFilterResetFilter(W,Y){Y&&(e.handleClearFilter(Y),e.confirmFilterEvent(W,Y),W&&e.dispatchEvent("clear-filter",{filterList:[]},W))}};return Object.assign(Object.assign({},{openFilter(W){const Y=vo(e,W);if(Y&&Y.filters){const{elemStore:m}=h,{fixed:g}=Y;return e.scrollToColumn(Y).then(()=>{const L=ct(m[`${g||"main"}-header-wrapper`]||m["main-header-wrapper"]);if(L){const te=L.querySelector(`.vxe-header--column.${Y.id} .vxe-cell--filter`);P0(te,"click")}})}return se()},setFilter(W,Y,m){const{filterStore:g}=u,L=vo(e,W);if(L&&L.filters){if(L.filters=ni(Y||[],L.id),m)return e.handleColumnConfirmFilter(L,null);g.visible&&e.handleFilterOptions(L)}return se()},clearFilter(W){const{filterStore:Y}=u,{tableFullColumn:m}=h,g=H.value;let L;return W?(L=vo(e,W),L&&e.handleClearFilter(L)):m.forEach(e.handleClearFilter),(!W||L!==Y.column)&&Object.assign(Y,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),g.remote?se():e.updateData()},saveFilter(W){if(W){const Y=vo(e,W);e.handleFilterConfirmFilter(null,Y)}return se()},saveFilterByEvent(W,Y){if(Y){const m=vo(e,Y);e.handleFilterConfirmFilter(W,m)}return se()},resetFilter(W){if(W){const Y=vo(e,W);e.handleFilterResetFilter(null,Y)}return se()},resetFilterByEvent(W,Y){if(Y){const m=vo(e,Y);e.handleFilterResetFilter(W,m)}return se()},saveFilterPanel(){const{filterStore:W}=u;return e.handleFilterConfirmFilter(null,W.column||null),se()},saveFilterPanelByEvent(W){const{filterStore:Y}=u;return e.handleFilterConfirmFilter(W,Y.column||null),se()},resetFilterPanel(){const{filterStore:W}=u;return e.handleFilterResetFilter(null,W.column||null),se()},resetFilterPanelByEvent(W){const{filterStore:Y}=u;return e.handleFilterResetFilter(W,Y.column||null),se()},getCheckedFilters(){const{tableFullColumn:W}=h,Y=[];return W.forEach(m=>{const{field:g,filters:L}=m,te=L||[],$=[],J=[];te&&(te.forEach(ue=>{ue.checked&&($.push(ue.value),J.push(ue.data))}),$.length&&Y.push({column:m,field:g,property:g,values:$,datas:J}))}),Y},updateFilterOptionStatus(W,Y){return W._checked=Y,W.checked=Y,se()}}),F)},setupGrid(e){return e.extendTableMethods(og)},setupGantt(e){return e.extendTableMethods(og)}});const{menus:wk,hooks:yk,globalEvents:_a,GLOBAL_EVENT_KEYS:Ba}=me,rg=["closeMenu"];yk.add("tableMenuModule",{setupTable(e){const{xID:t,props:r,reactData:n,internalData:c}=e,{refElem:u,refTableFilter:h,refTableMenu:y}=e.getRefMaps(),{computeMouseOpts:w,computeIsContentMenu:H,computeMenuOpts:S}=e.getComputeMaps(),F=e.xeGrid,j=e.xeGantt,W=F||j;let Y={},m={};const g=(L,te,$)=>{const{ctxMenuStore:J}=n,ue=H.value,le=S.value,M=le[te],{transfer:I,visibleMethod:k}=le;if(M){const{options:K,disabled:ie}=M;ie?L.preventDefault():ue&&K&&K.length&&($.options=K,e.preventEvent(L,"event.showMenu",$,()=>{if(!k||k($)){L.preventDefault(),e.updateZindex();const U=W?W.getRefMaps().refElem.value:u.value;if(!U)return;const q=U.getBoundingClientRect(),{scrollTop:ee,scrollLeft:ve,visibleHeight:we,visibleWidth:ye}=mi();let be=L.clientY-q.y,Me=L.clientX-q.x;I&&(be=L.clientY+ee,Me=L.clientX+ve);const ne=()=>{c._currMenuParams=$,Object.assign(J,{visible:!0,list:K,selected:null,selectChild:null,showChild:!1,style:{zIndex:c.tZindex,top:`${be}px`,left:`${Me}px`}}),se(()=>{const ge=y.value.getRefMaps().refElem.value,ce=ge.clientHeight,Q=ge.clientWidth,{boundingTop:Fe,boundingLeft:Je}=Ka(ge),Ie=Fe+ce-we,je=Je+Q-ye;Ie>-10&&(J.style.top=`${Math.max(ee+2,be-ce-2)}px`),je>-10&&(J.style.left=`${Math.max(ve+2,Me-Q-2)}px`)})},{keyboard:Z,row:re,column:de}=$;Z&&re&&de?e.scrollToRow(re,de).then(()=>{const pe=e.getCellElement(re,de);if(pe){const{boundingTop:ge,boundingLeft:ce}=Ka(pe);be=ge+ee+Math.floor(pe.offsetHeight/2),Me=ce+ve+Math.floor(pe.offsetWidth/2)}ne()}):ne()}else Y.closeMenu()}))}e.closeFilter()};return Y={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),se()}},m={moveCtxMenu(L,te,$,J,ue,le){let M;const I=a.findIndexOf(le,k=>te[$]===k);if(J)ue&&vs(te.selected)?te.showChild=!0:(te.showChild=!1,te.selectChild=null);else if(_a.hasKey(L,Ba.ARROW_UP)){for(let k=I-1;k>=0;k--)if(le[k].visible!==!1){M=le[k];break}te[$]=M||le[le.length-1]}else if(_a.hasKey(L,Ba.ARROW_DOWN)){for(let k=I+1;k<le.length;k++)if(le[k].visible!==!1){M=le[k];break}te[$]=M||le[0]}else te[$]&&(_a.hasKey(L,Ba.ENTER)||_a.hasKey(L,Ba.SPACEBAR))&&e.ctxMenuLinkEvent(L,te[$])},handleOpenMenuEvent:g,handleGlobalContextmenuEvent(L){const te=e.xeGrid,$=e.xeGantt,{mouseConfig:J,menuConfig:ue}=r,{editStore:le,ctxMenuStore:M}=n,{visibleColumn:I}=c,k=h.value,K=y.value,ie=w.value,U=S.value,q=u.value,{selected:ee}=le,ve=["header","body","footer"];if(it(ue)){if(M.visible&&K&&Jt(L,K.getRefMaps().refElem.value).flag){L.preventDefault();return}if(c._keyCtx){const we="body",ye={source:"table",type:we,$table:e,$grid:te,$gantt:$,keyboard:!0,columns:I.slice(0),$event:L};if(J&&ie.area){const be=e.getActiveCellArea();if(be&&be.row&&be.column){ye.row=be.row,ye.column=be.column,g(L,we,ye);return}}else if(J&&ie.selected&&ee.row&&ee.column){ye.row=ee.row,ye.column=ee.column,g(L,we,ye);return}}for(let we=0;we<ve.length;we++){const ye=ve[we],be=Jt(L,q,`vxe-${ye}--column`,ne=>ne.parentNode.parentNode.parentNode.getAttribute("xid")===t),Me={source:"table",type:ye,$table:e,$grid:te,$gantt:$,columns:I.slice(0),$event:L};if(be.flag){const ne=be.targetElem,Z=e.getColumnNode(ne),re=Z?Z.item:null;let de=`${ye}-`;if(re&&Object.assign(Me,{column:re,columnIndex:e.getColumnIndex(re),cell:ne}),ye==="body"){const ge=e.getRowNode(ne.parentNode),ce=ge?ge.item:null;de="",ce&&(Me.row=ce,Me.rowIndex=e.getRowIndex(ce))}const pe=`${de}cell-menu`;g(L,ye,Me),e.dispatchEvent(pe,Me,L);return}else if(Jt(L,q,`vxe-table--${ye}-wrapper`,ne=>ne.getAttribute("xid")===t).flag||ye==="body"&&Jt(L,q,"vxe-table--empty-place-wrapper",ne=>ne.getAttribute("xid")===t).flag){U.trigger==="cell"?L.preventDefault():g(L,ye,Me);return}}}k&&!Jt(L,k.getRefMaps().refElem.value).flag&&e.closeFilter(),Y.closeMenu()},ctxMenuMouseoverEvent(L,te,$){const J=L.currentTarget,{ctxMenuStore:ue}=n;L.preventDefault(),L.stopPropagation(),ue.selected=te,ue.selectChild=$,$||(ue.showChild=vs(te),ue.showChild&&se(()=>{const le=J.nextElementSibling;if(le){const{boundingTop:M,boundingLeft:I,visibleHeight:k,visibleWidth:K}=Ka(J),ie=M+J.offsetHeight,U=I+J.offsetWidth;let q="",ee="";U+le.offsetWidth>K-10&&(q="auto",ee=`${J.offsetWidth}px`);let ve="",we="";ie+le.offsetHeight>k-10&&(ve="auto",we="0"),le.style.left=q,le.style.right=ee,le.style.top=ve,le.style.bottom=we}}))},ctxMenuMouseoutEvent(L,te){const{ctxMenuStore:$}=n;te.children||($.selected=null),$.selectChild=null},ctxMenuLinkEvent(L,te){const $=e.xeGrid,J=e.xeGantt;if(!te.loading&&!te.disabled&&(te.code||!te.children||!te.children.length)){const ue=wk.get(te.code),le=Object.assign({},c._currMenuParams,{menu:te,$table:e,$grid:$,$gantt:J,$event:L}),M=ue?ue.tableMenuMethod||ue.menuMethod:null;M&&M(le,L),e.dispatchEvent("menu-click",le,L),Y.closeMenu()}}},Object.assign(Object.assign({},Y),m)},setupGrid(e){return e.extendTableMethods(rg)},setupGantt(e){return e.extendTableMethods(rg)}});const{getConfig:Ek,renderer:Rk,hooks:Sk,getI18n:Ln}=me,ng=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getEditCell","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];Sk.add("tableEditModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:c}=e.getRefMaps(),{computeMouseOpts:u,computeEditOpts:h,computeCheckboxOpts:y,computeTreeOpts:w,computeValidOpts:H}=e.getComputeMaps(),S=a.browse();let F={},j={};const W=(M,I)=>{const{model:k,editRender:K}=I;K&&(k.value=No(M,I),k.update=!1)},Y=(M,I)=>{const{model:k,editRender:K}=I;K&&k.update&&(on(M,I,k.value),k.update=!1,k.value=null)},m=()=>{const M=c.value;if(M){const I=M.querySelector(".col--selected");I&&hr(I,"col--selected")}},g=()=>{const{editStore:M,tableColumn:I}=r,k=h.value,{actived:K}=M,{row:ie,column:U}=K;(ie||U)&&(k.mode==="row"?I.forEach(q=>Y(ie,q)):Y(ie,U))},L=(M,I)=>{const{tableFullTreeData:k,afterFullData:K,fullDataRowIdData:ie,fullAllDataRowIdData:U}=n,q=w.value,{rowField:ee,parentField:ve,mapChildrenField:we}=q,ye=q.children||q.childrenField,be=I?"push":"unshift";M.forEach(Me=>{const ne=Me[ve],Z=Ge(e,Me),re=ne?a.findTree(k,de=>ne===de[ee],{children:we}):null;if(re){const{item:de}=re,pe=U[Ge(e,de)],ge=pe?pe.level:0;let ce=de[ye],Q=de[we];a.isArray(ce)||(ce=de[ye]=[]),a.isArray(Q)||(Q=de[we]=[]),ce[be](Me),Q[be](Me);const Fe={row:Me,rowid:Z,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:ce,parent:de,level:ge+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};ie[Z]=Fe,U[Z]=Fe}else{ne&&ot("vxe.error.unableInsert"),K[be](Me),k[be](Me);const de={row:Me,rowid:Z,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ie[Z]=de,U[Z]=de}})},te=(M,I,k)=>{const{treeConfig:K}=t,{isRowGroupStatus:ie}=r,{tableFullTreeData:U,afterFullData:q,mergeBodyList:ee,tableFullData:ve,fullDataRowIdData:we,fullAllDataRowIdData:ye,insertRowMaps:be,removeRowMaps:Me}=n,ne=w.value,{transform:Z,parentField:re,rowField:de,mapChildrenField:pe}=ne,ge=ne.children||ne.childrenField;a.isArray(M)||(M=[M]);let ce=I;if(a.isString(I)||a.isNumber(I)){const Ie=ye[I];Ie&&(ce=Ie.row)}const Q=Br(e.defineField(M.map(Ie=>Object.assign(K&&Z?{[pe]:[],[ge]:[]}:{},Ie))));let Fe=[];if(K&&Z&&(Fe=a.toArrayTree(Q,{key:de,parentKey:re,children:ge})),a.eqNull(ce))if(K&&Z)L(Q,!1);else if(ie){if(K)throw new Error(Ln("vxe.error.noTree",["insert"]));ot(Ln("vxe.error.noGroup",["remove"]))}else Q.forEach(Ie=>{const je=Ge(e,Ie),Le={row:Ie,rowid:je,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:q,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};we[je]=Le,ye[je]=Le,q.unshift(Ie),ve.unshift(Ie)}),ee.forEach(Ie=>{const{row:je}=Ie;je>=0&&(Ie.row=je+Q.length)});else if(ce===-1)if(K&&Z)L(Q,!0);else if(ie){if(K)throw new Error(Ln("vxe.error.noTree",["insert"]));ot(Ln("vxe.error.noGroup",["remove"]))}else Q.forEach(Ie=>{const je=Ge(e,Ie),Le={row:Ie,rowid:je,seq:-1,index:-1,_index:-1,treeIndex:-1,_tIndex:-1,$index:-1,items:q,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};we[je]=Le,ye[je]=Le,q.push(Ie),ve.push(Ie)});else if(K&&Z){const Ie=a.findTree(U,je=>ce[de]===je[de],{children:pe});if(Ie){const{parent:je}=Ie,Le=je?je[pe]:U,Pe=ye[Ge(e,je)],Re=Pe?Pe.level:0;if(Fe.forEach((V,he)=>{je?V[re]!==je[de]&&(We("vxe.error.errProp",[`${re}=${V[re]}`,`${re}=${je[de]}`]),V[re]=je[de]):V[re]!==null&&(a.eqNull(V[re])||We("vxe.error.errProp",[`${re}=${V[re]}`,"null"]),V[re]=null);let Ce=Ie.index+he;k&&(Ce=Ce+1),Le.splice(Ce,0,V)}),a.eachTree(Fe,V=>{const he=Ge(e,V),Ce={row:V,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:Le,parent:je,level:Re+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};V[ge]&&(V[pe]=V[ge]),we[he]=Ce,ye[he]=Ce},{children:ge}),je){const V=a.findTree(U,he=>ce[de]===he[de],{children:ge});if(V){const he=V.items;let Ce=V.index;k&&(Ce=Ce+1),he.splice(Ce,0,...Fe)}}}else ot("vxe.error.unableInsert"),L(Q,!0)}else if(ie){if(K)throw new Error(Ln("vxe.error.noTree",["insert"]));ot(Ln("vxe.error.noGroup",["remove"]))}else{if(K)throw new Error(Ln("vxe.error.noTree",["insert"]));let Ie=-1;if(a.isNumber(ce)?ce<q.length&&(Ie=ce):Ie=e.findRowIndexOf(q,ce),k&&(Ie=Math.min(q.length,Ie+1)),Ie===-1)throw new Error(Ln("vxe.error.unableInsert"));q.splice(Ie,0,...Q);const je=e.findRowIndexOf(ve,ce);je>-1?ve.splice(je+(k?1:0),0,...Q):ve.push(...Q),ee.forEach(Le=>{const{row:Pe,rowspan:Re}=Le;Pe>=Ie?Le.row=Pe+Q.length:(k?Pe+Re>=Ie:Pe+Re>Ie)&&(Le.rowspan=Re+Q.length)})}const Je=Ie=>{const je=Ge(e,Ie);Me[je]?(delete Me[je],be[je]&&delete be[je]):be[je]=Ie};return K&&Z?a.eachTree(Fe,Je,{children:pe}):Q.forEach(Je),r.removeRowFlag++,r.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(K&&Z),K&&Z||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),se().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:Q.length?Q[Q.length-1]:null,rows:Q}))},$=(M,I,k,K)=>{const{treeConfig:ie}=t,{fullAllDataRowIdData:U}=n,q=w.value,{transform:ee,rowField:ve,parentField:we}=q;if(ie&&ee){a.isArray(M)||(M=[M]);let ye=I;if(a.isString(I)||a.isNumber(I)){const be=U[I];be&&(ye=be.row)}return te(M.map(be=>Object.assign({},be,{[we]:ye[ve]})),k,K)}else We("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]);return Promise.resolve({row:null,rows:[]})},J=(M,I)=>{const{editStore:k}=r,{actived:K,focused:ie}=k,{row:U,column:q}=K,ee=H.value;if(U||q){if(I&&Ge(e,I)!==Ge(e,U))return se();g(),K.args=null,K.row=null,K.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U),column:q,columnIndex:e.getColumnIndex(q),$columnIndex:e.getVMColumnIndex(q)},M||null)}return ie.row=null,ie.column=null,ee.autoClear&&(ee.msgMode!=="full"||Ek().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():se().then(()=>e.updateCellAreas())},ue=(M,I,k,K)=>{const ie=e.xeGrid,U=e.xeGantt,{editConfig:q,mouseConfig:ee}=t,{editStore:ve,tableColumn:we}=r,ye=h.value,{mode:be}=ye,{actived:Me,focused:ne}=ve,{row:Z,column:re}=M,{editRender:de}=re,pe=M.cell||e.getCellElement(Z,re),ge=ye.beforeEditMethod||ye.activeMethod;if(M.cell=pe,pe&&it(q)&&it(de)&&!e.isPendingByRow(Z)&&!e.isAggregateRecord(Z)){if(Me.row!==Z||be==="cell"&&Me.column!==re){let ce="edit-disabled";if(!ge||ge(Object.assign(Object.assign({},M),{$table:e,$grid:ie,$gantt:U}))){ee&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Me.column&&J(I),ce="edit-activated",re.renderHeight=pe.offsetHeight,Me.args=M,Me.row=Z,Me.column=re,be==="row"?we.forEach(Fe=>W(Z,Fe)):W(Z,re);const Q=ye.afterEditMethod;se(()=>{k&&e.handleFocus(M,I),Q&&Q(Object.assign(Object.assign({},M),{$table:e,$grid:ie,$gantt:U}))})}e.dispatchEvent(ce,{row:Z,rowIndex:e.getRowIndex(Z),$rowIndex:e.getVMRowIndex(Z),column:re,columnIndex:e.getColumnIndex(re),$columnIndex:e.getVMColumnIndex(re)},I),ce==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Z,rowIndex:e.getRowIndex(Z),$rowIndex:e.getVMRowIndex(Z),column:re,columnIndex:e.getColumnIndex(re),$columnIndex:e.getVMColumnIndex(re)},I)}else{const{column:ce}=Me;if(ee&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),ce!==re){const{model:Q}=ce;Q.update&&on(Z,ce,Q.value),e.clearValidate&&e.clearValidate(Z,re)}re.renderHeight=pe.offsetHeight,Me.args=M,Me.column=re,K&&setTimeout(()=>{e.handleFocus(M,I)})}ne.column=null,ne.row=null,e.focus()}return se()},le=(M,I,k)=>{const{editConfig:K}=t,ie=a.isString(I)?e.getColumnByField(I):I;return M&&ie&&it(K)&&it(ie.editRender)&&!e.isAggregateRecord(M)?Promise.resolve(k?e.scrollToRow(M,ie):null).then(()=>{const U=e.getCellElement(M,ie);return U&&(ue({row:M,rowIndex:e.getRowIndex(M),column:ie,columnIndex:e.getColumnIndex(ie),cell:U,$table:e},null,k,k),n._lastCallTime=Date.now()),se()}):se()};return F={insert(M){return te(M,null)},insertAt(M,I){return te(M,I)},insertNextAt(M,I){return te(M,I,!0)},insertChild(M,I){return window.aa=n,$(M,I,null)},insertChildAt(M,I,k){return $(M,I,k)},insertChildNextAt(M,I,k){return $(M,I,k,!0)},remove(M){const{treeConfig:I}=t,{editStore:k,isRowGroupStatus:K}=r,{tableFullTreeData:ie,selectCheckboxMaps:U,afterFullData:q,mergeBodyList:ee,tableFullData:ve,pendingRowMaps:we,insertRowMaps:ye,removeRowMaps:be}=n,Me=y.value,ne=w.value,{transform:Z,mapChildrenField:re}=ne,de=ne.children||ne.childrenField,{actived:pe}=k,{checkField:ge}=Me;let ce=[];return M?a.isArray(M)||(M=[M]):M=ve,M.forEach(Q=>{if(!e.isInsertByRow(Q)){const Fe=Ge(e,Q);be[Fe]=Q}}),ge||(M.forEach(Q=>{const Fe=Ge(e,Q);U[Fe]&&delete U[Fe]}),r.updateCheckboxFlag++),ve===M?(M=ce=ve.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):I&&Z?M.forEach(Q=>{const Fe=Ge(e,Q),Je=a.findTree(ie,Le=>Fe===Ge(e,Le),{children:re});if(Je){const Le=Je.items.splice(Je.index,1);ce.push(Le[0])}const Ie=a.findTree(ie,Le=>Fe===Ge(e,Le),{children:de});Ie&&Ie.items.splice(Ie.index,1);const je=e.findRowIndexOf(q,Q);je>-1&&q.splice(je,1)}):K?ot(Ln("vxe.error.noGroup",["remove"])):M.forEach(Q=>{const Fe=e.findRowIndexOf(ve,Q);if(Fe>-1){const Ie=ve.splice(Fe,1);ce.push(Ie[0])}const Je=e.findRowIndexOf(q,Q);Je>-1&&(ee.forEach(Ie=>{const{row:je,rowspan:Le}=Ie;je>Je?Ie.row=je-1:je+Le>Je&&(Ie.rowspan=Le-1)}),q.splice(Je,1))}),pe.row&&e.findRowIndexOf(M,pe.row)>-1&&F.clearEdit(),M.forEach(Q=>{const Fe=Ge(e,Q);ye[Fe]&&delete ye[Fe],we[Fe]&&delete we[Fe]}),r.removeRowFlag++,r.insertRowFlag++,r.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(I&&Z),e.updateFooter(),e.handleUpdateBodyMerge(),I&&Z||e.updateAfterDataIndex(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),se().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:ce.length?ce[ce.length-1]:null,rows:ce}))},removeCheckboxRow(){return F.remove(e.getCheckboxRecords()).then(M=>(e.clearCheckboxRow(),M))},removeRadioRow(){const M=e.getRadioRecord();return F.remove(M||[]).then(I=>(e.clearRadioRow(),I))},removeCurrentRow(){const M=e.getCurrentRecord();return F.remove(M||[]).then(I=>(e.clearCurrentRow(),I))},getRecordset(){const M=F.getRemoveRecords(),I=e.getPendingRecords(),k=M.concat(I),K=F.getUpdateRecords().filter(ie=>!k.some(U=>e.eqRow(U,ie)));return{insertRecords:F.getInsertRecords(),removeRecords:M,updateRecords:K,pendingRecords:I}},getInsertRecords(){const{fullAllDataRowIdData:M,insertRowMaps:I}=n,k=[];return a.each(I,(K,ie)=>{M[ie]&&k.push(K)}),k},getRemoveRecords(){const{removeRowMaps:M}=n,I=[];return a.each(M,k=>{I.push(k)}),I},getUpdateRecords(){const{keepSource:M,treeConfig:I}=t,{tableFullData:k}=n,K=w.value;return M?(g(),I?a.filterTree(k,ie=>e.isUpdateByRow(ie),K):k.filter(ie=>e.isUpdateByRow(ie))):[]},getActiveRecord(){ot("vxe.error.delFunc",["getActiveRecord","getEditCell"]);const{editStore:M}=r,{fullAllDataRowIdData:I}=n,{args:k,row:K}=M.actived;return k&&K&&I[Ge(e,K)]?Object.assign({},k,{row:K}):null},getEditRecord(){ot("vxe.error.delFunc",["getEditRecord","getEditCell"]);const{editStore:M}=r,{fullAllDataRowIdData:I}=n,{args:k,row:K}=M.actived;return k&&K&&I[Ge(e,K)]?Object.assign({},k,{row:K}):null},getEditCell(){const{editStore:M}=r,{row:I,column:k}=M.actived;return k&&I?{row:I,rowIndex:e.getRowIndex(I),column:k,columnIndex:e.getColumnIndex(k)}:null},getSelectedCell(){const{editStore:M}=r,{row:I,column:k}=M.selected;return I&&k?{row:I,column:k}:null},clearActived(M){return ot("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(M)},clearEdit(M){return J(null,M)},clearSelected(){const{editStore:M}=r,{selected:I}=M;return I.row=null,I.column=null,m(),se()},isActiveByRow(M){return ot("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(M)},isEditByRow(M){const{editStore:I}=r;return I.actived.row===M},setActiveRow(M){return ot("vxe.error.delFunc",["setActiveRow","setEditRow"]),F.setEditRow(M)},setEditRow(M,I){const{visibleColumn:k}=n;let K=a.find(k,U=>it(U.editRender)),ie=!1;return I&&(ie=!0,I!==!0&&(K=a.isString(I)?e.getColumnByField(I):I)),le(M,K,ie)},setActiveCell(M,I){return ot("vxe.error.delFunc",["setActiveCell","setEditCell"]),F.setEditCell(M,I)},setEditCell(M,I){return le(M,I,!0)},setSelectCell(M,I){const{tableData:k}=r,K=h.value,ie=a.isString(I)?e.getColumnByField(I):I;if(M&&ie&&K.trigger!=="manual"){const U=e.findRowIndexOf(k,M);if(U>-1&&ie){const q=e.getCellElement(M,ie),ee={row:M,rowIndex:U,column:ie,columnIndex:e.getColumnIndex(ie),cell:q};e.handleSelected(ee,{})}}return se()}},j={handleEdit(M,I){return ue(M,I,!0,!0)},handleActived(M,I){return j.handleEdit(M,I)},handleClearEdit:J,handleFocus(M){const{row:I,column:k,cell:K}=M,{editRender:ie}=k,U=h.value;if(it(ie)){const q=Rk.get(ie.name);let ee=ie.autofocus||ie.autoFocus,ve=ie.autoSelect||ie.autoselect,we;if(U.autoFocus&&(!ee&&q&&(ee=q.tableAutoFocus||q.tableAutofocus||q.autofocus),!ve&&q&&(ve=q.tableAutoSelect||q.autoselect),a.isFunction(ee)?we=ee(M):ee&&(ee===!0?we=K.querySelector("input,textarea"):we=K.querySelector(ee),we&&we.focus())),we){if(ve)we.select();else if(S.msie){const ye=we.createTextRange();ye.collapse(!1),ye.select()}}else U.autoPos&&(k.fixed||e.scrollToRow(I,k))}},handleSelected(M,I){const{mouseConfig:k}=t,{editStore:K}=r,ie=u.value,U=h.value,{actived:q,selected:ee}=K,{row:ve,column:we}=M,ye=k&&ie.selected;return ye&&(ee.row!==ve||ee.column!==we)&&(q.row!==ve||U.mode==="cell"&&q.column!==we)&&(J(I),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),ee.args=M,ee.row=ve,ee.column=we,ye&&j.addCellSelectedClass(),e.focus(),I&&e.dispatchEvent("cell-selected",M,I)),se()},addCellSelectedClass(){const{editStore:M}=r,{selected:I}=M,{row:k,column:K}=I;if(m(),k&&K){const ie=e.getCellElement(k,K);ie&&Pr(ie,"col--selected")}}},Object.assign(Object.assign({},F),j)},setupGrid(e){return e.extendTableMethods(ng)},setupGantt(e){return e.extendTableMethods(ng)}});const Ok='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Dk(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function Fk(e,t){const{style:r}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${Ok}</style>`,r?`<style>${r}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:vn,hooks:$k,renderer:gc}=me;let rs;const Tk="\uFEFF",Dl=`\r
`;function Na(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const uv=e=>{const t=[];return e.forEach(r=>{r.childNodes&&r.childNodes.length?(t.push(r),t.push(...uv(r.childNodes))):t.push(r)}),t},Mk=e=>{let t=1;const r=(u,h)=>{if(h&&(u._level=h._level+1,t<u._level&&(t=u._level)),u.childNodes&&u.childNodes.length){let y=0;u.childNodes.forEach(w=>{r(w,u),y+=w._colSpan}),u._colSpan=y}else u._colSpan=1};e.forEach(u=>{u._level=1,r(u)});const n=[];for(let u=0;u<t;u++)n.push([]);return uv(e).forEach(u=>{u.childNodes&&u.childNodes.length?u._rowSpan=1:u._rowSpan=t-u._level+1,n[u._level-1].push(u)}),n};function Ik(e){return e===!0?"full":e||"default"}function ns(e){return e==="TRUE"||e==="true"||e===!0}function Va(e,t,r){const n=e.xeGrid,c=e.xeGantt,{footerFilterMethod:u}=t;return u?r.filter((h,y)=>u({$table:e,$grid:n,$gantt:c,items:h,$rowIndex:y})):r}function Ak(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function ls(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function _r(e,t){return e.getElementsByTagName(t)}function lg(e){return`#${e}@${a.uniqueId()}`}function fv(e,t){return e.replace(/#\d+@\d+/g,r=>a.hasOwnProp(t,r)?t[r]:r)}function sg(e,t){return fv(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function id(e,t){const{fieldMaps:r,titleMaps:n}=e;if(!r[t]){const c=n[t];c&&c.field&&(t=c.field)}return t}function gv(e,t,r){const n=t.split(Dl),c=[];let u=[];if(n.length){const h={},y=Date.now();n.forEach(w=>{if(w){const H={};w=w.replace(/("")|(\n)/g,(F,j)=>{const W=lg(y);return h[W]=j?'"':`
`,W}).replace(/"(.*?)"/g,(F,j)=>{const W=lg(y);return h[W]=fv(j,h),W});const S=w.split(r);u.length?(S.forEach((F,j)=>{j<u.length&&(H[u[j]]=sg(F.trim(),h))}),c.push(H)):u=S.map(F=>id(e,sg(F.trim(),h)))}})}return{fields:u,rows:c}}function kk(e,t){return gv(e,t,",")}function Lk(e,t){return gv(e,t,"	")}function Hk(e,t){const n=new DOMParser().parseFromString(t,"text/html"),c=_r(n,"body"),u=[],h=[];if(c.length){const y=_r(c[0],"table");if(y.length){const w=_r(y[0],"thead");if(w.length){a.arrayEach(_r(w[0],"tr"),S=>{a.arrayEach(_r(S,"th"),F=>{h.push(id(e,F.textContent||""))})});const H=_r(y[0],"tbody");H.length&&a.arrayEach(_r(H[0],"tr"),S=>{const F={};a.arrayEach(_r(S,"td"),(j,W)=>{h[W]&&(F[h[W]]=j.textContent||"")}),u.push(F)})}}}return{fields:h,rows:u}}function Pk(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),c=_r(n,"Worksheet"),u=[],h=[];if(c.length){const y=_r(c[0],"Table");if(y.length){const w=_r(y[0],"Row");w.length&&(a.arrayEach(_r(w[0],"Cell"),H=>{h.push(id(e,H.textContent||""))}),a.arrayEach(w,(H,S)=>{if(S){const F={},j=_r(H,"Cell");a.arrayEach(j,(W,Y)=>{h[Y]&&(F[h[Y]]=W.textContent)}),u.push(F)}}))}}return{fields:h,rows:u}}function ag(e){a.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const ig=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];$k.add("tableExportModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{computeTreeOpts:c,computePrintOpts:u,computeExportOpts:h,computeImportOpts:y,computeCustomOpts:w,computeSeqOpts:H,computeRadioOpts:S,computeCheckboxOpts:F,computeColumnOpts:j}=e.getComputeMaps(),W=ne=>{const Z=c.value,re=Z.children||Z.childrenField;return ne[re]&&ne[re].length},Y=(ne,Z,re,de,pe)=>{const ce=H.value.seqMethod||de.seqMethod;return ce?ce({$table:e,row:Z,rowIndex:e.getRowIndex(Z),_rowIndex:e.getVTRowIndex(Z),$rowIndex:re,column:de,columnIndex:e.getColumnIndex(de),_columnIndex:e.getVTColumnIndex(de),$columnIndex:pe}):ne};function m(ne,Z){const re=j.value,de=Z.headerExportMethod||re.headerExportMethod;return de?de({column:Z,options:ne,$table:e}):(ne.isTitle?Z.getTitle():Z.field)||""}const g=ne=>a.isBoolean(ne)?ne?"TRUE":"FALSE":ne,L=ne=>Cn(ne)?"":`${ne}`,te=(ne,Z,re)=>{const{isAllExpand:de,mode:pe}=ne,{treeConfig:ge}=t,ce=S.value,Q=F.value,Fe=c.value,Je=j.value;if(rs||(rs=document.createElement("div")),ge){const Ie=Fe.children||Fe.childrenField,je=[],Le={},Pe={},{handleGetRowId:Re}=So(e);return a.eachTree(re,(V,he,Ce,De,Be,Ze)=>{const Ae=V._row||V,pt=Re(Ae);if(Pe[pt])return;const Qe=Be&&Be._row?Be._row:Be,qe=Qe?Re(Qe):"";if(de||!Qe||Le[qe]&&e.isTreeExpandByRow(Qe)){const at=W(Ae),He={_row:Ae,_level:Ze.length-1,_hasChild:at,_expand:at&&e.isTreeExpandByRow(Ae)};Z.forEach((Ne,Ot)=>{let xt="";const Rt=Ne.editRender||Ne.cellRender;let Ue=Ne.exportMethod||Je.exportMethod;if(!Ue&&Rt&&Rt.name){const rt=gc.get(Rt.name);rt&&(Ue=rt.tableExportMethod||rt.exportMethod)}if(Ue||(Ue=Je.exportMethod),Ue)xt=Ue({$table:e,row:Ae,column:Ne,options:ne});else switch(Ne.type){case"seq":{const rt=De.map((st,bt)=>bt%2===0?Number(st)+1:".").join("");xt=pe==="all"?rt:Y(rt,Ae,he,Ne,Ot);break}case"checkbox":xt=g(e.isCheckedByCheckboxRow(Ae)),He._checkboxLabel=Q.labelField?a.get(Ae,Q.labelField):"",He._checkboxDisabled=Q.checkMethod&&!Q.checkMethod({$table:e,row:Ae});break;case"radio":xt=g(e.isCheckedByRadioRow(Ae)),He._radioLabel=ce.labelField?a.get(Ae,ce.labelField):"",He._radioDisabled=ce.checkMethod&&!ce.checkMethod({$table:e,row:Ae});break;default:if(ne.original)xt=No(Ae,Ne);else if(xt=e.getCellLabel(Ae,Ne),Ne.type==="html")rs.innerHTML=xt,xt=rs.innerText.trim();else{const rt=e.getCellElement(Ae,Ne);rt&&!Hn(rt,"is--progress")&&(xt=rt.innerText.trim())}}He[Ne.id]=L(xt)}),Pe[pt]=!0,qe&&(Le[qe]=!0),je.push(Object.assign(He,Ae))}},{children:Ie}),je}return re.map((Ie,je)=>{const Le={_row:Ie};return Z.forEach((Pe,Re)=>{let V="";const he=Pe.editRender||Pe.cellRender;let Ce=Pe.exportMethod||Je.exportMethod;if(!Ce&&he&&he.name){const De=gc.get(he.name);De&&(Ce=De.tableExportMethod||De.exportMethod)}if(Ce)V=Ce({$table:e,row:Ie,column:Pe,options:ne});else switch(Pe.type){case"seq":{const De=je+1;V=pe==="all"?De:Y(De,Ie,je,Pe,Re);break}case"checkbox":V=g(e.isCheckedByCheckboxRow(Ie)),Le._checkboxLabel=Q.labelField?a.get(Ie,Q.labelField):"",Le._checkboxDisabled=Q.checkMethod&&!Q.checkMethod({$table:e,row:Ie});break;case"radio":V=g(e.isCheckedByRadioRow(Ie)),Le._radioLabel=ce.labelField?a.get(Ie,ce.labelField):"",Le._radioDisabled=ce.checkMethod&&!ce.checkMethod({$table:e,row:Ie});break;default:if(ne.original)V=No(Ie,Pe);else if(V=e.getCellLabel(Ie,Pe),Pe.type==="html")rs.innerHTML=V,V=rs.innerText.trim();else{const De=e.getCellElement(Ie,Pe);De&&!Hn(De,"is--progress")&&(V=De.innerText.trim())}}Le[Pe.id]=L(V)}),Le})},$=ne=>{const Z=e.xeGrid,re=e.xeGantt,{columns:de,dataFilterMethod:pe}=ne;let ge=ne.data;return pe&&(ge=ge.filter((ce,Q)=>pe({$table:e,$grid:Z,$gantt:re,row:ce,$rowIndex:Q}))),te(ne,de,ge)},J=(ne,Z,re)=>{const de=j.value,pe=re.editRender||re.cellRender;let ge=re.footerExportMethod;if(!ge&&pe&&pe.name){const Q=gc.get(pe.name);Q&&(ge=Q.tableFooterExportMethod||Q.footerExportMethod)}if(ge||(ge=de.footerExportMethod),ge){const Q=e.getVTColumnIndex(re);return ge({$table:e,items:Z,itemIndex:Q,row:Z,_columnIndex:Q,column:re,options:ne})}return e.getFooterCellLabel(Z,re)},ue=(ne,Z,re,de)=>{let pe=Tk;if(Z.isHeader&&(pe+=re.map(ge=>ls(m(Z,ge))).join(",")+Dl),de.forEach(ge=>{pe+=re.map(ce=>ls(Ak(ce,ge[ce.id]))).join(",")+Dl}),Z.isFooter){const{footerTableData:ge}=r;Va(ne,Z,ge).forEach(Q=>{pe+=re.map(Fe=>ls(J(Z,Q,Fe))).join(",")+Dl})}return pe},le=(ne,Z,re,de)=>{let pe="";if(Z.isHeader&&(pe+=re.map(ge=>ls(m(Z,ge))).join("	")+Dl),de.forEach(ge=>{pe+=re.map(ce=>ls(ge[ce.id])).join("	")+Dl}),Z.isFooter){const{footerTableData:ge}=r;Va(ne,Z,ge).forEach(Q=>{pe+=re.map(Fe=>ls(J(Z,Q,Fe))).join("	")+Dl})}return pe},M=(ne,Z,re)=>{const de=ne[Z],pe=a.isUndefined(de)||a.isNull(de)?re:de;let Fe=pe==="title"||(pe===!0||pe==="tooltip")||pe==="ellipsis";const{scrollXLoad:Je,scrollYLoad:Ie}=r;return(Je||Ie)&&!Fe&&(Fe=!0),Fe},I=(ne,Z,re)=>{const{id:de,border:pe,treeConfig:ge,headerAlign:ce,align:Q,footerAlign:Fe,showOverflow:Je,showHeaderOverflow:Ie}=t,{isAllSelected:je,isIndeterminate:Le}=r,{mergeBodyCellMaps:Pe}=n,Re=c.value,{print:V,isHeader:he,isFooter:Ce,isColgroup:De,isMerge:Be,colgroups:Ze,original:Ae}=ne,pt="check-all",qe=[`<table class="${["vxe-table",`border--${Ik(pe)}`,V?"is--print":"",he?"is--header":""].filter(He=>He).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${Z.map(He=>`<col style="width:${He.renderWidth}px">`).join("")}</colgroup>`];if(he&&(qe.push("<thead>"),De&&!Ae?Ze.forEach(He=>{qe.push(`<tr>${He.map(Ne=>{const Ot=Ne.headerAlign||Ne.align||ce||Q,xt=M(Ne,"showHeaderOverflow",Ie)?["col--ellipsis"]:[],Rt=m(ne,Ne);let Ue=0,rt=0;a.eachTree([Ne],bt=>{(!bt.childNodes||!Ne.childNodes.length)&&rt++,Ue+=bt.renderWidth},{children:"childNodes"});const st=Ue-rt;return Ot&&xt.push(`col--${Ot}`),Ne.type==="checkbox"?`<th class="${xt.join(" ")}" colspan="${Ne._colSpan}" rowspan="${Ne._rowSpan}"><div ${V?"":`style="width: ${st}px"`}><input type="checkbox" class="${pt}" ${je?"checked":""}><span>${Rt}</span></div></th>`:`<th class="${xt.join(" ")}" colspan="${Ne._colSpan}" rowspan="${Ne._rowSpan}" title="${Rt}"><div ${V?"":`style="width: ${st}px"`}><span>${qo(Rt,!0)}</span></div></th>`}).join("")}</tr>`)}):qe.push(`<tr>${Z.map(He=>{const Ne=He.headerAlign||He.align||ce||Q,Ot=M(He,"showHeaderOverflow",Ie)?["col--ellipsis"]:[],xt=m(ne,He);return Ne&&Ot.push(`col--${Ne}`),He.type==="checkbox"?`<th class="${Ot.join(" ")}"><div ${V?"":`style="width: ${He.renderWidth}px"`}><input type="checkbox" class="${pt}" ${je?"checked":""}><span>${xt}</span></div></th>`:`<th class="${Ot.join(" ")}" title="${xt}"><div ${V?"":`style="width: ${He.renderWidth}px"`}><span>${qo(xt,!0)}</span></div></th>`}).join("")}</tr>`),qe.push("</thead>")),re.length&&(qe.push("<tbody>"),ge?re.forEach(He=>{qe.push("<tr>"+Z.map(Ne=>{const Ot=Ne.id,xt=Ne.align||Q,Rt=M(Ne,"showOverflow",Je)?["col--ellipsis"]:[],Ue=He[Ot];if(xt&&Rt.push(`col--${xt}`),Ne.treeNode){let rt="";return He._hasChild&&(rt=`<i class="${He._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Rt.push("vxe-table--tree-node"),Ne.type==="radio"?`<td class="${Rt.join(" ")}" title="${Ue}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${He._level*Re.indent}px"><div class="vxe-table--tree-icon-wrapper">${rt}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${de}" ${He._radioDisabled?"disabled ":""}${ns(Ue)?"checked":""}><span>${He._radioLabel}</span></div></div></div></td>`:Ne.type==="checkbox"?`<td class="${Rt.join(" ")}" title="${Ue}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${He._level*Re.indent}px"><div class="vxe-table--tree-icon-wrapper">${rt}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${He._checkboxDisabled?"disabled ":""}${ns(Ue)?"checked":""}><span>${He._checkboxLabel}</span></div></div></div></td>`:`<td class="${Rt.join(" ")}" title="${Ue}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${He._level*Re.indent}px"><div class="vxe-table--tree-icon-wrapper">${rt}</div><div class="vxe-table--tree-cell">${Ue}</div></div></div></td>`}return Ne.type==="radio"?`<td class="${Rt.join(" ")}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><input type="radio" name="radio_${de}" ${He._radioDisabled?"disabled ":""}${ns(Ue)?"checked":""}><span>${He._radioLabel}</span></div></td>`:Ne.type==="checkbox"?`<td class="${Rt.join(" ")}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><input type="checkbox" ${He._checkboxDisabled?"disabled ":""}${ns(Ue)?"checked":""}><span>${He._checkboxLabel}</span></div></td>`:`<td class="${Rt.join(" ")}" title="${Ue}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}>${qo(Ue,!0)}</div></td>`}).join("")+"</tr>")}):re.forEach(He=>{qe.push("<tr>"+Z.map(Ne=>{const Ot=Ne.align||Q,xt=M(Ne,"showOverflow",Je)?["col--ellipsis"]:[],Rt=He[Ne.id];let Ue=1,rt=1;if(Be){const st=e.getVTRowIndex(He._row),bt=e.getVTColumnIndex(Ne),Ye=Pe[`${st}:${bt}`];if(Ye){const{rowspan:Dt,colspan:et}=Ye;if(!Dt||!et)return"";Dt>1&&(Ue=Dt),et>1&&(rt=et)}}return Ot&&xt.push(`col--${Ot}`),Ne.type==="radio"?`<td class="${xt.join(" ")}" rowspan="${Ue}" colspan="${rt}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><input type="radio" name="radio_${de}" ${He._radioDisabled?"disabled ":""}${ns(Rt)?"checked":""}><span>${He._radioLabel}</span></div></td>`:Ne.type==="checkbox"?`<td class="${xt.join(" ")}" rowspan="${Ue}" colspan="${rt}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}><input type="checkbox" ${He._checkboxDisabled?"disabled ":""}${ns(Rt)?"checked":""}><span>${He._checkboxLabel}</span></div></td>`:`<td class="${xt.join(" ")}" rowspan="${Ue}" colspan="${rt}" title="${Rt}"><div ${V?"":`style="width: ${Ne.renderWidth}px"`}>${qo(Rt,!0)}</div></td>`}).join("")+"</tr>")}),qe.push("</tbody>")),Ce){const{footerTableData:He}=r,Ne=Va(e,ne,He);Ne.length&&(qe.push("<tfoot>"),Ne.forEach(Ot=>{qe.push(`<tr>${Z.map(xt=>{const Rt=xt.footerAlign||xt.align||Fe||Q,Ue=M(xt,"showOverflow",Je)?["col--ellipsis"]:[],rt=J(ne,Ot,xt);return Rt&&Ue.push(`col--${Rt}`),`<td class="${Ue.join(" ")}" title="${rt}"><div ${V?"":`style="width: ${xt.renderWidth}px"`}>${qo(rt,!0)}</div></td>`}).join("")}</tr>`)}),qe.push("</tfoot>"))}const at=!je&&Le?`<script>(function(){var a=document.querySelector(".${pt}");if(a){a.indeterminate=true}})()<\/script>`:"";return qe.push("</table>",at),V?qe.join(""):Fk(ne,qe.join(""))},k=(ne,Z,re)=>{let de=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${ne.sheetName}">`,"<Table>",Z.map(pe=>`<Column ss:Width="${pe.renderWidth}"/>`).join("")].join("");if(ne.isHeader&&(de+=`<Row>${Z.map(pe=>`<Cell><Data ss:Type="String">${m(ne,pe)}</Data></Cell>`).join("")}</Row>`),re.forEach(pe=>{de+="<Row>"+Z.map(ge=>`<Cell><Data ss:Type="String">${pe[ge.id]}</Data></Cell>`).join("")+"</Row>"}),ne.isFooter){const{footerTableData:pe}=r;Va(e,ne,pe).forEach(ce=>{de+=`<Row>${Z.map(Q=>`<Cell><Data ss:Type="String">${J(ne,ce,Q)}</Data></Cell>`).join("")}</Row>`})}return`${de}</Table></Worksheet></Workbook>`},K=(ne,Z,re,de)=>{if(re.length)switch(Z.type){case"csv":return ue(ne,Z,re,de);case"txt":return le(ne,Z,re,de);case"html":return I(Z,re,de);case"xml":return k(Z,re,de)}return""},ie=(ne,Z)=>{const{filename:re,type:de,download:pe}=ne;if(!pe){const ge=Dk(Z,ne);return Promise.resolve({type:de,content:Z,blob:ge})}me.saveFile&&me.saveFile({filename:re,type:de,content:Z}).then(()=>{ne.message!==!1&&me.modal&&me.modal.message({content:vn("vxe.table.expSuccess"),status:"success"})})},U=ne=>{const Z=e.xeGrid,re=e.xeGantt,{remote:de,columns:pe,colgroups:ge,exportMethod:ce,afterExportMethod:Q}=ne;return new Promise(Fe=>{if(de){const Je={options:ne,$table:e,$grid:Z,$gantt:re};Fe(ce?ce(Je):Je)}else{const Je=$(ne);Fe(e.preventEvent(null,"event.export",{options:ne,columns:pe,colgroups:ge,datas:Je},()=>ie(ne,K(e,ne,pe,Je))))}}).then(Fe=>(ag(pe),ne.print||Q&&Q({status:!0,options:ne,$table:e,$grid:Z,$gantt:re}),Object.assign({status:!0},Fe))).catch(()=>{ag(pe),ne.print||Q&&Q({status:!1,options:ne,$table:e,$grid:Z,$gantt:re});const Fe={status:!1};return Promise.reject(Fe)})},q=(ne,Z)=>{const{tableFullColumn:re,_importResolve:de,_importReject:pe}=n;let ge={fields:[],rows:[]};const ce={},Q={};re.forEach(Le=>{const Pe=Le.field,Re=Le.getTitle();Pe&&(ce[Pe]=Le),Re&&(Q[Le.getTitle()]=Le)});const Fe={fieldMaps:ce,titleMaps:Q};switch(Z.type){case"csv":ge=kk(Fe,ne);break;case"txt":ge=Lk(Fe,ne);break;case"html":ge=Hk(Fe,ne);break;case"xml":ge=Pk(Fe,ne);break}const{fields:Je,rows:Ie}=ge;Je.some(Le=>ce[Le]||Q[Le])?e.createData(Ie).then(Le=>{let Pe;return Z.mode==="insert"||Z.mode==="insertBottom"?Pe=e.insertAt(Le,-1):Z.mode==="insertTop"?Pe=e.insert(Le):Pe=e.reloadData(Le),Z.message!==!1&&me.modal&&me.modal.message({content:vn("vxe.table.impSuccess",[Ie.length]),status:"success"}),Pe.then(()=>{de&&de({status:!0})})}):Z.message!==!1&&(me.modal&&me.modal.message({content:vn("vxe.error.impFields"),status:"error"}),pe&&pe({status:!1}))},ee=(ne,Z)=>{const{importMethod:re,afterImportMethod:de}=Z,{type:pe,filename:ge}=jh(ne),ce=y.value;if(!re&&!a.includes(a.keys(ce._typeMaps),pe)){Z.message!==!1&&me.modal&&me.modal.message({content:vn("vxe.error.notType",[pe]),status:"error"});const Fe={status:!1};return Promise.reject(Fe)}return new Promise((Fe,Je)=>{const Ie=Le=>{Fe(Le),n._importResolve=null,n._importReject=null},je=Le=>{Je(Le),n._importResolve=null,n._importReject=null};if(n._importResolve=Ie,n._importReject=je,window.FileReader){const Le=Object.assign({mode:"insertTop"},Z,{type:pe,filename:ge});if(Le.remote)re?Promise.resolve(re({file:ne,options:Le,$table:e})).then(()=>{Ie({status:!0})}).catch(()=>{Ie({status:!0})}):Ie({status:!0});else{const{tableFullColumn:Pe}=n;e.preventEvent(null,"event.import",{file:ne,options:Le,columns:Pe},()=>{const Re=new FileReader;Re.onerror=()=>{We("vxe.error.notType",[pe]),je({status:!1})},Re.onload=V=>{q(V.target.result,Le)},Re.readAsText(ne,Le.encoding||"UTF-8")})}}else We("vxe.error.notExp"),Ie({status:!0})}).then(()=>{de&&de({status:!0,options:Z,$table:e})}).catch(Fe=>(de&&de({status:!1,options:Z,$table:e}),Promise.reject(Fe)))},ve=(ne,Z,re)=>re.some(de=>{if(Za(de))return Z.id===de.id;if(a.isString(de))return Z.field===de;{const pe=de.id||de.colId,ge=de.type,ce=de.field;if(pe)return Z.id===pe;if(ce&&ge)return Z.field===ce&&Z.type===ge;if(ce)return Z.field===ce;if(ge)return Z.type===ge}return!1}),we=(ne,Z,re,de)=>de&&a.includes(de,Z.field)?!1:re?!!a.includes(re,Z.field):ne.original?!!Z.field:Na(Z),ye=(ne,Z)=>{const re=e.xeGrid,de=e.xeGantt,pe=re||de,{treeConfig:ge,showHeader:ce,showFooter:Q}=t,{initStore:Fe,isGroup:Je,footerTableData:Ie,exportStore:je,exportParams:Le}=r,{collectColumn:Pe,mergeBodyList:Re,mergeFooterList:V}=n,he=h.value,Ce=ge,De=w.value,Be=e.getCheckboxRecords(),Ze=pe?pe.getComputeMaps().computeProxyOpts.value:{},Ae=!!Ie.length,pt=!!(Re.length||V.length),Qe=Object.assign({message:!0,isHeader:ce,isTitle:ce,isFooter:Q,isColgroup:Je,isMerge:pt,useStyle:!0,current:"current",modes:(Ze.ajax&&Ze.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},ne),qe=Qe.types||a.keys(he._typeMaps),at=Qe.modes||[],He=De.checkMethod,Ne=Pe.slice(0),{columns:Ot,excludeFields:xt,includeFields:Rt}=Qe,Ue=qe.map(et=>({value:et,label:vn(`vxe.export.types.${et}`)})),rt=at.map(et=>et&&et.value?{value:et.value,label:et.label||et.value}:{value:et,label:vn(`vxe.export.modes.${et}`)});a.eachTree(Ne,(et,Lt,Qt,Yt,ut)=>{const wt=et.children&&et.children.length>0;let Kt=!1;Ot&&Ot.length?Kt=ve(Qe,et,Ot):xt||Rt?Kt=we(Qe,et,Rt,xt):Kt=et.visible&&(wt||Na(et)),et.checked=Kt,et.halfChecked=!1,et.disabled=ut&&ut.disabled||(He?!He({$table:e,column:et}):!1)}),Object.assign(je,{columns:Ne,typeList:Ue,modeList:rt,hasFooter:Ae,hasMerge:pt,hasTree:Ce,isPrint:Z,hasColgroup:Je,visible:!0}),Object.assign(Le,{mode:Be.length?"selected":"current"},Qe);const{filename:st,sheetName:bt,mode:Ye,type:Dt}=Le;return st&&(a.isFunction(st)?Le.filename=st({options:Qe,$table:e,$grid:re,$gantt:de}):Le.filename=`${st}`),bt&&(a.isFunction(bt)?Le.sheetName=bt({options:Qe,$table:e,$grid:re,$gantt:de}):Le.sheetName=`${bt}`),rt.some(et=>et.value===Ye)||(Le.mode=rt[0].value),Ue.some(et=>et.value===Dt)||(Le.type=Ue[0].value),Fe.export=!0,se()},be=()=>me.modal?me.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Me={exportData(ne){const Z=e.xeGrid,re=e.xeGantt,de=Z||re,{treeConfig:pe,showHeader:ge,showFooter:ce}=t,{isGroup:Q}=r,{tableFullColumn:Fe,afterFullData:Je,afterTreeFullData:Ie,collectColumn:je,mergeBodyList:Le,mergeFooterList:Pe}=n,Re=h.value,V=c.value,he=de?de.getComputeMaps().computeProxyOpts.value:{},Ce=!!(Le.length||Pe.length),De=Object.assign({message:!0,isHeader:ge,isTitle:ge,isFooter:ce,isColgroup:Q,isMerge:Ce,useStyle:!0,current:"current",modes:(he.ajax&&he.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},Re,ne);let{filename:Be,sheetName:Ze,type:Ae,mode:pt,columns:Qe,original:qe,columnFilterMethod:at,beforeExportMethod:He,includeFields:Ne,excludeFields:Ot}=De,xt=[];const Rt=e.getCheckboxRecords();pt||(pt=Rt.length?"selected":"current");let Ue=!1,rt=[];Qe&&Qe.length?(Ue=!0,rt=Qe):rt=a.searchTree(je,Ye=>{const Dt=Ye.children&&Ye.children.length>0;let et=!1;return Qe&&Qe.length?et=ve(De,Ye,Qe):Ot||Ne?et=we(De,Ye,Ne,Ot):et=Ye.visible&&(Dt||Na(Ye)),et},{children:"children",mapChildren:"childNodes",original:!0});const st=Object.assign({},De,{filename:"",sheetName:""});!Ue&&!at&&(at=({column:Ye})=>Ot&&a.includes(Ot,Ye.field)?!1:Ne?!!a.includes(Ne,Ye.field):qe?!!Ye.field:Na(Ye),st.columnFilterMethod=at),rt?(st._isCustomColumn=!0,xt=a.searchTree(a.mapTree(rt,Ye=>{let Dt;if(Ye){if(Za(Ye))Dt=Ye;else if(a.isString(Ye))Dt=e.getColumnByField(Ye);else{const et=Ye.id||Ye.colId,Lt=Ye.type,Qt=Ye.field;et?Dt=e.getColumnById(et):Qt&&Lt?Dt=Fe.find(Yt=>Yt.field===Qt&&Yt.type===Lt):Qt?Dt=e.getColumnByField(Qt):Lt&&(Dt=Fe.find(Yt=>Yt.type===Lt))}return Dt||{}}},{children:"childNodes",mapChildren:"_children"}),(Ye,Dt)=>Za(Ye)&&(!at||at({$table:e,$grid:Z,$gantt:re,column:Ye,$columnIndex:Dt})),{children:"_children",mapChildren:"childNodes",original:!0})):xt=a.searchTree(Q?je:Fe,(Ye,Dt)=>Ye.visible&&(!at||at({$table:e,$grid:Z,$gantt:re,column:Ye,$columnIndex:Dt})),{children:"children",mapChildren:"childNodes",original:!0});const bt=[];if(a.eachTree(xt,Ye=>{Ye.children&&Ye.children.length||bt.push(Ye)},{children:"childNodes"}),st.columns=bt,st.colgroups=Mk(xt),Be&&(a.isFunction(Be)?st.filename=Be({options:De,$table:e,$grid:Z,$gantt:re}):st.filename=`${Be}`),st.filename||(st.filename=vn(st.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[a.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ze&&(a.isFunction(Ze)?st.sheetName=Ze({options:De,$table:e,$grid:Z,$gantt:re}):st.sheetName=`${Ze}`),st.sheetName||(st.sheetName=document.title||""),!st.exportMethod&&!a.includes(a.keys(Re._typeMaps),Ae)){We("vxe.error.notType",[Ae]),["xlsx","pdf"].includes(Ae)&&ot("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const Ye={status:!1};return Promise.reject(Ye)}if(st.print||He&&He({options:st,$table:e,$grid:Z,$gantt:re}),st.data)st._isCustomData=!0;else{if(st.data=[],pt==="selected")["html","pdf"].indexOf(Ae)>-1&&pe?st.data=a.searchTree(e.getTableData().fullData,Ye=>e.findRowIndexOf(Rt,Ye)>-1,Object.assign({},V,{data:"_row"})):st.data=Rt;else if(pt==="all"&&(de||We("vxe.error.errProp",["all","mode=current,selected"]),de&&!st.remote)){const Ye=de.reactData,{computeProxyOpts:Dt}=de.getComputeMaps(),et=Dt.value,{sortData:Lt}=Ye,{beforeQueryAll:Qt,afterQueryAll:Yt,ajax:ut={}}=et,wt=et.response||et.props||{},Kt=ut.queryAll,At=ut.queryAllSuccess,Pt=ut.queryAllError;if(Kt||We("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),Kt){const Xt={$table:e,$grid:Z,$gantt:re,sort:Lt.length?Lt[0]:{},sorts:Lt,filters:Ye.filterData,form:Ye.formData,options:st};return Promise.resolve((Qt||Kt)(Xt)).then(dt=>{const _=wt.list;return st.data=(_?a.isFunction(_)?_({data:dt,$table:e,$grid:Z,$gantt:re}):a.get(dt,_):dt)||[],Yt&&Yt(Xt),At&&At(Object.assign(Object.assign({},Xt),{response:dt})),U(st)}).catch(dt=>{Pt&&Pt(Object.assign(Object.assign({},Xt),{response:dt}))})}}pt==="current"&&(st.data=pe?Ie:Je)}return U(st)},importByFile(ne,Z){const re=Object.assign({},Z),{beforeImportMethod:de}=re;return de&&de({options:re,$table:e}),ee(ne,re)},importData(ne){const Z=y.value,re=Object.assign({types:a.keys(Z._typeMaps)},Z,ne),{beforeImportMethod:de,afterImportMethod:pe}=re;return de&&de({options:re,$table:e}),me.readFile(re).catch(ge=>(pe&&pe({status:!1,options:re,$table:e}),Promise.reject(ge))).then(ge=>{const{file:ce}=ge;return ee(ce,re)})},saveFile(ne){return me.saveFile(ne)},readFile(ne){return me.readFile(ne)},print(ne){const Z=e.xeGrid,re=e.xeGantt,de=u.value,pe=Object.assign({original:!1},de,ne,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:ge}=pe;let ce="";ge&&(a.isFunction(ge)?ce=ge({options:pe,$table:e,$grid:Z,$gantt:re}):ce=`${ge}`),ce||(ce=document.title||"");const Q=pe.beforePrintMethod,Fe=pe.html||pe.content;return new Promise((Je,Ie)=>{me.print?Je(Fe?me.print({title:ce,html:Fe,customStyle:pe.style,beforeMethod:Q?({html:je})=>Q({html:je,content:je,options:pe,$table:e,$grid:Z,$gantt:re}):void 0}):Me.exportData(pe).then(({content:je})=>me.print({title:ce,html:je,customStyle:pe.style,beforeMethod:Q?({html:Le})=>Q({html:Le,content:Le,options:pe,$table:e,$grid:Z,$gantt:re}):void 0}))):Ie({status:!1})})},getPrintHtml(ne){const Z=u.value,re=Object.assign({original:!1},Z,ne,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(re).then(({content:de})=>({html:de}))},closeImport(){return me.modal?me.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(ne){const{treeConfig:Z,importConfig:re}=t,{initStore:de,importStore:pe,importParams:ge}=r,ce=y.value,Q=Object.assign({mode:"insertTop",message:!0,types:a.keys(ce._typeMaps),modes:["insertTop","covering"]},ce,ne),Fe=Q.types||[],Je=Q.modes||[];if(!!Z){Q.message&&me.modal&&me.modal.message({content:vn("vxe.error.treeNotImp"),status:"error"});return}re||We("vxe.error.reqProp",["import-config"]);const je=Fe.map(Pe=>({value:Pe,label:vn(`vxe.export.types.${Pe}`)})),Le=Je.map(Pe=>Pe&&Pe.value?{value:Pe.value,label:Pe.label||Pe.value}:{value:Pe,label:vn(`vxe.import.modes.${Pe}`)});Object.assign(pe,{file:null,type:"",filename:"",modeList:Le,typeList:je,visible:!0}),Object.assign(ge,Q),Le.some(Pe=>Pe.value===ge.mode)||(ge.mode=Le[0].value),de.import=!0},closeExport:be,openExport(ne){const Z=h.value,re=Object.assign({message:!0,types:a.keys(Z._typeMaps)},Z,ne);return t.exportConfig||We("vxe.error.reqProp",["export-config"]),ye(re)},closePrint:be,openPrint(ne){const Z=u.value,re=Object.assign({message:!0},Z,ne);return t.printConfig||We("vxe.error.reqProp",["print-config"]),ye(re,!0)}};return Me},setupGrid(e){return e.extendTableMethods(ig)},setupGantt(e){return e.extendTableMethods(ig)}});const{hooks:_k}=me;_k.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:c}=e.getRefMaps(),{computeEditOpts:u,computeCheckboxOpts:h,computeMouseOpts:y,computeTreeOpts:w,computeRowOpts:H,computeColumnOpts:S,computeCellOpts:F,computeDefaultRowHeight:j,computeCurrentRowOpts:W,computeCurrentColumnOpts:Y}=e.getComputeMaps();function m(J,ue,le,M,I,k){const{showOverflow:K}=t,{fullAllDataRowIdData:ie,isResizeCellHeight:U}=n,q=H.value,ee=F.value,ve=j.value,{row:we}=ue;let ye=0,be=[],Me=0;const ne=k>0,{scrollYLoad:Z}=r,{afterFullData:re}=n;if(ne?Me=I+k:Me=M.height-I+Math.abs(k),Z){const de=e.getVTRowIndex(we);if(!(U||ee.height||q.height)&&K)ne?be=re.slice(de,de+Math.ceil(Me/ve)):be=re.slice(de-Math.floor(Me/ve),de+1);else if(ne)for(let ge=de;ge<re.length;ge++){const ce=re[ge],Q=e.getRowid(ce),Fe=ie[Q]||{};if(ye+=Fe.resizeHeight||ee.height||q.height||Fe.height||ve,be.push(ce),ye>Me)return be}else for(let ge=de;ge>=0;ge--){const ce=re[ge],Q=e.getRowid(ce),Fe=ie[Q]||{};if(ye+=Fe.resizeHeight||ee.height||q.height||Fe.height||ve,be.push(ce),ye>Me)return be}}else{const de=ne?"next":"previous";for(;le&&ye<Me;){const pe=e.getRowNode(le);pe&&(be.push(pe.item),ye+=le.offsetHeight,le=le[`${de}ElementSibling`])}}return be}const g=(J,ue)=>{const{elemStore:le}=n,M=ct(le["main-body-scroll"]),I=ct(le["left-body-scroll"]),k=ct(le["right-body-scroll"]),{column:K,cell:ie}=ue;if(K.type==="checkbox"){let U=M;if(I&&K.fixed==="left"?U=I:k&&K.fixed==="right"&&(U=k),!U)return;const q=U.getBoundingClientRect(),ee=c.value,ve=J.clientX,we=J.clientY,ye=U.querySelector(".vxe-table--checkbox-range"),be=ie.parentElement,Me=e.getCheckboxRecords();let ne=[];const Z=1,re=J.clientY-q.y+U.scrollTop,de=J.clientX-q.x+U.scrollLeft,pe=U.scrollTop,ge=be.offsetHeight,ce=be.getBoundingClientRect(),Q=we-ce.y;let Fe=null,Je=!1,Ie=1;const je=(V,he)=>{e.dispatchEvent(`checkbox-range-${V}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},he)},Le=V=>{const{clientX:he,clientY:Ce}=V,De=he-ve,Be=Ce-we+(U.scrollTop-pe);let Ze=Math.abs(Be),Ae=Math.abs(De),pt=re,Qe=de;Be<Z?(pt+=Be,pt<Z&&(pt=Z,Ze=re)):Ze=Math.min(Ze,U.scrollHeight-re-Z),De<Z?(Qe+=De,Ae>de&&(Qe=Z,Ae=de)):Ae=Math.min(Ae,U.clientWidth-de-Z),ye.style.height=`${Ze}px`,ye.style.width=`${Ae}px`,ye.style.left=`${Qe}px`,ye.style.top=`${pt}px`,ye.style.display="block";const qe=m(V,ue,be,ce,Q,Be<Z?-Ze:Ze);if(Ze>10&&qe.length!==ne.length){const at=oa(V);ne=qe,at?qe.forEach(He=>{e.handleBatchSelectRows([He],Me.indexOf(He)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(qe,!0,!1)),je("change",V)}},Pe=()=>{clearTimeout(Fe),Fe=null},Re=V=>{Pe(),Fe=setTimeout(()=>{if(Fe){const{scrollLeft:he,scrollTop:Ce,clientHeight:De,scrollHeight:Be}=U,Ze=Math.ceil(Ie*50/ge);Je?Ce+De<Be?(e.scrollTo(he,Ce+Ze),Re(V),Le(V)):Pe():Ce?(e.scrollTo(he,Ce-Ze),Re(V),Le(V)):Pe()}},50)};Pr(ee,"drag--range"),document.onmousemove=V=>{V.preventDefault(),V.stopPropagation();const{clientY:he}=V,{boundingTop:Ce}=Ka(U);he<Ce?(Je=!1,Ie=Ce-he,Fe||Re(V)):he>Ce+U.clientHeight?(Je=!0,Ie=he-Ce-U.clientHeight,Fe||Re(V)):Fe&&Pe(),Le(V)},document.onmouseup=V=>{Pe(),hr(ee,"drag--range"),ye.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,je("end",V)},je("start",J)}},L=(J,ue)=>{const{editConfig:le,checkboxConfig:M,mouseConfig:I}=t,k=h.value,K=y.value,ie=u.value;if(I&&K.area&&e.triggerCellAreaModnEvent)return e.triggerCellAreaModnEvent(J,ue);M&&k.range&&g(J,ue),I&&K.selected&&(!le||ie.mode==="cell")&&e.handleSelected(ue,J)},te=(J,ue,le,M,I,k)=>{const{afterFullData:K,visibleColumn:ie}=n,U=Object.assign({},ue),q=e.getVTRowIndex(U.row),ee=e.getVTColumnIndex(U.column);return J.preventDefault(),M&&q>0?(U.rowIndex=q-1,U.row=K[U.rowIndex]):k&&q<K.length-1?(U.rowIndex=q+1,U.row=K[U.rowIndex]):le&&ee?(U.columnIndex=ee-1,U.column=ie[U.columnIndex]):I&&ee<ie.length-1&&(U.columnIndex=ee+1,U.column=ie[U.columnIndex]),e.scrollToRow(U.row,U.column).then(()=>{U.cell=e.getCellElement(U.row,U.column),e.handleSelected(U,J)}),U};return{moveTabSelected(J,ue,le){const{editConfig:M}=t,{afterFullData:I,visibleColumn:k}=n,K=u.value,ie=H.value,U=W.value,q=S.value,ee=Y.value;let ve,we,ye;const be=Object.assign({},J),Me=e.getVTRowIndex(be.row),ne=e.getVTColumnIndex(be.column);le.preventDefault(),ue?ne<=0?Me>0&&(we=Me-1,ve=I[we],ye=k.length-1):ye=ne-1:ne>=k.length-1?Me<I.length-1&&(we=Me+1,ve=I[we],ye=0):ye=ne+1;const Z=k[ye];Z&&(ve?(be.rowIndex=we,be.row=ve):be.rowIndex=Me,be.columnIndex=ye,be.column=Z,be.cell=e.getCellElement(be.row,be.column),ie.isCurrent&&U.isFollowSelected&&e.triggerCurrentRowEvent(le,be),q.isCurrent&&ee.isFollowSelected&&e.triggerCurrentColumnEvent(le,be),M?(K.trigger==="click"||K.trigger==="dblclick")&&(K.mode==="row"?e.handleEdit(be,le):e.scrollToRow(be.row,be.column).then(()=>{e.handleSelected(be,le)})):e.scrollToRow(be.row,be.column).then(()=>{e.handleSelected(be,le)}))},moveCurrentRow(J,ue,le){const{treeConfig:M}=t,{currentRow:I}=r,{afterFullData:k}=n,K=w.value,ie=K.children||K.childrenField;let U;if(I)if(M){const{index:q,items:ee}=a.findTree(k,ve=>ve===I,{children:ie});J&&q>0?U=ee[q-1]:ue&&q<ee.length-1&&(U=ee[q+1])}else{const q=e.getVTRowIndex(I);J&&q>0?U=k[q-1]:ue&&q<k.length-1&&(U=k[q+1])}else U=k[0];if(U){le.preventDefault();const q={$table:e,row:U,rowIndex:e.getRowIndex(U),$rowIndex:e.getVMRowIndex(U)};e.scrollToRow(U).then(()=>e.triggerCurrentRowEvent(le,q))}},moveCurrentColumn(J,ue,le){const{currentColumn:M}=r,{visibleColumn:I}=n;let k=null;if(M){const K=e.getVTColumnIndex(M);J&&K>0?k=I[K-1]:ue&&K<I.length-1&&(k=I[K+1])}else k=I[0];if(k){le.preventDefault();const K={$table:e,column:k,columnIndex:e.getColumnIndex(k),$columnIndex:e.getVMColumnIndex(k)};e.scrollToColumn(k).then(()=>e.triggerCurrentColumnEvent(le,K))}},moveArrowSelected(J,ue,le,M,I,k){const{highlightCurrentRow:K,highlightCurrentColumn:ie}=t,U=H.value,q=W.value,ee=S.value,ve=Y.value,we=te(k,J,ue,le,M,I);(U.isCurrent||K)&&(q.isFollowSelected?e.triggerCurrentRowEvent(k,we):(le||I)&&(U.isCurrent||K)&&e.moveCurrentRow(le,I,k)),(ee.isCurrent||ie)&&(ve.isFollowSelected?e.triggerCurrentColumnEvent(k,we):(ue||M)&&(ee.isCurrent||ie)&&e.moveCurrentColumn(ue,M,k))},moveEnterSelected(J,ue,le,M,I,k){const{highlightCurrentRow:K,highlightCurrentColumn:ie}=t,U=H.value,q=W.value,ee=S.value,ve=Y.value,we=te(k,J,ue,le,M,I);(U.isCurrent||K)&&q.isFollowSelected&&e.triggerCurrentRowEvent(k,we),(ee.isCurrent||ie)&&ve.isFollowSelected&&e.triggerCurrentColumnEvent(k,we)},moveSelected(J,ue,le,M,I,k){te(k,J,ue,le,M,I)},handleCellMousedownEvent:L}}});const{getConfig:Bk,validators:Nk,hooks:Vk}=me;class Zs{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return Sn(this.$options.content||this.$options.message)}get message(){return this.content}}function Gk(e,t){return!(e&&!(a.isRegExp(e)?e:new RegExp(e)).test(t))}function pc(e,t){return!(!a.eqNull(e)&&t>a.toNumber(e))}function hc(e,t){return!(!a.eqNull(e)&&t<a.toNumber(e))}function cg(e,t,r){const{type:n,min:c,max:u,pattern:h}=e,y=n==="array",w=n==="number",H=n==="string",S=`${t}`;if(!Gk(h,S))return!1;if(y){if(!a.isArray(t)||r&&!t.length||!hc(c,t.length)||!pc(u,t.length))return!1}else if(w){const F=Number(t);if(isNaN(F)||!hc(c,F)||!pc(u,F))return!1}else if(H&&!a.isString(t)||r&&!S||!hc(c,S.length)||!pc(u,S.length))return!1;return!0}function zk(e,t){const{required:r}=e,n=a.isArray(t)?!t.length:Cn(t);if(r){if(n||!cg(e,t,r))return!1}else if(!n&&!cg(e,t,r))return!1;return!0}const dg=["fullValidate","validate","fullValidateField","validateField","clearValidate"];Vk.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refValidTooltip:c}=e.getRefMaps(),{computeValidOpts:u,computeTreeOpts:h,computeEditOpts:y,computeAggregateOpts:w}=e.getComputeMaps();let H={},S={},F;const j=m=>new Promise(g=>{u.value.autoPos===!1?(e.dispatchEvent("valid-error",m,null),g()):e.handleEdit(m,{type:"valid-error",trigger:"call"}).then(()=>{g(S.showValidTooltip(m))})}),W=m=>{if(u.value.msgMode==="single"){const L=Object.keys(m),te={};if(L.length){const $=L[0];te[$]=m[$]}return te}return m},Y=(m,g,L,te)=>{const $={},{editRules:J,treeConfig:ue}=t,{isRowGroupStatus:le}=r,{afterFullData:M,pendingRowMaps:I,removeRowMaps:k}=n,K=h.value,ie=w.value,U=u.value;let q;m===!0?q=M:m&&(a.isFunction(m)?L=m:q=a.isArray(m)?m:[m]),q||(e.getInsertRecords?q=e.getInsertRecords().concat(e.getUpdateRecords()):q=[]);const ee=[];n._lastCallTime=Date.now(),F=!1,H.clearValidate();const ve={};if(J){const we=g&&g.length?g:e.getColumns(),ye=be=>{const Me=Ge(e,be);if(!k[Me]&&!I[Me]&&!e.isAggregateRecord(be)&&(te||!F)){const ne=[];we.forEach(Z=>{const re=a.isString(Z)?Z:Z.field;(te||!F)&&a.has(J,re)&&ne.push(S.validCellRules("all",be,Z).catch(({rule:de,rules:pe})=>{const ge={rule:de,rules:pe,rowIndex:e.getRowIndex(be),row:be,columnIndex:e.getColumnIndex(Z),column:Z,field:re,$table:e};if($[re]||($[re]=[]),ve[`${Ge(e,be)}:${Z.id}`]={column:Z,row:be,rule:de,content:de.content},$[re].push(ge),!te)return F=!0,Promise.reject(ge)}))}),ee.push(Promise.all(ne))}};if(le)a.eachTree(q,ye,{children:ie.mapChildrenField});else if(ue){const be=K.children||K.childrenField;a.eachTree(q,ye,{children:be})}else q.forEach(ye);return Promise.all(ee).then(()=>{const be=Object.keys($);return r.validErrorMaps=W(ve),se().then(()=>{if(be.length)return Promise.reject($[be[0]][0]);L&&L()})}).catch(be=>new Promise((Me,ne)=>{const Z=()=>{se(()=>{L?(L($),Me()):Bk().validToReject==="obsolete"?ne($):Me($)})},re=()=>{be.cell=e.getCellElement(be.row,be.column),H0(be.cell),j(be).then(Z)};if(U.autoPos===!1)Z();else{const de=be.row,pe=be.column;e.scrollToRow(de,pe).then(re)}}))}else r.validErrorMaps={};return se().then(()=>{L&&L()})};return H={fullValidate(m,g){return a.isFunction(g)&&ot("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),Y(m,null,g,!0)},validate(m,g){return Y(m,null,g)},fullValidateField(m,g){const L=(a.isArray(g)?g:g?[g]:[]).map(te=>vo(e,te));return L.length?Y(m,L,null,!0):se()},validateField(m,g){const L=(a.isArray(g)?g:g?[g]:[]).map(te=>vo(e,te));return L.length?Y(m,L,null):se()},clearValidate(m,g){const{validErrorMaps:L}=r,te=c.value,$=u.value,J=a.isArray(m)?m:m?[m]:[],ue=(a.isArray(g)?g:g?[g]:[]).map(M=>vo(e,M));let le={};if(te&&te.reactData.visible&&te.close(),$.msgMode==="single")return r.validErrorMaps={},se();if(J.length&&ue.length)le=Object.assign({},L),J.forEach(M=>{ue.forEach(I=>{const k=`${Ge(e,M)}:${I.id}`;le[k]&&delete le[k]})});else if(J.length){const M=J.map(I=>`${Ge(e,I)}`);a.each(L,(I,k)=>{M.indexOf(k.split(":")[0])>-1&&(le[k]=I)})}else if(ue.length){const M=ue.map(I=>`${I.id}`);a.each(L,(I,k)=>{M.indexOf(k.split(":")[1])>-1&&(le[k]=I)})}return r.validErrorMaps=le,se()}},S={validCellRules(m,g,L,te){const $=e.xeGrid,J=e.xeGantt,{editRules:ue}=t,{field:le}=L,M=[],I=[];if(le&&ue){const k=a.get(ue,le);if(k){const K=a.isUndefined(te)?a.get(g,le):te;k.forEach(ie=>{const{trigger:U,validator:q}=ie;if(m==="all"||!U||m===U)if(q){const ee={cellValue:K,rule:ie,rules:k,row:g,rowIndex:e.getRowIndex(g),column:L,columnIndex:e.getColumnIndex(L),field:L.field,$table:e,$grid:$,$gantt:J};let ve;if(a.isString(q)){const we=Nk.get(q);if(we){const ye=we.tableCellValidatorMethod||we.cellValidatorMethod;ye?ve=ye(ee):We("vxe.error.notValidators",[q])}else We("vxe.error.notValidators",[q])}else ve=q(ee);ve&&(a.isError(ve)?(F=!0,M.push(new Zs({type:"custom",trigger:U,content:ve.message,rule:new Zs(ie)}))):ve.catch&&I.push(ve.catch(we=>{F=!0,M.push(new Zs({type:"custom",trigger:U,content:we&&we.message?we.message:ie.content||ie.message,rule:new Zs(ie)}))})))}else zk(ie,K)||(F=!0,M.push(new Zs(ie)))})}}return Promise.all(I).then(()=>{if(M.length){const k={rules:M,rule:M[0]};return Promise.reject(k)}})},hasCellRules(m,g,L){const{editRules:te}=t,{field:$}=L;if($&&te){const J=a.get(te,$);return J&&!!a.find(J,ue=>m==="all"||!ue.trigger||m===ue.trigger)}return!1},triggerValidate(m){const{editConfig:g,editRules:L}=t,{editStore:te}=r,{actived:$}=te,J=y.value,ue=u.value;if(L&&ue.msgMode==="single"&&(r.validErrorMaps={}),g&&L&&$.row){const{row:le,column:M,cell:I}=$.args;if(S.hasCellRules(m,le,M))return S.validCellRules(m,le,M).then(()=>{J.mode==="row"&&H.clearValidate(le,M)}).catch(({rule:k})=>{if(!k.trigger||m===k.trigger){const K={rule:k,row:le,column:M,cell:I};return S.showValidTooltip(K),Promise.reject(K)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(m){const{height:g}=t,{tableData:L,validStore:te,validErrorMaps:$}=r,{rule:J,row:ue,column:le,cell:M}=m,I=u.value,k=c.value,K=J.content;return te.visible=!0,I.msgMode==="single"?r.validErrorMaps={[`${Ge(e,ue)}:${le.id}`]:{column:le,row:ue,rule:J,content:K}}:r.validErrorMaps=Object.assign({},$,{[`${Ge(e,ue)}:${le.id}`]:{column:le,row:ue,rule:J,content:K}}),e.dispatchEvent("valid-error",m,null),k&&k&&(I.message==="tooltip"||I.message==="default"&&!g&&L.length<2)?k.open(M,K):se()}},Object.assign(Object.assign({},H),S)},setupGrid(e){return e.extendTableMethods(dg)},setupGantt(e){return e.extendTableMethods(dg)}});const ug=["openCustom","closeCustom","getCustomVisible","toggleCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];me.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:r}=e,{computeCustomOpts:n,computeRowGroupFields:c}=e.getComputeMaps(),{refElem:u}=e.getRefMaps(),h=e.xeGantt,y=()=>{const{customStore:$}=t;let J=u.value,ue=0;if(h){const{refGanttContainerElem:le}=h.getRefMaps(),M=le.value;M&&(J=M)}J&&(ue=J.clientHeight-28),$.maxHeight=Math.max(88,ue)},w=()=>{const{initStore:$,customStore:J}=t;return J.visible=!0,$.custom=!0,H(),g(),y(),se().then(()=>y())},H=()=>{const{customStore:$}=t,{collectColumn:J}=r;if($.visible){const ue={},le={},M={};a.eachTree(J,I=>{const k=I.getKey();I.renderFixed=I.fixed,I.renderVisible=I.visible,I.renderResizeWidth=I.renderWidth,ue[k]=I.renderSortNumber,le[k]=I.fixed,M[k]=I.visible}),$.oldSortMaps=ue,$.oldFixedMaps=le,$.oldVisibleMaps=M,t.customColumnList=J.slice(0)}},S=()=>{const{customStore:$}=t,J=n.value;return $.visible&&($.visible=!1,J.immediate||e.handleCustom()),se()},F=()=>{const{customStore:$}=t;return $.visible?S():w()},j=()=>{const{customColumnList:$,aggHandleFields:J,rowGroupList:ue}=t,le=n.value,{allowVisible:M,allowSort:I,allowFixed:k,allowResizable:K,allowGroup:ie,allowValues:U}=le;return a.eachTree($,(q,ee,ve,we,ye)=>{if(ye)q.fixed=ye.fixed;else{if(I){const be=ee+1;q.renderSortNumber=be}k&&(q.fixed=q.renderFixed)}K&&q.renderVisible&&(!q.children||!q.children.length)&&q.renderResizeWidth!==q.renderWidth&&(q.resizeWidth=q.renderResizeWidth,q.renderWidth=q.renderResizeWidth),M&&(q.visible=q.renderVisible),ie&&U&&(q.aggFunc=q.renderAggFn)}),t.isCustomStatus=!0,ie&&e.handlePivotTableAggregateData&&(ue.length!==J.length||ue.some((q,ee)=>q.field!==J[ee])?J.length?e.setRowGroups(J):e.clearRowGroups():U&&e.handleUpdateAggData()),I&&(r.collectColumn=$),e.saveCustomStore("confirm")},W=()=>{const{customColumnList:$,customStore:J}=t,{oldSortMaps:ue,oldFixedMaps:le,oldVisibleMaps:M}=J,I=n.value,{allowVisible:k,allowSort:K,allowFixed:ie,allowResizable:U}=I;return a.eachTree($,q=>{const ee=q.getKey(),ve=!!M[ee],we=le[ee]||"";k&&(q.renderVisible=ve,q.visible=ve),ie&&(q.renderFixed=we,q.fixed=we),K&&(q.renderSortNumber=ue[ee]||0),U&&(q.renderResizeWidth=q.renderWidth)},{children:"children"}),se()},Y=$=>{const{customStore:J}=t,{customColumnList:ue}=t,le=n.value,{checkMethod:M,visibleMethod:I}=le,k=!!$;return le.immediate?(a.eachTree(ue,K=>{I&&!I({$table:e,column:K})||M&&!M({$table:e,column:K})||(K.visible=k,K.renderVisible=k,K.halfVisible=!1)}),J.isAll=k,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(a.eachTree(ue,K=>{I&&!I({$table:e,column:K})||M&&!M({$table:e,column:K})||(K.renderVisible=k,K.halfVisible=!1)}),J.isAll=k),e.checkCustomStatus(),se()},m={getCustomVisible(){const{customStore:$}=t;return $.visible},openCustom:w,closeCustom:S,toggleCustom:F,saveCustom:j,cancelCustom:W,resetCustom($){const{rowGroupList:J}=t,{collectColumn:ue}=r,le=n.value,{checkMethod:M}=le,I=Object.assign({visible:!0,resizable:$===!0,fixed:$===!0,sort:$===!0,aggFunc:$===!0},$),k=[];if(a.eachTree(ue,K=>{I.resizable&&(K.resizeWidth=0),I.fixed&&(K.fixed=K.defaultFixed),I.sort&&(K.renderSortNumber=K.sortNumber,K.parentId=K.defaultParentId),(!M||M({$table:e,column:K}))&&(K.visible=K.defaultVisible),I.aggFunc&&(K.aggFunc=K.defaultAggFunc,K.renderAggFn=K.defaultAggFunc),K.renderResizeWidth=K.renderWidth,k.push(K)}),I.sort){const K=a.toArrayTree(a.orderBy(k,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});r.collectColumn=K,r.tableFullColumn=na(K)}return t.isCustomStatus=!1,e.handleCustom().then(()=>{if(I.aggFunc&&e.handlePivotTableAggregateData){const K=c.value;(K?K.length:J.length)?K&&K.length?e.setRowGroups(K):e.clearRowGroups():e.handleUpdateAggData()}e.saveCustomStore("reset")})},toggleCustomAllCheckbox(){const{customStore:$}=t,J=!$.isAll;return Y(J)},setCustomAllCheckbox:Y},g=()=>{const{customStore:$}=t,{collectColumn:J}=r,ue=n.value,{checkMethod:le}=ue;$.isAll=J.every(M=>(le?!le({$table:e,column:M}):!1)||M.renderVisible),$.isIndeterminate=!$.isAll&&J.some(M=>(!le||le({$table:e,column:M}))&&(M.renderVisible||M.halfVisible))},L=($,J)=>{e.dispatchEvent("custom",{type:$},J)},te={checkCustomStatus:g,emitCustomEvent:L,triggerCustomEvent($){const J=e.reactData,{customStore:ue}=J;ue.visible?(S(),L("close",$)):(ue.btnEl=$.target,w(),L("open",$))},customOpenEvent($){const J=e.reactData,{customStore:ue}=J;ue.visible||(ue.activeBtn=!0,ue.btnEl=$.target,e.openCustom(),e.emitCustomEvent("open",$))},customCloseEvent($){const J=e.reactData,{customStore:ue}=J;ue.visible&&(ue.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",$))},handleUpdateCustomColumn:H};return Object.assign(Object.assign({},m),te)},setupGrid(e){return e.extendTableMethods(ug)},setupGantt(e){return e.extendTableMethods(ug)}});const{getConfig:Qa,renderer:Wk,getI18n:cd,getComponent:pv}=me,hv="modelValue",vv={};function wn(e,t,r){return a.eqNull(e)?a.eqNull(t)?r:t:e}function jk(e,t){return e&&t.valueFormat?a.toStringDate(e,t.valueFormat):e}function qk(e,t,r){const{dateConfig:n={}}=t;return a.toDateString(jk(e,t),n.labelFormat||r)}function vc(e,t){return qk(e,t,cd(`vxe.input.date.labelFormat.${t.type||"date"}`))}function Uk(e){return`vxe-${e.replace("$","")}`}function Zo({name:e}){return pv(e)}function xi({name:e}){return xm(Uk(e))}function xn(e,t,r){const{$table:n}=e;n.updateFilterOptionStatus(r,t)}function mc(e){const{$table:t,column:r}=e;t.saveFilterByEvent(new Event("change"),r)}function Ci(e){let{name:t,attrs:r}=e;return t==="input"&&(r=Object.assign({type:"text"},r)),r}function mv(e){const{name:t,immediate:r,props:n}=e;if(!r){if(t==="VxeInput"||t==="$input"){const{type:c}=n||{};return!(!c||c==="text"||c==="number"||c==="integer"||c==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return r}function Nr(e,t,r,n){return a.assign({immediate:mv(e)},vv,n,e.props,{[hv]:r})}function xs(e,t,r,n){return a.assign({},vv,n,e.props,{[hv]:r})}function wi(e,t){return t.$type==="cell"||mv(e)}function Cr(e,t,r,n){const{placeholder:c}=e;return[x("span",{class:["vxe-cell--label",n?n.class:""]},c&&qr(r)?[x("span",{class:"vxe-cell--placeholder"},qo(Sn(c),1))]:qo(r,1))]}function bv(e,t,r){const{events:n}=e,c=av(e),u=iv(e),{model:h,change:y,blur:w}=r||{},H=u===c,S={};return n&&a.objectEach(n,(F,j)=>{S[rn(j)]=function(...W){F(t,...W)}}),h&&(S[rn(c)]=function(F){h(F),H&&y&&y(F),n&&n[c]&&n[c](t,F)}),!H&&y&&(S[rn(u)]=function(F){y(F),n&&n[u]&&n[u](t,F)}),w&&(S[rn(Cs)]=function(F){w(F),n&&n[Cs]&&n[Cs](t,F)}),S}const Cs="blur",bc="clear";function yn(e,t,r,n){const{events:c}=e,u=av(e),h=iv(e),{model:y,change:w,blur:H,clear:S}=r||{},F={};return a.objectEach(c,(j,W)=>{F[rn(W)]=function(...Y){a.isFunction(j)||We("vxe.error.errFunc",[j]),j(t,...Y)}}),y&&(F[rn(u)]=function(j){y(j),c&&c[u]&&c[u](t,j)}),w&&(F[rn(h)]=function(...j){w(...j),c&&c[h]&&c[h](t,...j)}),H&&(F[rn(Cs)]=function(...j){H(...j),c&&c[Cs]&&c[Cs](t,...j)}),S&&(F[rn(bc)]=function(...j){S(...j),c&&c[bc]&&c[bc](t,...j)}),n?Object.assign(F,n):F}function Ur(e,t){const{$table:r,row:n,column:c}=t,{name:u}=e,{model:h}=c,y=wi(e,t);return yn(e,t,{model(w){h.update=!0,h.value=w,y&&on(n,c,w)},change(w){if(!y&&u&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(u)){const H=w.value;h.update=!0,h.value=H,r.updateStatus(t,H)}else r.updateStatus(t)},blur(){y?r.handleCellRuleUpdateStatus("blur",t):r.handleCellRuleUpdateStatus("blur",t,h.value)}})}function ai(e,t,r){return yn(e,t,{model(n){r.data=n},change(){xn(t,!qr(r.data),r)},blur(){xn(t,!qr(r.data),r)}})}function xv(e,t,r){const{$table:n,column:c}=t;return U0(e)?yn(e,t,{model(u){r.data=u},change(){xn(t,!qr(r.data),r)},clear(){xn(t,!qr(r.data),r),mc(t)},blur(){n.saveFilterByEvent(new Event("change"),c)}},e.name==="VxeNumberInput"?{[rn("plus-number")](){xn(t,!qr(r.data),r),mc(t)},[rn("minus-number")](){xn(t,!qr(r.data),r),mc(t)}}:{}):yn(e,t,{model(u){r.data=u},clear(){xn(t,!qr(r.data),r),n.saveFilterByEvent(new Event("change"),c)},change(){xn(t,!qr(r.data),r),n.saveFilterByEvent(new Event("change"),c)}})}function Cv(e,t){const{$table:r,row:n,column:c}=t,{model:u}=c;return bv(e,t,{model(h){const y=h.target;if(y){const w=y.value;wi(e,t)?on(n,c,w):(u.update=!0,u.value=w)}},change(h){const y=h.target;if(y){const w=y.value;r.updateStatus(t,w)}},blur(h){const y=h.target;if(y){const w=y.value;r.updateStatus(t,w)}}})}function wv(e,t,r){return bv(e,t,{model(n){const c=n.target;c&&(r.data=c.value)},change(){xn(t,!a.eqNull(r.data),r)},blur(){xn(t,!a.eqNull(r.data),r)}})}function xc(e,t){const{row:r,column:n}=t,{name:c}=e,u=wi(e,t)?No(r,n):n.model.value;return[x(`${c}`,Object.assign(Object.assign(Object.assign({class:`vxe-default-${c}`},Ci(e)),{value:u}),Cv(e,t)))]}function Xk(e,t){return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,null)),yn(e,t)))]}function Dr(e,t){const{row:r,column:n}=t,c=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,c)),Ur(e,t)))]}function Yk(e,t){const{row:r,column:n}=t,c=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,c)),Ur(e,t)))]}function fg(e,t){const{options:r}=e,{row:n,column:c}=t,u=No(n,c);return[x(Zo(e),Object.assign(Object.assign({options:r},Nr(e,t,u)),Ur(e,t)))]}function Ga(e,t){const{row:r,column:n}=t,c=No(r,n);return[x(xi(e),Object.assign(Object.assign({},Nr(e,t,c)),Ur(e,t)))]}function yv(e,t){return[x(pv("vxe-button"),Object.assign(Object.assign({},Nr(e,t,null)),yn(e,t)))]}function Kk(e,t){const{children:r}=e;return r?r.map(n=>yv(n,t)[0]):[]}function Ev(e,t,r){const{optionGroups:n,optionGroupProps:c={}}=e,u=c.options||"options",h=c.label||"label";return n?n.map((y,w)=>x("optgroup",{key:w,label:y[h]},r(y[u],e,t))):[]}function ii(e,t,r){const{optionProps:n={}}=t,{row:c,column:u}=r,h=n.label||"label",y=n.value||"value",w=n.disabled||"disabled",H=wi(t,r)?No(c,u):u.model.value;return e?e.map((S,F)=>x("option",{key:F,value:S[y],disabled:S[w],selected:S[y]==H},S[h])):[]}function Zk(e,t){const{column:r}=t,{name:n}=e,c=Ci(e);return r.filters.map((u,h)=>x(`${n}`,Object.assign(Object.assign(Object.assign({key:h,class:`vxe-default-${n}`},c),{value:u.data}),wv(e,t,u))))}function Cc(e,t){const{column:r}=t;return r.filters.map((n,c)=>{const u=n.data;return x(Zo(e),Object.assign(Object.assign({key:c},xs(e,e,u)),ai(e,t,n)))})}function wc(e,t){const{option:r}=t,n=r.data;return[x(Zo(e),Object.assign(Object.assign({},xs(e,e,n)),xv(e,t,r)))]}function ss(){return[{data:null}]}function Qk(e,t){const{column:r}=t;return r.filters.map((n,c)=>{const u=n.data;return x(xi(e),Object.assign(Object.assign({key:c},xs(e,e,u)),ai(e,t,n)))})}function Qs({option:e,row:t,column:r}){const{data:n}=e;return a.get(t,r.field)==n}function Js({option:e,row:t,column:r}){const{data:n}=e,c=a.get(t,r.field);return a.toValueString(c).indexOf(n)>-1}function gg(e,t){return[x("select",Object.assign(Object.assign({class:"vxe-default-select"},Ci(e)),Cv(e,t)),e.optionGroups?Ev(e,t,ii):ii(e.options,e,t))]}function pg(e,t){const{row:r,column:n}=t,{options:c,optionProps:u,optionGroups:h,optionGroupProps:y}=e,w=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,w,{options:c,optionProps:u,optionGroups:h,optionGroupProps:y})),Ur(e,t)))]}function hg(e,t){const{row:r,column:n}=t,{options:c,optionProps:u}=e,h=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,h,{options:c,optionProps:u})),Ur(e,t)))]}function vg(e,t){const{row:r,column:n}=t,{options:c,optionProps:u,optionGroups:h,optionGroupProps:y}=e,w=No(r,n);return[x(xi(e),Object.assign(Object.assign({},Nr(e,t,w,{options:c,optionProps:u,optionGroups:h,optionGroupProps:y})),Ur(e,t)))]}function Rv(e,t){const{options:r,optionGroups:n,optionProps:c={},optionGroupProps:u={},props:h={}}=t;let y;const w=c.label||"label",H=c.value||"value";if(e!=null){let S=[];return a.isArray(e)?S=e:h.multiple&&`${e}`.indexOf(",")>-1?S=`${e}`.split(","):S=[e],a.map(S,n?F=>{const j=u.options||"options";for(let W=0;W<n.length&&(y=a.find(n[W][j],Y=>Y[H]==F),!y);W++);return y?y[w]:F}:F=>(y=a.find(r,j=>j[H]==F),y?y[w]:F)).join(", ")}return""}function hs(e,{row:t,column:r}){const n=a.get(t,r.field);return Rv(n,e)}function za(e){const{row:t,column:r,options:n}=e;return n.original?No(t,r):hs(r.editRender||r.cellRender,e)}function Sv(e,t){const{options:r,optionProps:n={}}=t,c=n.label||"label",u=n.value||"value",h=n.children||"children";if(e!=null){const y={};return a.eachTree(r,w=>{y[a.get(w,u)]=w},{children:h}),a.map(a.isArray(e)?e:[e],w=>{const H=y[w];return H&&a.get(H,c)}).join(", ")}return""}function ta(e,{row:t,column:r}){const n=a.get(t,r.field);return Sv(n,e)}function yc(e){const{row:t,column:r,options:n}=e;return n.original?No(t,r):ta(r.editRender||r.cellRender,e)}function mg(e,t){const{props:r={},showNegativeStatus:n}=e,{row:c,column:u}=t,{type:h}=r;let y=a.get(c,u.field),w=!1;if(!qr(y)){const H=Qa().numberInput||{};if(h==="float"){const S=wn(r.autoFill,H.autoFill,!0),F=wn(r.digits,H.digits,1);y=a.toFixed(a.floor(y,F),F),S||(y=a.toNumber(y)),n&&y<0&&(w=!0)}else if(h==="amount"){const S=wn(r.autoFill,H.autoFill,!0),F=wn(r.digits,H.digits,2),j=wn(r.showCurrency,H.showCurrency,!1);if(y=a.toNumber(y),n&&y<0&&(w=!0),y=a.commafy(y,{digits:F}),!S){const[W,Y]=y.split(".");if(Y){const m=Y.replace(/0+$/,"");y=m?[W,".",m].join(""):W}}j&&(y=`${r.currencySymbol||H.currencySymbol||cd("vxe.numberInput.currencySymbol")||""}${y}`)}else n&&a.toNumber(y)<0&&(w=!0)}return Cr(e,t,y,w?{class:"is--negative"}:{})}function as(e,t){const{cellValue:r}=t;return Rv(r,e)}function Ec(e,t){const{row:r,column:n,cellValue:c}=t,{field:u}=n;if(u){const{options:h,optionGroups:y,optionProps:w={},optionGroupProps:H={},props:S}=e;if(qr(c)){a.set(r,u,S&&S.multiple?[]:null);return}const F=a.indexOf(`${c}`,",")>-1,j=w.label||"label",W=w.value||"value",Y={};if(y&&y.length){const m=H.options||"options";for(let g=0;g<y.length;g++){const L=y[g][m]||{};for(let te=0;te<L.length;te++){const $=L[te];if(F)Y[$[j]]=$;else if($[j]==c){a.set(r,u,$[W]);return}}}}else if(h)for(let m=0;m<h.length;m++){const g=h[m];if(F)Y[g[j]]=g;else if(g[j]==c){a.set(r,u,g[W]);return}}F?a.set(r,u,(F?c.split(","):[c]).map(m=>{const g=Y[m];return g?g[W]:m})):a.set(r,u,c)}}function is(e,t){const{cellValue:r}=t;return Sv(r,e)}function Rc(e,t){const{row:r,column:n,cellValue:c}=t,{field:u}=n;if(u){const{options:h,optionProps:y={}}=e,w=y.label||"label",H=y.value||"value",S=y.children||"children",F=a.findTree(h||[],j=>a.get(j,w)===c,{children:S});if(F){const j=F.item;if(j){a.set(r,u,j[H]);return}}a.set(r,u,c)}}Wk.mixin({input:{tableAutoFocus:"input",renderTableEdit:xc,renderTableDefault:xc,createTableFilterOptions:ss,renderTableFilter:Zk,tableFilterDefaultMethod:Js},textarea:{tableAutoFocus:"textarea",renderTableEdit:xc},select:{renderTableEdit:gg,renderTableDefault:gg,renderTableCell(e,t){return Cr(e,t,hs(e,t))},createTableFilterOptions:ss,renderTableFilter(e,t){const{column:r}=t;return r.filters.map((n,c)=>x("select",Object.assign(Object.assign({key:c,class:"vxe-default-select"},Ci(e)),wv(e,t,n)),e.optionGroups?Ev(e,t,ii):ii(e.options,e,t)))},tableCellFormatter:as,tableCellCopyMethod:as,tableCellPasteMethod:Ec,tableFilterDefaultMethod:Qs,tableExportMethod:za},VxeInput:{tableAutoFocus:"input",renderTableEdit:Dr,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:c}=t,u=Qa().input||{},h=r.digits||u.digits||2;let y=a.get(n,c.field);if(y)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":y=vc(y,r);break;case"float":y=a.toFixed(a.floor(y,h),h);break}return Cr(e,t,y)},renderTableDefault:Dr,createTableFilterOptions:ss,renderTableFilter:Cc,renderTableFloatingFilter:wc,tableFilterDefaultMethod:Js},FormatNumberInput:{renderTableDefault:mg,tableFilterDefaultMethod:Js,tableExportMethod(e){const{row:t,column:r}=e;return a.get(t,r.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:Dr,renderTableCell:mg,renderTableFooter(e,t){const{props:r={}}=e,{row:n,column:c,_columnIndex:u}=t,{type:h}=r,y=a.isArray(n)?n[u]:a.get(n,c.field);if(a.isNumber(y)){const w=Qa().numberInput||{};if(h==="float"){const H=wn(r.autoFill,w.autoFill,!0),S=wn(r.digits,w.digits,1);let F=a.toFixed(a.floor(y,S),S);return H||(F=a.toNumber(F)),F}else if(h==="amount"){const H=wn(r.autoFill,w.autoFill,!0),S=wn(r.digits,w.digits,2),F=wn(r.showCurrency,w.showCurrency,!1);let j=a.commafy(a.toNumber(y),{digits:S});if(!H){const[W,Y]=j.split(".");if(Y){const m=Y.replace(/0+$/,"");j=m?[W,".",m].join(""):W}}return F&&(j=`${r.currencySymbol||w.currencySymbol||cd("vxe.numberInput.currencySymbol")||""}${j}`),j}}return Sn(y,1)},renderTableDefault:Dr,createTableFilterOptions:ss,renderTableFilter:Cc,renderTableFloatingFilter:wc,tableFilterDefaultMethod:Js,tableExportMethod(e){const{row:t,column:r}=e;return a.get(t,r.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:Dr,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:c}=t;let u=a.get(n,c.field);return u&&r.type!=="time"&&(u=vc(u,r)),Cr(e,t,u)},renderTableDefault:Dr,createTableFilterOptions:ss,renderTableFilter:Cc,renderTableFloatingFilter:wc,tableFilterDefaultMethod:Qs},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:r,endField:n}=e,{$table:c,row:u,column:h}=t,{model:y}=h,w=No(u,h),H={},S={};return r&&n&&(H.startValue=a.get(u,r),H.endValue=a.get(u,n),S["onUpdate:startValue"]=F=>{r&&a.set(u,r,F)},S["onUpdate:endValue"]=F=>{n&&a.set(u,n,F)}),[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,w,H)),yn(e,t,{model(F){y.update=!0,y.value=F,on(u,h,F)},change(){c.updateStatus(t)},blur(){c.handleCellRuleUpdateStatus("blur",t)}},S)))]},renderTableCell(e,t){const{startField:r,endField:n}=e,{row:c,column:u}=t;let h="",y="";if(r&&n)h=a.get(c,r),y=a.get(c,n);else{const H=a.get(c,u.field);if(H)if(a.isArray(H))h=H[0],y=H[1];else{const S=`${H}`.split(",");h=S[0],y=S[1]}}let w="";return h&&y&&(w=`${h} ~ ${y}`),Cr(e,t,w)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:Dr,renderTableCell(e,t){const{row:r,column:n}=t,c=a.get(r,n.field);return Cr(e,t,c)}},VxeButton:{renderTableDefault:Xk},VxeButtonGroup:{renderTableDefault(e,t){const{options:r}=e;return[x(Zo(e),Object.assign(Object.assign({options:r},Nr(e,t,null)),yn(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:pg,renderTableDefault:pg,renderTableCell(e,t){return Cr(e,t,hs(e,t))},createTableFilterOptions:ss,renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h}=e;return r.filters.map((y,w)=>{const H=y.data;return x(Zo(e),Object.assign(Object.assign({key:w},xs(e,t,H,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h})),ai(e,t,y)))})},renderTableFloatingFilter(e,t){const{option:r}=t,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h}=e,y=r.data;return x(Zo(e),Object.assign(Object.assign({},xs(e,t,y,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h})),xv(e,t,r)))},tableCellFormatter:as,tableCellCopyMethod:as,tableCellPasteMethod:Ec,tableFilterDefaultMethod:Qs,tableExportMethod:za},VxeText:{renderTableDefault(e,t){const{$table:r,row:n,column:c}=t,{props:u}=e,h=r.getCellLabel(n,c);return[x(Zo(e),Object.assign(Object.assign(Object.assign({},u||{}),{content:h}),yn(e,t)))]}},VxeLink:{renderTableDefault(e,t){const{$table:r,row:n,column:c}=t,{props:u}=e,{href:h}=u||{},y=r.getCellLabel(n,c);return[x(Zo(e),Object.assign(Object.assign(Object.assign({},u||{}),{content:y,href:a.toFormatString(h,t)}),yn(e,t)))]}},formatOption:{renderTableDefault(e,t){return Cr(e,t,hs(e,t))}},FormatSelect:{renderTableDefault(e,t){return Cr(e,t,hs(e,t))},tableCellFormatter:as,tableCellCopyMethod:as,tableCellPasteMethod:Ec,tableFilterDefaultMethod:Qs,tableExportMethod:za},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:hg,renderTableCell(e,t){return Cr(e,t,ta(e,t))},tableCellFormatter:is,tableCellCopyMethod:is,tableCellPasteMethod:Rc,tableExportMethod:yc},formatTree:{renderTableDefault(e,t){return Cr(e,t,ta(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Cr(e,t,ta(e,t))},tableCellFormatter:is,tableCellCopyMethod:is,tableCellPasteMethod:Rc,tableExportMethod:yc},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:hg,renderTableCell(e,t){return Cr(e,t,ta(e,t))},tableCellFormatter:is,tableCellCopyMethod:is,tableCellPasteMethod:Rc,tableExportMethod:yc},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:c}=e,u=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,u,{colors:c})),Ur(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,c=a.get(r,n.field);return x("span",{class:"vxe-color-picker--readonly"},[x("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:c}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:c}=e,u=No(r,n);return[x(Zo(e),Object.assign(Object.assign({},Nr(e,t,u,{icons:c})),Ur(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,c=a.get(r,n.field);return x("i",{class:c})}},VxeRadioGroup:{renderTableDefault:fg},VxeCheckbox:{renderTableDefault:Yk},VxeCheckboxGroup:{renderTableDefault:fg},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:Dr,renderTableDefault:Dr},VxeUpload:{renderTableEdit:Dr,renderTableCell:Dr,renderTableDefault:Dr},VxeImage:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:c}=e,u=No(r,n);return[x(Zo(e),Object.assign(Object.assign(Object.assign({},c),{src:u}),Ur(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:c}=e,u=No(r,n);return[x(Zo(e),Object.assign(Object.assign(Object.assign({},c),{urlList:u}),Ur(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:c}=e,u=No(r,n);return[x(Zo(e),Object.assign(Object.assign(Object.assign({},c),{content:u}),Ur(e,t)))]}},VxeRate:{renderTableDefault:Dr},VxeSlider:{renderTableDefault:Dr},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Ga,renderTableCell(e,t){var r;const{props:n={}}=e,{row:c,column:u}=t,h=n.digits||((r=Qa().input)===null||r===void 0?void 0:r.digits)||2;let y=a.get(c,u.field);if(y)switch(n.type){case"date":case"week":case"month":case"year":y=vc(y,n);break;case"float":y=a.toFixed(a.floor(y,h),h);break}return Cr(e,t,y)},renderTableDefault:Ga,renderTableFilter:Qk,tableFilterDefaultMethod:Js},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:yv},$buttons:{renderTableDefault:Kk},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:vg,renderTableDefault:vg,renderTableCell(e,t){return Cr(e,t,hs(e,t))},renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h}=e;return r.filters.map((y,w)=>{const H=y.data;return x(xi(e),Object.assign(Object.assign({key:w},xs(e,t,H,{options:n,optionProps:c,optionGroups:u,optionGroupProps:h})),ai(e,t,y)))})},tableFilterDefaultMethod:Qs,tableExportMethod:za},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Ga,renderTableDefault:Ga}});const{getConfig:$t,getIcon:Wa,getI18n:en,renderer:ja,formats:qa,createEvent:Jk,globalResize:eL,interceptor:bg,hooks:tL,globalEvents:ho,GLOBAL_EVENT_KEYS:Hr,useFns:oL,renderEmptyElement:tr}=me,xg=5e6,Cg="VXE_CUSTOM_STORE",Rl=5e6,cs=5e6,rL="table";let xr=null;const Tl=Gr({name:"VxeTable",props:li,emits:ad,setup(e,t){const{slots:r,emit:n}=t,c=a.uniqueId(),u=a.browse(),h=me.getComponent("VxeLoading"),y=me.getComponent("VxeTooltip"),w=Qo("$xeTabs",null),H=Qo("$xeTable",null),S=Qo("$xeGrid",null),F=Qo("$xeGantt",null),j=S||F,{computeSize:W}=oL.useSize(e),Y=ck(),m=Br({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,checkboxColumn:null,radioColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,column:null,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],aggHandleAggColumns:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeHeadFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,lazScrollLoading:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isCrossDragRow:!1,dragRow:null,isCrossDragCol:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),g=Mf();let L={},te={};const $=Xe(),J=Xe(),ue=Xe(),le=Xe(),M=Xe(),I=Xe(),k=Xe(),K=Xe(),ie=Xe(),U=Xe(),q=Xe(),ee=Xe(),ve=Xe(),we=Xe(),ye=Xe(),be=Xe(),Me=Xe(),ne=Xe(),Z=Xe(),re=Xe(),de=Xe(),pe=Xe(),ge=Xe(),ce=Xe(),Q=Xe(),Fe=Xe(),Je=Xe(),Ie=Xe(),je=Xe(),Le=Xe(),Pe=Xe(),Re=Xe(),V=Xe(),he=Xe(),Ce=Xe(),De=Xe(),Be=Xe(),Ze=Xe(),Ae=Xe(),pt=Xe(),Qe=Xe(),qe=Xe();let at;const He=ke(()=>{const{id:o}=e;return o?a.isFunction(o)?`${o({$table:i,$grid:S,$gantt:F})||""}`:`${o}`:""}),Ne=ke(()=>{const o=dt.value;return`${e.rowId||o.keyField||"_X_ROW_KEY"}`}),Ot=ke(()=>Object.assign({},$t().table.validConfig,e.validConfig)),xt=ke(()=>rt.value),Rt=ke(()=>{const o=rt.value,{threshold:l}=o;return l?a.toNumber(l):0}),Ue=ke(()=>st.value),rt=ke(()=>{const{virtualXConfig:o,scrollX:l}=e,s=$t().table.virtualXConfig,d=$t().table.scrollX;return o?Object.assign({},s,o):l?Object.assign({},d,l):s?Object.assign({},s,o):Object.assign({},d,l)}),st=ke(()=>{const{virtualYConfig:o,scrollY:l}=e,s=$t().table.virtualYConfig,d=$t().table.scrollY;return o?Object.assign({},s,o):l?Object.assign({},d,l):s?Object.assign({},s,o):Object.assign({},d,l)}),bt=ke(()=>Object.assign({},$t().table.scrollbarConfig,e.scrollbarConfig)),Ye=ke(()=>{var o;const l=bt.value;return Object.assign({},l.x,((o=e.scrollbarConfig)===null||o===void 0?void 0:o.x)||{})}),Dt=ke(()=>{var o;const l=bt.value;return Object.assign({},l.y,((o=e.scrollbarConfig)===null||o===void 0?void 0:o.y)||{})}),et=ke(()=>Ye.value.position==="top"),Lt=ke(()=>Dt.value.position==="left"),Qt=ke(()=>{const o=st.value,{threshold:l}=o;return l?a.toNumber(l):0}),Yt=ke(()=>m.rowHeightStore),ut=ke(()=>{const o=W.value;return Yt.value[o||"default"]||18}),wt=ke(()=>Object.assign({},$t().table.columnConfig,e.columnConfig)),Kt=ke(()=>Object.assign({},$t().table.currentColumnConfig,e.currentColumnConfig)),At=ke(()=>{const o=Object.assign({},$t().table.cellConfig,e.cellConfig);return o.height&&(o.height=a.toNumber(o.height)),o}),Pt=ke(()=>{const o=Object.assign({},$t().table.headerCellConfig,e.headerCellConfig),l=ut.value,s=At.value;let d=a.toNumber(sa(o.height||s.height));if(F){const{computeTaskViewScales:f}=F.getComputeMaps(),p=f.value;if(p&&p.length>2){const v=l/2*p.length;d=Math.max(v,d)}}return o.height=d,o}),Xt=ke(()=>{const o=Object.assign({},$t().table.footerCellConfig,e.footerCellConfig),l=At.value;return o.height=a.toNumber(sa(o.height||l.height)),o}),dt=ke(()=>Object.assign({},$t().table.rowConfig,e.rowConfig)),_=ke(()=>Object.assign({},$t().table.aggregateConfig||$t().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),ae=ke(()=>_.value),Ee=ke(()=>Object.assign({},$t().table.currentRowConfig,e.currentRowConfig)),Te=ke(()=>Object.assign({},$t().table.rowDragConfig,e.rowDragConfig)),ze=ke(()=>Object.assign({},$t().table.columnDragConfig,e.columnDragConfig)),ft=ke(()=>Object.assign({},$t().table.resizeConfig,e.resizeConfig)),St=ke(()=>Object.assign({},$t().table.resizableConfig,e.resizableConfig)),_t=ke(()=>Object.assign({startIndex:0},$t().table.seqConfig,e.seqConfig)),nt=ke(()=>Object.assign({},$t().table.radioConfig,e.radioConfig)),lt=ke(()=>Object.assign({},$t().table.checkboxConfig,e.checkboxConfig)),Tt=ke(()=>Object.assign({},$t().tooltip,$t().table.tooltipConfig,e.tooltipConfig)),zt=ke(()=>Object.assign({},$t().tooltip,$t().table.headerTooltipConfig,e.headerTooltipConfig)),ao=ke(()=>Object.assign({},$t().tooltip,$t().table.footerTooltipConfig,e.footerTooltipConfig)),dr=ke(()=>{const{tooltipStore:o}=m,l=Tt.value;return Object.assign({},l,o.currOpts)}),Jo=ke(()=>{const o=Tt.value;return Object.assign({},o)}),yo=ke(()=>Object.assign({},$t().table.editConfig,e.editConfig)),Io=ke(()=>Object.assign({orders:["asc","desc",null]},$t().table.sortConfig,e.sortConfig)),vr=ke(()=>Object.assign({},$t().table.filterConfig,e.filterConfig)),mr=ke(()=>Object.assign({},$t().table.floatingFilterConfig,e.floatingFilterConfig)),lo=ke(()=>Object.assign({},$t().table.mouseConfig,e.mouseConfig)),Uo=ke(()=>Object.assign({},$t().table.areaConfig,e.areaConfig)),Wt=ke(()=>Object.assign({},$t().table.keyboardConfig,e.keyboardConfig)),no=ke(()=>Object.assign({},$t().table.clipConfig,e.clipConfig)),Vo=ke(()=>Object.assign({},$t().table.undoHistoryConfig,e.undoHistoryConfig)),jt=ke(()=>Rr.value),Rr=ke(()=>Object.assign({},$t().table.fnrConfig,e.fnrConfig)),Ho=ke(()=>Object.assign({},$t().table.menuConfig,e.menuConfig)),Do=ke(()=>{const{columnStore:o}=m,{leftList:l}=o;let s=0;for(let d=0;d<l.length;d++){const f=l[d];s+=f.renderWidth}return s}),sn=ke(()=>{const{columnStore:o}=m,{rightList:l}=o;let s=0;for(let d=0;d<l.length;d++){const f=l[d];s+=f.renderWidth}return s}),fo=ke(()=>{const{columnStore:o,mergeBodyFlag:l}=m,{mergeBodyList:s,visibleColumn:d}=g,{leftList:f,rightList:p}=o,v=d.length-p.length;if(l&&(f.length||p.length)){const b=f.length;for(let C=0;C<s.length;C++){const{col:E,colspan:R}=s[C];if(E<b||E+R>v)return!0}}return!1}),Po=ke(()=>{const{spanMethod:o,footerSpanMethod:l,showHeaderOverflow:s}=e,{isGroup:d,scrollXLoad:f}=m;let p=!1;return d||f&&s&&(o||l||(p=!0)),p}),Xo=ke(()=>{const{spanMethod:o,footerSpanMethod:l}=e,{scrollXLoad:s,scrollYLoad:d,isAllOverflow:f,expandColumn:p}=m,v=fo.value,b=Zt.value;let C=!1;return(s||d||f)&&(p&&b.mode!=="fixed"||v||o||l||(C=!0)),C}),Fo=ke(()=>{const{spanMethod:o,footerSpanMethod:l,showFooterOverflow:s}=e,{scrollXLoad:d}=m;let f=!1;return d&&s&&(o||l||(f=!0)),f}),Ao=ke(()=>{const l=Ho.value.header;return l&&l.options?l.options:[]}),rr=ke(()=>{const l=Ho.value.body;return l&&l.options?l.options:[]}),Go=ke(()=>{const l=Ho.value.footer;return l&&l.options?l.options:[]}),zo=ke(()=>Sr.value),Sr=ke(()=>{const o=Ho.value,l=Ao.value,s=rr.value,d=Go.value;return!!(e.menuConfig&&it(o)&&(l.length||s.length||d.length))}),zr=ke(()=>{const{ctxMenuStore:o}=m,l=[];return o.list.forEach(s=>{s.forEach(d=>{l.push(d)})}),l}),$o=ke(()=>Object.assign({},$t().table.exportConfig,e.exportConfig)),Yo=ke(()=>Object.assign({},$t().table.importConfig,e.importConfig)),Or=ke(()=>Object.assign({},$t().table.printConfig,e.printConfig)),Zt=ke(()=>Object.assign({},$t().table.expandConfig,e.expandConfig)),Ft=ke(()=>Object.assign({},$t().table.treeConfig,e.treeConfig)),nr=ke(()=>Object.assign({},$t().table.emptyRender,e.emptyRender)),ur=ke(()=>Object.assign({},$t().table.loadingConfig,e.loadingConfig)),Gn=ke(()=>e.border?Math.max(2,Math.ceil(m.scrollbarWidth/m.tableColumn.length)):1),Mr=ke(()=>Object.assign({},$t().table.customConfig,e.customConfig)),Ir=ke(()=>{const{tableData:o,rowExpandedFlag:l,expandColumn:s,rowGroupExpandedFlag:d,treeExpandedFlag:f}=m,{visibleDataRowIdData:p,rowExpandedMaps:v}=g,b=[];return o.length&&s&&l&&d&&f&&a.each(v,(C,E)=>{p[E]&&b.push(C)}),b}),Bl=ke(()=>{const{visibleColumn:o}=g,{tableColumn:l}=m;return l.length||o.length?o.filter(s=>s.width==="auto"||s.minWidth==="auto"):[]}),Nl=ke(()=>{const{tableColumn:o}=m,{collectColumn:l}=g;let s=0;return o.length&&l.length&&l.forEach(d=>{d.renderFixed&&s++}),s}),fl=ke(()=>{const o=Nl.value,l=wt.value,{maxFixedSize:s}=l;return s?o>=s:!1}),ga=ke(()=>{const{border:o}=e;return o===!0?"full":o||"default"}),gl=ke(()=>{const{treeConfig:o}=e,{tableData:l}=m,{tableFullData:s}=g,d=lt.value,{strict:f,checkMethod:p}=d;return f?l.length||s.length?p?s.every(v=>!p({$table:i,row:v})):!1:!0:!1}),pa=ke(()=>{const{overflowX:o,scrollXLoad:l,overflowY:s,scrollYLoad:d}=m;return{x:o&&l,y:s&&d}}),ha=ke(()=>ae.value.groupFields),Yr=ke(()=>{const{rowGroupList:o}=m,{fullColumnFieldData:l}=g,s=[];return o.forEach(d=>{const f=l[d.field];f&&s.push(f.column)}),s}),va=ke(()=>{const{rowGroupList:o,tableColumn:l}=m;return o.length?l.filter(s=>s.aggFunc):[]}),Vl={refElem:$,refTooltip:ue,refValidTooltip:M,refTableFilter:k,refTableCustom:K,refTableMenu:I,refTableHeader:U,refTableBody:q,refTableFooter:ee,refTableLeftHeader:ve,refTableLeftBody:we,refTableLeftFooter:ye,refTableRightHeader:be,refTableRightBody:Me,refTableRightFooter:ne,refLeftContainer:de,refRightContainer:pe,refColResizeBar:ge,refRowResizeBar:ce,refScrollXVirtualElem:Pe,refScrollYVirtualElem:Re,refScrollXHandleElem:V,refScrollYHandleElem:De,refScrollXSpaceElem:Qe,refScrollYSpaceElem:qe},Ts={computeSize:W,computeTableId:He,computeValidOpts:Ot,computeRowField:Ne,computeVirtualXOpts:rt,computeVirtualYOpts:st,computeScrollbarOpts:bt,computeScrollbarXOpts:Ye,computeScrollbarYOpts:Dt,computeScrollbarXToTop:et,computeScrollbarYToLeft:Lt,computeColumnOpts:wt,computeCurrentColumnOpts:Kt,computeScrollXThreshold:Rt,computeScrollYThreshold:Qt,computeRowHeightMaps:Yt,computeDefaultRowHeight:ut,computeCellOpts:At,computeHeaderCellOpts:Pt,computeFooterCellOpts:Xt,computeRowOpts:dt,computeAggregateOpts:_,computeRowGroupOpts:ae,computeCurrentRowOpts:Ee,computeRowDragOpts:Te,computeColumnDragOpts:ze,computeResizeOpts:ft,computeResizableOpts:St,computeSeqOpts:_t,computeRadioOpts:nt,computeCheckboxOpts:lt,computeTooltipOpts:Tt,computeHeaderTooltipOpts:zt,computeFooterTooltipOpts:ao,computeEditOpts:yo,computeSortOpts:Io,computeFilterOpts:vr,computeFloatingFilterOpts:mr,computeMouseOpts:lo,computeAreaOpts:Uo,computeKeyboardOpts:Wt,computeClipOpts:no,computeFnrOpts:Rr,computeHeaderMenu:Ao,computeBodyMenu:rr,computeFooterMenu:Go,computeIsMenu:zo,computeIsContentMenu:Sr,computeMenuList:zr,computeMenuOpts:Ho,computeExportOpts:$o,computeImportOpts:Yo,computePrintOpts:Or,computeExpandOpts:Zt,computeTreeOpts:Ft,computeEmptyOpts:nr,computeLoadingOpts:ur,computeCellOffsetWidth:Gn,computeCustomOpts:Mr,computeLeftFixedWidth:Do,computeRightFixedWidth:sn,computeBodyMergeCoverFixed:fo,computeFixedColumnSize:Nl,computeIsMaxFixedColumn:fl,computeIsAllCheckboxDisabled:gl,computeIsHeaderRenderOptimize:Po,computeIsBodyRenderOptimize:Xo,computeIsFooterRenderOptimize:Fo,computeVirtualScrollBars:pa,computeRowGroupFields:ha,computeRowGroupColumns:Yr,computeAggFuncColumns:va,computeUndoHistoryOpts:Vo,computeFNROpts:jt,computeSXOpts:xt,computeSYOpts:Ue},i={xID:c,props:e,context:t,reactData:m,internalData:g,getRefMaps:()=>Vl,getComputeMaps:()=>Ts,xeGrid:S,xeGantt:F,xegrid:S},an=(o,l,s)=>{const d=a.get(o,s),f=a.get(l,s);return Cn(d)&&Cn(f)?!0:a.isString(d)||a.isNumber(d)?""+d==""+f:a.isEqual(d,f)},pl=()=>{const o=Ne.value;g.currKeyField=o,g.isCurrDeepKey=N0(o)},Eo=(o,l)=>a.isBoolean(o)?o:l,Gl=o=>{const l=Io.value,{orders:s=[]}=l,d=o.order||null,f=s.indexOf(d)+1;return s[f<s.length?f:0]},Ms=o=>{const l=$t().version,s=a.toStringJSON(localStorage.getItem(Cg)||""),d=s&&s._v===l?s:{_v:l};return(o?d[o]:d)||{}},ma=(o,l)=>{const s=$t().version,d=Ms();d[o]=l||void 0,d._v=s,localStorage.setItem(Cg,a.toJSONString(d))},Kr=o=>{const{fullAllDataRowIdData:l}=g,s={};return a.each(o,(d,f)=>{l[f]&&(s[f]=d)}),s},zl=o=>{const{fullDataRowIdData:l}=g,s=[];return a.each(o,(d,f)=>{l[f]&&i.findRowIndexOf(s,l[f].row)===-1&&s.push(l[f].row)}),s},Wl=()=>{const{isScrollXBig:o,scrollXWidth:l}=m,{elemStore:s,visibleColumn:d,fullColumnIdData:f}=g,p=Do.value,v=sn.value,b=ct(s["main-body-scroll"]);if(b){const C=b.clientWidth;let E=b.scrollLeft;o&&(E=Math.ceil((l-C)*Math.min(1,E/(cs-C))));const R=E+p,O=E+C-v;let D=0,P=d.length;for(;D<P;){const z=Math.floor((D+P)/2),X=d[z].id;(f[X]||{}).oLeft<=R?D=z+1:P=z}let N=0;const T=D===d.length?D:Math.max(0,D<d.length?D-2:0);for(let z=T,G=d.length;z<G;z++){const B=d[z].id,A=f[B]||{};if(N++,A.oLeft>O||N>=60)break}return{toVisibleIndex:Math.max(0,T),visibleSize:Math.max(1,N)}}return{toVisibleIndex:0,visibleSize:6}},Zr=(o,l)=>{const{rowHeightStore:s}=m;l&&l.clientHeight&&(s[o]=l.clientHeight)},yi=()=>{const{isAllOverflow:o}=m,l=U.value,s=q.value,d=s?s.$el:null,f=ut.value;let p=0;if(o){if(d){const v=l?l.$el:null;let b;b=d.querySelector("tr"),!b&&v&&(b=v.querySelector("tr")),b&&(p=b.clientHeight)}p||(p=f)}else p=f;return Math.max(18,p)},cn=()=>{const{isAllOverflow:o,expandColumn:l,isScrollYBig:s,scrollYHeight:d}=m,{elemStore:f,isResizeCellHeight:p,afterFullData:v,fullAllDataRowIdData:b}=g,C=dt.value,E=At.value,R=ut.value,O=ct(f["main-body-scroll"]);if(O){const D=O.clientHeight;let P=O.scrollTop;s&&(P=Math.ceil((d-D)*Math.min(1,P/(Rl-D))));const N=P,T=P+D;let z=-1,G=0;if(!(p||E.height||C.height)&&!l&&o)z=Math.floor(N/R)-1,G=Math.ceil(D/R)+1;else{const{handleGetRowId:B}=So(i);let A=0,oe=v.length;for(;A<oe;){const xe=Math.floor((A+oe)/2),fe=v[xe],Oe=B(fe);(b[Oe]||{}).oTop<=N?A=xe+1:oe=xe}z=A===v.length?A:Math.max(0,A<v.length?A-2:0);for(let xe=z,fe=v.length;xe<fe;xe++){const Oe=v[xe],$e=B(Oe),Se=b[$e]||{};if(G++,Se.oTop>T||G>=100)break}}return{toVisibleIndex:Math.max(0,z),visibleSize:Math.max(6,G)}}return{toVisibleIndex:0,visibleSize:6}},ko=(o,l,s)=>{for(let d=0,f=o.length;d<f;d++){const p=o[d],{startIndex:v,endIndex:b}=l,C=p[s],E=p[s+"span"],R=C+E;C<v&&v<R&&(l.startIndex=C),C<b&&b<R&&(l.endIndex=R),(l.startIndex!==v||l.endIndex!==b)&&(d=-1)}};function $n(o){const l={};if(o&&o.length)for(let s=0;s<o.length;s++){const{row:d,col:f,rowspan:p,colspan:v}=o[s];for(let b=0;b<p;b++)for(let C=0;C<v;C++)l[`${d+b}:${f+C}`]=!b&&!C?{rowspan:p,colspan:v}:{rowspan:0,colspan:0}}return l}const ba=o=>{g.mergeBodyList=[],g.mergeBodyMaps={},g.mergeBodyCellMaps={},i.setMergeCells(o)},zn=o=>{const{fullAllDataRowIdData:l,fullColumnIdData:s,visibleColumn:d,afterFullData:f,mergeBodyList:p,mergeBodyMaps:v}=g;if(o){const{handleGetRowId:b}=So(i);a.isArray(o)||(o=[o]),o.forEach(C=>{let{row:E,col:R,rowspan:O,colspan:D}=C,P=-1,N=-1;if(a.isNumber(E))P=E;else{const T=E?b(E):null,z=T?l[T]:null;z&&(P=z._index)}if(a.isNumber(R))N=R;else{const T=R?R.id:null,z=T?s[T]:null;z&&(N=z._index)}if(P>-1&&N>-1&&(O||D)&&(O=a.toNumber(O)||1,D=a.toNumber(D)||1,O>1||D>1)){const T=f[P],z=d[N];let G=v[`${P}:${N}`];G?(G.rowspan=O,G.colspan=D,G._rowspan=O,G._colspan=D):(G={row:P,col:N,rowspan:O,colspan:D,_row:T,_col:z,_rowspan:O,_colspan:D},v[`${P}:${N}`]=G,p.push(G))}})}},jl=o=>{const{mergeBodyList:l,fullColumnIdData:s,fullAllDataRowIdData:d,mergeBodyMaps:f}=g,p=[];if(o){const{handleGetRowId:v}=So(i);a.isArray(o)||(o=[o]),o.forEach(b=>{const{row:C,col:E}=b;let R=-1,O=-1;if(a.isNumber(C))R=C;else{const P=C?v(C):null,N=P?d[P]:null;N&&(R=N._index)}if(a.isNumber(E))O=E;else{const P=E?E.id:null,N=P?s[P]:null;N&&(O=N._index)}const D=a.findIndexOf(l,P=>P.row===R&&P.col===O);if(D>-1){const P=l.splice(D,1);P[0]&&(p.push(P[0]),f[`${R}:${O}`]&&delete f[`${R}:${O}`])}})}return p},ql=o=>{g.mergeHeaderList=[],g.mergeHeaderMaps={},g.mergeHeaderCellMaps={},i.setMergeHeaderCells(o)},Ei=o=>{const{showCustomHeader:l}=e,{footerTableData:s}=m,{mergeHeaderList:d,mergeHeaderMaps:f,fullColumnIdData:p}=g;if(o){const{visibleColumn:v}=g;a.isArray(o)||(o=[o]),o.forEach(b=>{let{row:C,col:E,rowspan:R,colspan:O}=b;const D=a.isNumber(C)?C:-1;let P=-1;if(a.isNumber(E))P=E;else{const N=E?E.id:null,T=N?p[N]:null;T&&(P=T._index)}if(D>-1&&P>-1&&(R||O)){if(R=a.toNumber(R)||1,O=a.toNumber(O)||1,!l&&R>1){We("vxe.error.notSupportProp",["[table] show-custom-header=false",`rowspan=${R}`,"rowspan=1"]);return}if(R>1||O>1){const N=s[D],T=v[P];let z=f[`${D}:${P}`];z?(z.rowspan=R,z.colspan=O,z._rowspan=R,z._colspan=O):(z={row:D,col:P,rowspan:R,colspan:O,_row:N,_col:T,_rowspan:R,_colspan:O},f[`${D}:${P}`]=z,d.push(z))}}})}},Ul=o=>{const{mergeHeaderList:l,fullColumnIdData:s,mergeHeaderMaps:d}=g,f=[];return o&&(a.isArray(o)||(o=[o]),o.forEach(p=>{const{row:v,col:b}=p,C=a.isNumber(v)?v:-1;let E=-1;if(a.isNumber(b))E=b;else{const O=b?b.id:null,D=O?s[O]:null;D&&(E=D._index)}const R=a.findIndexOf(l,O=>O.row===C&&O.col===E);if(R>-1){const D=l.splice(R,1)[0];D&&(f.push(D),d[`${C}:${E}`]&&delete d[`${C}:${E}`])}})),f},Ri=o=>{g.mergeFooterList=[],g.mergeFooterMaps={},g.mergeFooterCellMaps={},i.setMergeFooterCells(o)},Si=o=>{const{footerTableData:l}=m,{mergeFooterList:s,mergeFooterMaps:d,fullColumnIdData:f}=g;if(o){const{visibleColumn:p}=g;a.isArray(o)||(o=[o]),o.forEach(v=>{let{row:b,col:C,rowspan:E,colspan:R}=v;const O=a.isNumber(b)?b:-1;let D=-1;if(a.isNumber(C))D=C;else{const P=C?C.id:null,N=P?f[P]:null;N&&(D=N._index)}if(O>-1&&D>-1&&(E||R)&&(E=a.toNumber(E)||1,R=a.toNumber(R)||1,E>1||R>1)){const P=l[O],N=p[D];let T=d[`${O}:${D}`];T?(T.rowspan=E,T.colspan=R,T._rowspan=E,T._colspan=R):(T={row:O,col:D,rowspan:E,colspan:R,_row:P,_col:N,_rowspan:E,_colspan:R},d[`${O}:${D}`]=T,s.push(T))}})}},Xl=o=>{const{mergeFooterList:l,fullColumnIdData:s,mergeFooterMaps:d}=g,f=[];return o&&(a.isArray(o)||(o=[o]),o.forEach(p=>{const{row:v,col:b}=p,C=a.isNumber(v)?v:-1;let E=-1;if(a.isNumber(b))E=b;else{const O=b?b.id:null,D=O?s[O]:null;D&&(E=D._index)}const R=a.findIndexOf(l,O=>O.row===C&&O.col===E);if(R>-1){const D=l.splice(R,1)[0];D&&(f.push(D),d[`${C}:${E}`]&&delete d[`${C}:${E}`])}})),f},Wn=(o,l,s)=>{const{tableFullColumn:d}=g,f=Io.value,{multiple:p,remote:v,orders:b}=f;if(a.isArray(l)||(l=[l]),l&&l.length){const C={};p||(l=[l[0]],d.forEach(O=>{O.order&&(C[O.id]=O)}));const E={};let R=null;return l.forEach((O,D)=>{let{field:P,order:N}=O,T=P;a.isString(P)&&(T=i.getColumnByField(P)),R||(R=T),T&&T.sortable&&(b&&b.indexOf(N)===-1&&(N=Gl(T)),T.order!==N&&(T.order=N),T.sortTime=Date.now()+D,E[T.id]=T)}),p||a.each(C,(O,D)=>{E[D]||(O.order=null)}),s&&(v||i.handleTableData(!0)),o&&i.handleColumnSortEvent(o,R),se().then(()=>(lr(),i.updateCellAreas(),Wo()))}return se()},dn=()=>{const{tableFullColumn:o}=g;o.forEach(l=>{l.order=null})},Yl=o=>{const{editConfig:l,editRules:s}=e,{parentHeight:d}=m;let f=e[o];if(o==="minHeight"){const v=$t().table.minHeight;a.eqNull(f)&&(Cn(v)?s&&it(l)&&(f=144):f=v)}let p=0;if(f)if(f==="100%"||f==="auto")p=d;else{const v=i.getExcludeHeight();ps(f)?p=Math.floor((a.toInteger(f)||1)/100*d):p=a.toNumber(f),p=Math.max(40,p-v)}return p},Ut=o=>{const{aggregateConfig:l,rowGroupConfig:s}=e,{collectColumn:d}=g,f=Mr.value,{storage:p,storeOptions:v}=f,b=p===!0,C=Object.assign({},b?{}:p||{},v),E=Eo(C.resizable,b),R=Eo(C.visible,b),O=Eo(C.fixed,b),D=Eo(C.sort,b),P=Eo(C.aggGroup,b),N=Eo(C.aggFunc,b);let{resizableData:T,sortData:z,visibleData:G,fixedData:X,aggGroupData:B,aggFuncData:A}=o;if(E&&T||D&&z||R&&G||O&&X||P&&B||N&&A){const oe={};if(D&&z){if(!a.isArray(z)){const Se=[];a.each(z,(_e,Ve)=>{Se.push({key:Ve,index:_e})}),z=a.orderBy(Se,{field:"index",order:"asc"}).map(_e=>({k:_e.key}))}let $e=1;a.eachTree(z,(Se,_e,Ve,ht,tt)=>{oe[Se.k]={key:Se.k,sNum:$e++,pKey:tt?tt.k:null}},{children:"c"})}const xe={},fe=[],Oe=[];if(a.eachTree(d,($e,Se,_e,Ve,ht)=>{const tt=$e.getKey();ht||O&&X&&X[tt]!==void 0&&($e.fixed=X[tt]),E&&T&&a.isNumber(T[tt])&&($e.resizeWidth=T[tt]),R&&G&&a.isBoolean(G[tt])&&($e.visible=G[tt]),N&&A&&(l||s)&&A[tt]&&($e.aggFunc=A[tt]),P&&B&&B[tt]&&Oe.push({field:$e.field}),xe[tt]=$e,fe.push($e)}),(l||s)&&Oe.length){const $e=Ai(g.tableFullData,Oe);g.tableFullTreeData=[],g.tableFullGroupData=$e.treeData,m.isRowGroupStatus=!0,m.rowGroupList=Oe,i.cacheRowMap(!1)}if(D&&z){fe.forEach(Se=>{const _e=Se.getKey(),Ve=oe[_e];if(Ve){const ht=Ve.pKey?xe[Ve.pKey]:null;Se.parentId=ht?ht.id:null,Se.renderSortNumber=Ve.sNum}});const $e=a.toArrayTree(a.orderBy(fe,"renderSortNumber"),{key:"id",parentKey:"parentId",children:"children"});g.collectColumn=$e,g.tableFullColumn=na($e)}m.isCustomStatus=!0}else m.isCustomStatus=!1},_o=()=>{const{customConfig:o}=e,l=He.value,s=Mr.value,{storage:d,restoreStore:f,storeOptions:p}=s,v=d===!0,b=Object.assign({},v?{}:d||{},p),C=Eo(b.resizable,v),E=Eo(b.visible,v),R=Eo(b.fixed,v),O=Eo(b.sort,v),D=Eo(b.aggGroup,v),P=Eo(b.aggFunc,v);if(d&&(o?it(s):s.enabled)&&(C||E||R||O||D||P)){if(!l){We("vxe.error.reqProp",["id"]);return}const N=Ms(l);return f?Promise.resolve(f({$table:i,id:l,type:"restore",storeData:N})).then(T=>{if(T)return Ut(T)}).catch(T=>T):Ut(N)}},Ar=()=>{const{treeConfig:o,showOverflow:l}=e,{tableFullColumn:s,collectColumn:d}=g,f=g.fullColumnIdData={},p=g.fullColumnFieldData={},v=lo.value,b=Zt.value,C=wt.value,E=ze.value,R=st.value,{isCrossDrag:O,isSelfToChildDrag:D}=E,P=Mr.value,N=Ft.value,{storage:T}=P,z=dt.value,G=d.some(vs);let X=!!l,B,A,oe,xe,fe,Oe;const $e=(Se,_e,Ve,ht,tt)=>{const{id:vt,field:Et,fixed:Ct,type:Ke,treeNode:mt,rowGroupNode:Mt}=Se,gt={$index:-1,_index:-1,column:Se,colid:vt,index:_e,items:Ve,parent:tt||null,width:0,oLeft:0};Et?(p[Et]&&We("vxe.error.colRepet",["field",Et]),p[Et]=gt):(T&&!Ke&&We("vxe.error.reqSupportProp",["storage",`[${Ke?`type=${Ke}`:`title=${Se.getTitle()}`}]field=?`]),C.drag&&(O||D)&&We("vxe.error.reqSupportProp",["column-drag-config.isCrossDrag | column-drag-config.isSelfToChildDrag",`${Se.getTitle()||Ke||""} -> field=?`])),!Oe&&Ke==="html"&&(Oe=Se),mt&&(oe&&ot("vxe.error.colRepet",["tree-node",mt]),oe||(oe=Se)),Mt&&(oe&&ot("vxe.error.colRepet",["row-group-node",Mt]),B||(B=Se)),Ke==="expand"&&(A&&ot("vxe.error.colRepet",["type",Ke]),A||(A=Se)),Ke==="checkbox"?(xe&&ot("vxe.error.colRepet",["type",Ke]),xe||(xe=Se)):Ke==="radio"&&(fe&&ot("vxe.error.colRepet",["type",Ke]),fe||(fe=Se)),X&&Se.showOverflow===!1&&(X=!1),f[vt]&&We("vxe.error.colRepet",["colId",vt]),f[vt]=gt};G?a.eachTree(d,(Se,_e,Ve,ht,tt,vt)=>{Se.level=vt.length,$e(Se,_e,Ve,ht,tt)}):s.forEach($e),A&&b.mode!=="fixed"&&R.enabled&&ot("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),A&&b.mode!=="fixed"&&v.area&&We("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),A&&b.mode!=="inside"&&o&&!N.transform&&We("vxe.error.notConflictProp",["tree-config.transform=false","expand-config.mode=fixed"]),Oe&&(C.useKey||We("vxe.error.notSupportProp",["column.type=html","column-config.useKey=false","column-config.useKey=true"]),z.useKey||We("vxe.error.notSupportProp",["column.type=html","row-config.useKey=false","row-config.useKey=true"])),m.isGroup=G,m.rowGroupColumn=B,m.treeNodeColumn=oe,m.expandColumn=A,m.checkboxColumn=xe,m.radioColumn=fe,m.isAllOverflow=X},gd=()=>{g.customHeight=Yl("height"),g.customMinHeight=Yl("minHeight"),g.customMaxHeight=Yl("maxHeight"),m.scrollYLoad&&!(g.customHeight||g.customMinHeight||g.customMaxHeight)&&(g.customHeight=300)},pd=(o,l)=>{const s=wt.value,{autoOptions:d}=s,{isCalcHeader:f,isCalcBody:p,isCalcFooter:v}=d||{},b=[];f&&b.push(`.vxe-header-cell--wrapper[colid="${o.id}"]`),p&&b.push(`.vxe-body-cell--wrapper[colid="${o.id}"]`),v&&b.push(`.vxe-footer-cell--wrapper[colid="${o.id}"]`);const C=b.length?l.querySelectorAll(b.join(",")):[];let E=0;const R=C[0];if(R&&R.parentElement){const D=getComputedStyle(R.parentElement);E=Math.ceil(a.toNumber(D.paddingLeft)+a.toNumber(D.paddingRight))}let O=o.renderAutoWidth-E;for(let D=0;D<C.length;D++){const P=C[D];O=Math.max(O,P?Math.ceil(P.scrollWidth)+4:0)}return O+E},Oi=()=>{const o=Bl.value,{fullColumnIdData:l}=g,s=$.value;s&&(s.setAttribute("data-calc-col","Y"),o.forEach(d=>{const f=d.id,p=l[f],v=pd(d,s);p&&(p.width=Math.max(v,p.width)),d.renderAutoWidth=v}),i.analyColumnWidth(),s.removeAttribute("data-calc-col"))},Di=()=>{const{elemStore:o}=g,l=ct(o["main-body-wrapper"]);if(!l||!De.value||!V.value)return;let f=0;const p=40,v=l.clientWidth;let b=v,C=b/100;const{fit:E}=e,{columnStore:R}=m,{resizeList:O,pxMinList:D,autoMinList:P,pxList:N,scaleList:T,scaleMinList:z,autoList:G,remainList:X}=R;if(D.forEach(B=>{const A=a.toInteger(B.minWidth);f+=A,B.renderWidth=A}),P.forEach(B=>{const A=Math.max(60,a.toInteger(B.renderAutoWidth));f+=A,B.renderWidth=A}),z.forEach(B=>{const A=Math.floor(a.toInteger(B.minWidth)*C);f+=A,B.renderWidth=A}),T.forEach(B=>{const A=Math.floor(a.toInteger(B.width)*C);f+=A,B.renderWidth=A}),N.forEach(B=>{const A=a.toInteger(B.width);f+=A,B.renderWidth=A}),G.forEach(B=>{const A=Math.max(60,a.toInteger(B.renderAutoWidth));f+=A,B.renderWidth=A}),O.forEach(B=>{const A=a.toInteger(B.resizeWidth);f+=A,B.renderWidth=A}),b-=f,C=b>0?Math.floor(b/(z.length+D.length+P.length+X.length)):0,E?b>0&&z.concat(D).concat(P).forEach(B=>{f+=C,B.renderWidth+=C}):C=p,X.forEach(B=>{const A=Math.max(C,p);B.renderWidth=A,f+=A}),E){const B=T.concat(z).concat(D).concat(P).concat(X);let A=B.length-1;if(A>0){let oe=v-f;if(oe>0){for(;oe>0&&A>=0;)oe--,B[A--].renderWidth++;f=v}}}m.scrollXWidth=f,m.resizeWidthFlag++,Ra(),gd()},Fi=(o,l)=>{const{scrollXLoad:s}=m,d=l.querySelectorAll(`.vxe-cell--wrapper[rowid="${o.rowid}"]`);let f=0,p=null,v=0;for(let b=0;b<d.length;b++){const C=d[b],E=C.parentElement,R=E.style,O=R.height;s||(R.height=""),p||(p=getComputedStyle(E),v=p?Math.ceil(a.toNumber(p.paddingTop)+a.toNumber(p.paddingBottom)):0),s||(R.height=O);const D=C?C.clientHeight:0;f=Math.max(f,Math.ceil(D+v))}return s&&(f=Math.max(f,o.height)),f},Is=()=>{const{treeConfig:o}=e,{tableData:l,isAllOverflow:s,scrollYLoad:d,scrollXLoad:f}=m,{fullAllDataRowIdData:p}=g,v=Ft.value,b=ut.value,C=$.value;if(C&&!s&&(d||f||o&&v.showLine)){const{handleGetRowId:E}=So(i);C.setAttribute("data-calc-row","Y"),l.forEach(R=>{const O=E(R),D=p[O];if(D){const P=Fi(D,C);D.height=Math.max(b,P)}C.removeAttribute("data-calc-row")}),m.calcCellHeightFlag++}},$i=o=>{const{isRowGroupStatus:l}=m,{sortBy:s,sortType:d,aggFunc:f}=o;return l&&f?p=>{if(p.isAggregate){const b=p.aggData,C=b?b[o.field]:null;return C?C.value:null}let v;return s?v=a.isFunction(s)?s({row:p,column:o}):a.get(p,s):v=L.getCellLabel(p,o),!d||d==="auto"?isNaN(v)?v:a.toNumber(v):d==="number"?a.toNumber(v):d==="string"?a.toValueString(v):v}:p=>{let v;return s?v=a.isFunction(s)?s({row:p,column:o}):a.get(p,s):v=L.getCellLabel(p,o),!d||d==="auto"?isNaN(v)?v:a.toNumber(v):d==="number"?a.toNumber(v):d==="string"?a.toValueString(v):v}},Ov=()=>{const{treeConfig:o}=e,{afterFullData:l,fullDataRowIdData:s,fullAllDataRowIdData:d}=g,{handleGetRowId:f}=So(i),p={};l.forEach((v,b)=>{const C=f(v),E=d[C],R=b+1;if(E)o||(E.seq=R),E._index=b;else{const O={row:v,rowid:C,seq:R,index:-1,$index:-1,_index:b,treeIndex:-1,_tIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};d[C]=O,s[C]=O}p[C]=v}),g.afterFullRowMaps=p},jn=()=>{const{treeConfig:o}=e,{fullDataRowIdData:l,fullAllDataRowIdData:s,afterFullData:d,afterTreeFullData:f}=g,p=Ft.value,{transform:v}=p,b=p.children||p.childrenField,C={};if(o){let E=0;const{handleGetRowId:R}=So(i);a.eachTree(f,(O,D,P,N)=>{const T=R(O),z=s[T],G=N.map((X,B)=>B%2===0?Number(X)+1:".").join("");if(z)z.seq=G,z.treeIndex=D,z._tIndex=E;else{const X={row:O,rowid:T,seq:G,index:-1,$index:-1,_index:-1,treeIndex:-1,_tIndex:E,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};s[T]=X,l[T]=X}E++,C[T]=O},{children:v?p.mapChildrenField:b}),v&&d.forEach((O,D)=>{const P=R(O),N=s[P],T=D+1;N&&(o||(N.seq=T),N._index=D)}),g.afterFullRowMaps=C}else Ov()},Tn=()=>{const{treeConfig:o}=e,{isRowGroupStatus:l}=m,{fullAllDataRowIdData:s,treeExpandedMaps:d,rowGroupExpandedMaps:f}=g,p=_.value,v=Ft.value,{handleGetRowId:b}=So(i),C=[],E={};if(o&&v.transform){const R=v.children||v.childrenField;return a.eachTree(g.afterTreeFullData,(O,D,P,N,T)=>{const z=b(O),G=b(T);if(!T||E[G]&&d[G]){const X=s[z];X&&(X._index=C.length),E[z]=1,C.push(O)}},{children:R}),g.afterFullData=C,Ls(C),C}else if(l){const{childrenField:R}=p;return a.eachTree(g.afterGroupFullData,(O,D,P,N,T)=>{const z=b(O),G=b(T);if(!T||E[G]&&f[G]){const X=s[z];X&&(X._index=C.length),E[z]=1,C.push(O)}},{children:R}),g.afterFullData=C,Ls(C),C}return g.afterFullData},Dv=()=>{const{treeConfig:o}=e,{isRowGroupStatus:l}=m,{tableFullColumn:s,tableFullData:d,tableFullTreeData:f,tableFullGroupData:p}=g,v=vr.value,b=Io.value,C=_.value,E=Ft.value,R=E.children||E.childrenField,{transform:O,rowField:D,parentField:P,mapChildrenField:N}=E,{isEvery:T,remote:z,filterMethod:G}=v,{remote:X,sortMethod:B,multiple:A,chronological:oe}=b;let xe=[],fe=[];if(!z||!X){const Oe=[];let $e=[];if(s.forEach(Se=>{const{field:_e,sortable:Ve,order:ht,filters:tt}=Se;if(!z&&tt&&tt.length){const vt=[],Et=[];tt.forEach(Ct=>{Ct.checked&&(Et.push(Ct),vt.push(Ct.value))}),Et.length&&Oe.push({column:Se,valueList:vt,itemList:Et})}!X&&Ve&&ht&&$e.push({column:Se,field:_e,property:_e,order:ht,sortTime:Se.sortTime})}),A&&oe&&$e.length>1&&($e=a.orderBy($e,"sortTime")),!z&&Oe.length){const Se=_e=>Oe.every(({column:Ve,valueList:ht,itemList:tt})=>{const{filterMethod:vt,filterRender:Et}=Ve,Ct=it(Et)?ja.get(Et.name):null,Ke=Ct?Ct.tableFilterMethod||Ct.filterMethod:null,mt=Ct?Ct.tableFilterDefaultMethod||Ct.defaultTableFilterMethod||Ct.defaultFilterMethod:null,Mt=No(_e,Ve);return vt?tt.some(gt=>vt({value:gt.value,option:gt,cellValue:Mt,row:_e,column:Ve,$table:i})):Ke?tt.some(gt=>Ke({value:gt.value,option:gt,cellValue:Mt,row:_e,column:Ve,$table:i})):G?G({$table:i,options:tt,values:ht,cellValue:Mt,row:_e,column:Ve}):mt?tt.some(gt=>mt({value:gt.value,option:gt,cellValue:Mt,row:_e,column:Ve,$table:i})):ht.indexOf(a.get(_e,Ve.field))>-1});l?(fe=a.searchTree(p,Se,{original:!0,isEvery:!0,children:C.mapChildrenField,mapChildren:C.childrenField}),xe=fe):o&&O?(fe=a.searchTree(f,Se,{original:!0,isEvery:T,children:N,mapChildren:R}),xe=fe):(xe=o?f.filter(Se):d.filter(Se),fe=xe)}else l?(fe=a.searchTree(p,()=>!0,{original:!0,isEvery:!0,children:C.mapChildrenField,mapChildren:C.childrenField}),xe=fe):o&&O?(fe=a.searchTree(f,()=>!0,{original:!0,isEvery:T,children:N,mapChildren:R}),xe=fe):(xe=o?f.slice(0):d.slice(0),fe=xe);if(!X&&$e.length)if(l){if(B){const Se=B({data:fe,sortList:$e,$table:i});fe=a.isArray(Se)?Se:fe}else{const Se=a.toTreeArray(fe,{key:C.rowField,parentKey:C.parentField,children:C.mapChildrenField});fe=a.toArrayTree(a.orderBy(Se,$e.map(({column:_e,order:Ve})=>[$i(_e),Ve])),{key:C.rowField,parentKey:C.parentField,children:C.childrenField,mapChildren:C.mapChildrenField})}xe=fe}else if(o&&O){if(B){const Se=B({data:fe,sortList:$e,$table:i});fe=a.isArray(Se)?Se:fe}else{const Se=a.toTreeArray(fe,{children:N});fe=a.toArrayTree(a.orderBy(Se,$e.map(({column:_e,order:Ve})=>[$i(_e),Ve])),{key:D,parentKey:P,children:R,mapChildren:N})}xe=fe}else{if(B){const Se=B({data:xe,sortList:$e,$table:i});xe=a.isArray(Se)?Se:xe}else xe=a.orderBy(xe,$e.map(({column:Se,order:_e})=>[$i(Se),_e]));fe=xe}}else l?(fe=a.searchTree(p,()=>!0,{original:!0,isEvery:!0,children:C.mapChildrenField,mapChildren:C.childrenField}),xe=fe):o&&O?(fe=a.searchTree(f,()=>!0,{original:!0,isEvery:T,children:N,mapChildren:R}),xe=fe):(xe=o?f.slice(0):d.slice(0),fe=xe);g.afterFullData=xe,g.afterTreeFullData=fe,g.afterGroupFullData=fe,jn()},Wo=()=>{const{mouseConfig:o}=e,{isGroup:l,currentRow:s,tableColumn:d,overflowX:f,scrollbarWidth:p,overflowY:v,scrollbarHeight:b,scrollXWidth:C,columnStore:E,editStore:R,isColLoading:O}=m,{visibleColumn:D,tableHeight:P,elemStore:N,customHeight:T,customMinHeight:z,customMaxHeight:G,tHeaderHeight:X,tFooterHeight:B}=g,A=g.xeGanttView,oe=$.value;if(!oe||g.tBodyHeight&&!oe.clientHeight)return;const xe=["main","left","right"],{leftList:fe,rightList:Oe}=E;let $e=v?p:0,Se=f?b:0;const _e=Q.value,Ve=Po.value,ht=Xo.value,tt=Fo.value,vt=bt.value,Et=lo.value,Ct=ct(N["main-body-wrapper"]),Ke=ct(N["main-body-table"]);_e&&(_e.style.top=`${X}px`,_e.style.height=Ct?`${Ct.offsetHeight-Se}px`:"");const mt=vt.x||{},Mt=vt.y||{},gt=Lt.value;let to=f?"visible":"hidden";mt.visible==="visible"||A?(Se=b,to="visible"):(mt.visible==="hidden"||mt.visible===!1)&&(Se=0,to="hidden");let oo=v?"visible":"hidden";Mt.visible==="hidden"||Mt.visible===!1||A&&!gt?($e=0,oo="hidden"):Mt.visible==="visible"&&($e=p,oo="visible");let Vt=0,eo=0;const Bt=z-X-B-Se;G&&(eo=Math.max(Bt,G-X-B-Se)),T&&(Vt=T-X-B-Se),Vt||Ke&&(Vt=Ke.clientHeight),Vt&&(eo&&(Vt=Math.min(eo,Vt)),Vt=Math.max(Bt,Vt));const qt=he.value,Ht=Ce.value,wo=Pe.value;wo&&(wo.style.height=`${Se}px`,wo.style.visibility=to);const ro=Ze.value;ro&&(ro.style.width=`${oe.clientWidth-$e}px`,gt?ro.style.left=`${$e}px`:ro.style.left=""),qt&&(gt?(qt.style.width=`${$e}px`,qt.style.display=v&&$e?"block":""):qt.style.display=""),Ht&&(gt?Ht.style.display="":(Ht.style.width=`${$e}px`,Ht.style.display=to==="visible"?"block":""));const Gt=Re.value;Gt&&(Gt.style.width=`${$e}px`,Gt.style.height=`${Vt+X+B}px`,Gt.style.visibility=oo);const xo=Be.value;xo&&(xo.style.height=`${X}px`,xo.style.display=X&&oo==="visible"?"block":"");const Ro=Ae.value;Ro&&(Ro.style.height=`${Vt}px`,Ro.style.top=`${X}px`);const mo=pt.value;mo&&(mo.style.height=`${B}px`,mo.style.top=`${X+Vt}px`,mo.style.display=B&&oo==="visible"?"block":"");const gr=je.value;return gr&&(gr.style.height=`${Vt}px`,gr.style.top=`${X}px`),g.tBodyHeight=Vt,xe.forEach((pr,sr)=>{const go=sr>0?pr:"",Ko=["header","body","footer"],In=go==="left";let Lr=[],un;go&&(Lr=In?fe:Oe,un=In?de.value:pe.value),Ko.forEach(br=>{const Mo=ct(N[`${pr}-${br}-wrapper`]),Wr=ct(N[`${pr}-${br}-scroll`]),fn=ct(N[`${pr}-${br}-table`]);if(br==="header"){let ar=d;const jr=Ve;l?ar=D:((!jr||!O&&(go||!f))&&(ar=D),go&&jr&&(ar=Lr||[]));const er=ar.reduce((gn,wl)=>gn+wl.renderWidth,0);go&&(l?Mo&&(Mo.style.width=C?`${C}px`:""):jr?Mo&&(Mo.style.width=er?`${er}px`:""):Mo&&(Mo.style.width=C?`${C}px`:"")),Wr&&(Wr.style.height=`${X}px`),fn&&(fn.style.width=er?`${er}px`:"")}else if(br==="body"){Wr&&(Wr.style.maxHeight=G?`${eo}px`:"",Wr.style.height=T?`${Vt}px`:"",Wr.style.minHeight=`${Bt}px`),un&&(Mo&&(Mo.style.top=`${X}px`),un.style.height=`${T>0?T:P+X+B+Se}px`,un.style.width=`${Lr.reduce((wl,qi)=>wl+qi.renderWidth,0)}px`);let ar=d;const jr=ht;go&&(ar=D,jr&&(ar=Lr||[]));const er=ar.reduce((wl,qi)=>wl+qi.renderWidth,0);go&&(jr?Mo&&(Mo.style.width=er?`${er}px`:""):Mo&&(Mo.style.width=C?`${C}px`:"")),fn&&(fn.style.width=er?`${er}px`:"",fn.style.paddingRight=$e&&go&&(u.firefox||u.safari)?`${$e}px`:"");const gn=ct(N[`${pr}-${br}-emptyBlock`]);gn&&(gn.style.width=er?`${er}px`:"")}else if(br==="footer"){let ar=d;const jr=tt;(!jr||!O&&(go||!f))&&(ar=D),go&&jr&&(ar=Lr||[]);const er=ar.reduce((gn,wl)=>gn+wl.renderWidth,0);go&&(jr?Mo&&(Mo.style.width=er?`${er}px`:""):Mo&&(Mo.style.width=C?`${C}px`:"")),Wr&&(Wr.style.height=`${B}px`,un&&Mo&&(Mo.style.top=`${T>0?T-B-Se:P+X}px`)),fn&&(fn.style.width=er?`${er}px`:"")}})}),s&&i.setCurrentRow(s),o&&Et.selected&&R.selected.row&&R.selected.column&&i.addCellSelectedClass(),A&&A.handleUpdateStyle&&A.handleUpdateStyle(),se()},As=o=>i.triggerValidate?i.triggerValidate(o):se(),Ti=(o,l)=>{As("blur").catch(s=>s).then(()=>{i.handleEdit(l,o).then(()=>As("change")).catch(s=>s)})},Fv=()=>{const{sortConfig:o}=e;if(o){const l=Io.value;let{defaultSort:s}=l;s&&(a.isArray(s)||(s=[s]),s.length&&((o.multiple?s:s.slice(0,1)).forEach((d,f)=>{const{field:p,order:v}=d;if(p&&v){const b=i.getColumnByField(p);b&&b.sortable&&(b.order=v,b.sortTime=Date.now()+f)}}),l.remote||i.handleTableData(!0).then(Wo)))}},$v=()=>{const{checkboxConfig:o}=e;if(o){const{fullDataRowIdData:l}=g,s=lt.value,{checkAll:d,checkRowKeys:f}=s;if(d)Mi(!0,!0);else if(f){const p=[];f.forEach(v=>{l[v]&&p.push(l[v].row)}),vl(p,!0,!0)}}},Tv=()=>{const{radioConfig:o}=e;if(o){const{fullDataRowIdData:l}=g,s=nt.value,{checkRowKey:d,reserve:f}=s;if(d&&(l[d]&&ks(l[d].row,!0),f)){const p=Jl(i);g.radioReserveRow={[p]:d}}}},Mv=()=>{const{expandConfig:o}=e;if(o){const{fullDataRowIdData:l}=g,s=Zt.value,{expandAll:d,expandRowKeys:f}=s;if(d)i.setAllRowExpand(!0);else if(f){const p=[];f.forEach(v=>{l[v]&&p.push(l[v].row)}),i.setRowExpand(p,!0)}}},Iv=o=>{nt.value.reserve&&(g.radioReserveRow=o)},hl=(o,l)=>{const{checkboxReserveRowMap:s}=g;if(lt.value.reserve){const f=Ge(i,o);l?s[f]=o:s[f]&&delete s[f]}},ks=(o,l)=>{const s=nt.value,{checkMethod:d}=s;return o&&(l||!d||d({$table:i,row:o}))&&(m.selectRadioRow=o,Iv(o)),se()},vl=(o,l,s)=>(o&&!a.isArray(o)&&(o=[o]),i.handleBatchSelectRows(o,!!l,s),i.checkSelectionStatus(),se()),Mi=(o,l)=>{const{treeConfig:s}=e,{isRowGroupStatus:d}=m,{afterFullData:f,afterTreeFullData:p,afterGroupFullData:v,checkboxReserveRowMap:b,selectCheckboxMaps:C}=g,E=Ft.value,R=_.value,O=E.children||E.childrenField,D=lt.value,{checkField:P,reserve:N,checkMethod:T}=D,{handleGetRowId:z}=So(i),G=D.indeterminateField||D.halfField,X={};if(P){const B=A=>{(l||!T||T({$table:i,row:A}))&&(o&&(X[z(A)]=A),a.set(A,P,o)),(s||d)&&G&&a.set(A,G,!1)};s||d?a.eachTree(f,B,{children:O}):f.forEach(B)}else d?o?a.eachTree(v,B=>{if(l||!T||T({$table:i,row:B})){const A=z(B);X[A]=B}},{children:R.mapChildrenField}):!l&&T&&a.eachTree(v,B=>{const A=z(B);!T({$table:i,row:B})&&C[A]&&(X[A]=B)},{children:R.mapChildrenField}):s?o?a.eachTree(p,B=>{if(l||!T||T({$table:i,row:B})){const A=z(B);X[A]=B}},{children:O}):!l&&T&&a.eachTree(p,B=>{const A=z(B);!T({$table:i,row:B})&&C[A]&&(X[A]=B)},{children:O}):o?!l&&T?f.forEach(B=>{const A=z(B);(C[A]||T({$table:i,row:B}))&&(X[A]=B)}):f.forEach(B=>{const A=z(B);X[A]=B}):!l&&T&&f.forEach(B=>{const A=z(B);!T({$table:i,row:B})&&C[A]&&(X[A]=B)});return N&&(o?a.each(X,(B,A)=>{b[A]=B}):f.forEach(B=>hl(B,!1))),m.updateCheckboxFlag++,g.selectCheckboxMaps=P?{}:X,m.isAllSelected=o,m.isIndeterminate=!1,g.treeIndeterminateRowMaps={},i.checkSelectionStatus(),se()},Av=()=>{const{treeConfig:o}=e,{expandColumn:l,currentRow:s,selectRadioRow:d}=m,{fullDataRowIdData:f,fullAllDataRowIdData:p,radioReserveRow:v,selectCheckboxMaps:b,treeExpandedMaps:C,rowExpandedMaps:E}=g,R=Zt.value,O=Ft.value,D=nt.value,P=lt.value;if(d&&!p[Ge(i,d)]&&(m.selectRadioRow=null),D.reserve&&v){const N=Ge(i,v);f[N]&&ks(f[N].row,!0)}g.selectCheckboxMaps=Kr(b),m.updateCheckboxFlag++,P.reserve&&vl(zl(g.checkboxReserveRowMap),!0,!0),s&&!p[Ge(i,s)]&&(m.currentRow=null),g.rowExpandedMaps=l?Kr(E):{},m.rowExpandedFlag++,l&&R.reserve&&i.setRowExpand(zl(g.rowExpandedReserveRowMap),!0),g.treeExpandedMaps=o?Kr(C):{},m.treeExpandedFlag++,o&&O.reserve&&i.setTreeExpand(zl(g.treeExpandedReserveRowMap),!0)},kv=()=>{const{treeConfig:o}=e;if(o){const{fullAllDataRowIdData:l}=g,s=Ft.value,{expandAll:d,expandRowKeys:f}=s;if(d)i.setAllTreeExpand(!0);else if(f){const p=[];f.forEach(v=>{const b=l[v];b&&p.push(b.row)}),i.setTreeExpand(p,!0)}}},hd=o=>{const l=Ft.value,s=lt.value,{transform:d,loadMethod:f}=l,{checkStrictly:p}=s;return new Promise(v=>{if(f){const{fullAllDataRowIdData:b,treeExpandLazyLoadedMaps:C}=g,E=Ge(i,o),R=b[E];C[E]=o,Promise.resolve(f({$table:i,row:o})).then(O=>{if(R&&(R.treeLoaded=!0),C[E]&&delete C[E],a.isArray(O)||(O=[]),O)return i.loadTreeChildren(o,O).then(D=>{const{treeExpandedMaps:P}=g;return D.length&&!P[E]&&(P[E]=o),m.treeExpandedFlag++,!p&&i.isCheckedByCheckboxRow(o)&&vl(D,!0),se().then(()=>{if(d)return i.handleTableData(),jn(),se()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:O}=g;R&&(R.treeLoaded=!1),O[E]&&delete O[E]}).finally(()=>{m.treeExpandedFlag++,se().then(()=>i.recalculate()).then(()=>v())})}else v()})},vd=(o,l)=>{const{treeExpandedReserveRowMap:s}=g;if(Ft.value.reserve){const f=Ge(i,o);l?s[f]=o:s[f]&&delete s[f]}},md=o=>new Promise(l=>{const s=Zt.value,{loadMethod:d}=s;if(d){const{fullAllDataRowIdData:f,rowExpandLazyLoadedMaps:p}=g,v=Ge(i,o),b=f[v];p[v]=o,d({$table:i,row:o,rowIndex:i.getRowIndex(o),$rowIndex:i.getVMRowIndex(o)}).then(()=>{const{rowExpandedMaps:C}=g;b&&(b.expandLoaded=!0),C[v]=o,m.rowExpandedFlag++}).catch(()=>{b&&(b.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:C}=g;C[v]&&delete C[v],m.rowExpandedFlag++,se().then(()=>i.recalculate()).then(()=>i.updateCellAreas()).then(()=>l())})}else l()}),bd=(o,l)=>{const{rowExpandedReserveRowMap:s}=g;if(Zt.value.reserve){const f=Ge(i,o);l?s[f]=o:s[f]&&delete s[f]}},Lv=()=>{const{mergeCells:o}=e;o&&i.setMergeCells(o)},Hv=()=>{const{mergeHeaderCells:o}=e;o&&i.setMergeHeaderCells(o)},Pv=()=>{const{mergeFooterCells:o,mergeFooterItems:l}=e,s=o||l;s&&i.setMergeFooterCells(s)},Ii=()=>se().then(()=>{const{scrollXLoad:o,scrollYLoad:l}=m,{scrollXStore:s,scrollYStore:d}=g,f=st.value,p=rt.value;if(o){const{toVisibleIndex:E,visibleSize:R}=Wl(),O=Math.max(0,p.oSize?a.toNumber(p.oSize):0);s.preloadSize=a.toNumber(p.preSize),s.offsetSize=O,s.visibleSize=R,s.endIndex=Math.max(s.startIndex+s.visibleSize+O,s.endIndex),s.visibleStartIndex=Math.max(s.startIndex,E),s.visibleEndIndex=Math.min(s.endIndex,E+R),i.updateScrollXData().then(()=>{bl()})}else i.updateScrollXSpace();const v=yi();d.rowHeight=v,m.rowHeight=v;const{toVisibleIndex:b,visibleSize:C}=cn();if(l){const E=Math.max(0,f.oSize?a.toNumber(f.oSize):0);d.preloadSize=a.toNumber(f.preSize),d.offsetSize=E,d.visibleSize=C,d.endIndex=Math.max(d.startIndex+C+E,d.endIndex),d.visibleStartIndex=Math.max(d.startIndex,b),d.visibleEndIndex=Math.min(d.endIndex,b+C),i.updateScrollYData().then(()=>{Hs()})}else i.updateScrollYSpace()}),xa=()=>{const{scrollXWidth:o,scrollYHeight:l}=m,{elemStore:s}=g,d=bt.value,f=ct(s["main-body-wrapper"]),p=ct(s["main-header-table"]),v=ct(s["main-footer-table"]),b=V.value,C=De.value;let E=!1,R=!1;if(f){E=l>f.clientHeight,C&&(m.scrollbarWidth=d.width||C.offsetWidth-C.clientWidth||14),m.overflowY=E,R=o>f.clientWidth,b&&(m.scrollbarHeight=d.height||b.offsetHeight-b.clientHeight||14);const O=p?p.clientHeight:0,D=v?v.clientHeight:0;g.tableHeight=f.offsetHeight,g.tHeaderHeight=O,g.tFooterHeight=D,m.overflowX=R,m.parentHeight=Math.max(O+D+20,i.getParentHeight())}R&&i.checkScrolling()},Qr=(o,l,s)=>{const d=$.value;if(g.rceRunTime=Date.now(),!d||!d.clientWidth)return se();const f=J.value;if(f){const[p,v,b,C]=f.children;Zr("default",p),Zr("medium",v),Zr("small",b),Zr("mini",C)}return l&&Oi(),o&&Di(),xa(),Wo(),Mn(),o&&qn(),Ii().then(()=>{if(l&&Oi(),o&&Di(),s&&Is(),Wo(),xa(),o&&lr(),Mn(),o&&qn(),o)return Ii()})},fr=(o,l,s)=>new Promise(d=>{const f=g.xeGanttView,{rceTimeout:p,rceRunTime:v}=g,C=ft.value.refreshDelay||20,E=$.value;E&&E.clientWidth&&(Di(),Mn()),p?(clearTimeout(p),v&&v+(C-5)<Date.now()?d(Qr(o,l,s)):se(()=>{d()})):d(Qr(o,l,s)),f&&f.handleLazyRecalculate&&f.handleLazyRecalculate(),g.rceTimeout=setTimeout(()=>{g.rceTimeout=void 0,Qr(o,l,s)},C)}),xd=()=>{fr(!0,!0,!0)},Cd=()=>{const{visibleColumn:o}=g,l=[];o.forEach(s=>{s.aggFunc&&l.push(s)}),m.aggHandleAggColumns=l},Ca=o=>{const l=[],s=[];o&&(a.isArray(o)?o:[o]).forEach(d=>{l.push(d),s.push({field:d})}),m.rowGroupList=s,m.aggHandleFields=l,Cd()},wd=o=>{const{fullColumnFieldData:l}=g,s=_.value,d=va.value,{mapChildrenField:f}=s,p=s.calcValuesMethod||s.countMethod||s.aggregateMethod;f&&(a.lastEach(o,v=>{let b=0;a.each(v[f],C=>{C.isAggregate?b+=C.childCount||0:b++}),v.childCount=b}),i.handlePivotTableAggregateData?i.handlePivotTableAggregateData(o):d.length&&a.lastEach(o,v=>{const b={},C=v.aggData,E=v.groupField,R=v.groupContent,O=f?v[f]||[]:[],D=v.childCount,P=l[E]||{};d.forEach(N=>{const{field:T}=N,z=C?C[T]:null,G={$table:i,groupField:E,groupColumn:P?P.column:null,column:N,groupValue:R,childList:O,childCount:D,aggValue:z?z.value:0,children:O,totalValue:D};let X=0;O.length&&O[0].isAggregate?a.each(O,B=>{if(B.isAggregate){const A=B.aggData[T];A&&(X+=A.value)}}):X=p?p(G):v.childCount,b[T]={type:"count",value:X,label:X}}),v.aggData=b}))},_v=()=>{const{aggregateConfig:o,rowGroupConfig:l}=e,{isRowGroupStatus:s}=m,{tableFullGroupData:d}=g,f=_.value,{mapChildrenField:p}=f;if((o||l)&&s){const v=[];a.eachTree(d,b=>{b.isAggregate&&v.push(b)},{children:p}),wd(v)}},Ai=(o,l)=>{let s=o,d=o;if(l){const f=_.value,{rowField:p,parentField:v,childrenField:b,mapChildrenField:C}=f,E=lt.value,{checkField:R}=E,O=E.indeterminateField||E.halfField,D=l[0];if(D&&p&&v&&b&&C){s=[],d=[];const P=D.field,N=i.getColumnByField(P),T={},z=[],G=Jl(i);o.forEach(X=>{const B=N?i.getCellLabel(X,N):a.get(X,P),A=a.eqNull(B)?"":B;let oe=T[A];oe||(oe=[],T[A]=oe),X.isAggregate&&(X.isAggregate=void 0),oe.push(X)}),a.objectEach(T,(X,B)=>{const{fullData:A,treeData:oe}=Ai(X,l.slice(1)),xe={isAggregate:!0,aggData:{},groupContent:B,groupField:P,childCount:0,[p]:ra(),[v]:null,[G]:ra(),[b]:oe,[C]:oe};R&&(xe[R]=!1),O&&(xe[O]=!1),z.push(xe),d.push(xe),s.push(xe),A.length&&s.push(...A)}),wd(z)}}return{treeData:d,fullData:s}},Bv=()=>{const{data:o}=e;ml(o||[],!0,!0).then(()=>{o&&o.length&&(g.inited=!0,g.initStatus=!0,wa()),Nv(),Wo(),m.isAllOverflow||(Is(),lr())}),se(()=>{Nt("ready",{},null)})},ml=(o,l,s)=>{const{keepSource:d,treeConfig:f,rowGroupConfig:p,aggregateConfig:v}=e,{rowGroupList:b,scrollYLoad:C}=m,{initStatus:E,scrollYStore:R,scrollXStore:O,lastScrollLeft:D,lastScrollTop:P}=g,N=dt.value,T=Ft.value,z=Zt.value,{transform:G}=T,X=T.children||T.childrenField;let B=[],A=Br(o?o.slice(0):[]);if(A.length>xg&&We("vxe.error.errMaxRow",[xg]),f&&b.length)return We("vxe.error.noTree",["aggregate-config"]),se();if(N.drag&&b.length)return We("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),se();let oe=!1;if(f)G?(T.rowField||We("vxe.error.reqProp",["tree-config.rowField"]),T.parentField||We("vxe.error.reqProp",["tree-config.parentField"]),X||We("vxe.error.reqProp",["tree-config.childrenField"]),T.mapChildrenField||We("vxe.error.reqProp",["tree-config.mapChildrenField"]),X===T.mapChildrenField&&We("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),B=a.toArrayTree(A,{key:T.rowField,parentKey:T.parentField,children:X,mapChildren:T.mapChildrenField}),A=B.slice(0)):B=A.slice(0);else if((v||p)&&b.length){const fe=Ai(A,b);B=fe.treeData,A=fe.fullData,oe=!0}m.isRowGroupStatus=oe,R.startIndex=0,R.endIndex=1,O.startIndex=0,O.endIndex=1,g.cvCacheMaps={},m.isRowLoading=!0,m.scrollVMLoading=!1,m.treeExpandedFlag++,m.rowExpandedFlag++,g.insertRowMaps={},m.insertRowFlag++,g.removeRowMaps={},m.removeRowFlag++;const xe=Ls(A);return g.tableFullData=A,g.tableFullTreeData=oe?[]:B,g.tableFullGroupData=oe?B:[],i.cacheRowMap(s),g.tableSynchData=o,s&&(g.isResizeCellHeight=!1),d&&i.cacheSourceMap(A),i.clearCellAreas&&e.mouseConfig&&(i.clearCellAreas(),i.clearCopyCellArea()),i.clearMergeCells(),i.clearMergeFooterItems(),i.handleTableData(!0),i.updateFooter(),i.handleUpdateBodyMerge(),se().then(()=>{gd(),Wo()}).then(()=>{Ii()}).then(()=>{const fe=st.value;return xe&&(R.endIndex=R.visibleSize),xe&&(m.expandColumn&&z.mode!=="fixed"&&We("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),fe.mode==="scroll"&&z.mode==="fixed"&&ot("vxe.error.notConflictProp",["virtual-y-config.mode=scroll","expand-config.mode=inside"]),e.height||e.maxHeight||We("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"])),Av(),i.checkSelectionStatus(),i.dispatchEvent("data-change",{visibleColumn:g.visibleColumn,visibleData:g.afterFullData},null),new Promise(Oe=>{se().then(()=>Qr(!1,!1,!1)).then(()=>{Qr(!1,!0,!0),lr()}).then(()=>{let $e=D,Se=P;const _e=rt.value,Ve=st.value;_e.scrollToLeftOnChange&&($e=0),Ve.scrollToTopOnChange&&(Se=0),m.isRowLoading=!1,Qr(!1,!1,!1),qn(),e.showOverflow||setTimeout(()=>{fr(!1,!0,!0),setTimeout(()=>fr(!1,!0,!0),3e3)},2e3),C===xe?Us(i,$e,Se).then(()=>{Qr(!1,!0,!0),lr(),qn(),se(()=>Oe())}):setTimeout(()=>{Us(i,$e,Se).then(()=>{Qr(!1,!0,!0),lr(),qn(),se(()=>Oe())})})})}).then(()=>{E?Nt("data-rendered",{isReload:l,visibleColumn:g.visibleColumn,visibleData:g.afterFullData},null):Nt("init-rendered",{visibleColumn:g.visibleColumn,visibleData:g.afterFullData},null)})})},wa=()=>{$v(),Tv(),Mv(),kv(),jv(),Lv(),Hv(),Pv(),se(()=>{setTimeout(()=>i.recalculate())})},Nv=()=>{Fv()},ki=()=>{const{scrollXLoad:o}=m,{visibleColumn:l,scrollXStore:s,fullColumnIdData:d}=g,f=o?l.slice(s.startIndex,s.endIndex):l.slice(0);f.forEach((p,v)=>{const b=p.id,C=d[b];C&&(C.$index=v)}),m.tableColumn=f},yd=()=>{const o=a.orderBy(g.collectColumn,"renderSortNumber");g.collectColumn=o;const l=na(o);g.tableFullColumn=l,Ar()},bl=()=>{const{isScrollXBig:o}=m,{mergeBodyList:l,mergeFooterList:s,scrollXStore:d}=g,{preloadSize:f,startIndex:p,endIndex:v,offsetSize:b}=d,{toVisibleIndex:C,visibleSize:E}=Wl(),R={startIndex:Math.max(0,o?C-1:C-1-b-f),endIndex:o?C+E:C+E+b+f};d.visibleStartIndex=C-1,d.visibleEndIndex=C+E+1,ko(l.concat(s),R,"col");const{startIndex:O,endIndex:D}=R;(C<=p||C>=v-E-1)&&(p!==O||v!==D)&&(d.startIndex=O,d.endIndex=D,i.updateScrollXData()),i.closeTooltip()},Li=o=>{const l=[],s=[],d=[],{isGroup:f,columnStore:p}=m,{collectColumn:v,tableFullColumn:b,scrollXStore:C,fullColumnIdData:E}=g;if(f){const D=[],P=[],N=[];a.eachTree(v,(T,z,G,X,B)=>{const A=vs(T);B&&B.fixed&&(T.fixed=B.fixed),B&&(T.fixed||"")!==(B.fixed||"")&&We("vxe.error.groupFixed"),A?T.visible=!!a.findTree(T.children,oe=>vs(oe)?!1:oe.visible):T.visible&&(T.fixed==="left"?l.push(T):T.fixed==="right"?d.push(T):s.push(T))}),v.forEach(T=>{T.visible&&(T.fixed==="left"?D.push(T):T.fixed==="right"?N.push(T):P.push(T))}),m.tableGroupColumn=D.concat(P).concat(N)}else b.forEach(D=>{D.visible&&(D.fixed==="left"?l.push(D):D.fixed==="right"?d.push(D):s.push(D))});const R=l.concat(s).concat(d);g.visibleColumn=R,Ra();const O=Gv();if(m.hasFixedColumn=l.length>0||d.length>0,Object.assign(p,{leftList:l,centerList:s,rightList:d}),O&&(e.spanMethod&&ot("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&ot("vxe.error.scrollErrProp",["footer-span-method"]),o)){const{visibleSize:D}=Wl();C.startIndex=0,C.endIndex=D,C.visibleSize=D,C.visibleStartIndex=0,C.visibleEndIndex=D}return(R.length!==g.visibleColumn.length||!g.visibleColumn.every((D,P)=>D===R[P]))&&(i.clearMergeCells(),i.clearMergeFooterItems()),R.forEach((D,P)=>{const N=D.id,T=E[N];T&&(T._index=P)}),ki(),Cd(),o?(Ra(),i.updateFooter().then(()=>i.recalculate()).then(()=>(i.updateCellAreas(),i.recalculate()))):i.updateFooter()},Vv=()=>{const{collectColumn:o}=g,l={},s={};let d=1;a.eachTree(o,(f,p,v,b,C)=>{const{id:E,field:R}=f,O=C?C.id:null,D={$index:-1,_index:-1,column:f,colid:E,index:p,items:v,parent:C||null,width:0,oLeft:0};f.parentId=O,f.defaultParentId=O,f.sortNumber=d,f.renderSortNumber=d,d++,R&&(s[R]&&We("vxe.error.colRepet",["field",R]),s[R]=D),l[E]=D}),g.fullColumnIdData=l,g.fullColumnFieldData=s},Ed=o=>{const l=Zt.value;g.collectColumn=o;const s=na(o);return g.tableFullColumn=s,m.isColLoading=!0,Vv(),Promise.resolve(_o()).then(()=>{const{scrollXLoad:d,scrollYLoad:f,expandColumn:p}=m;return Ar(),Li(!0).then(()=>{m.scrollXLoad&&bl()}),i.clearMergeCells(),i.clearMergeFooterItems(),i.handleTableData(!0),i.handleAggregateSummaryData(),(d||f)&&p&&l.mode!=="fixed"&&ot("vxe.error.scrollErrProp",["column.type=expand"]),se().then(()=>{at&&at.syncUpdate({collectColumn:g.collectColumn,$table:i}),i.handleUpdateCustomColumn&&i.handleUpdateCustomColumn();const v=wt.value;return e.showCustomHeader&&m.isGroup&&(v.resizable||e.resizable)&&ot("vxe.error.notConflictProp",["show-custom-header & colgroup","column-config.resizable=false"]),m.isColLoading=!1,fr(!1,!0,!0)})})},Gv=o=>{const l=rt.value,s=g.tableFullColumn,d=!!l.enabled&&l.gt>-1&&(l.gt===0||l.gt<s.length);return m.scrollXLoad=d,d},Ls=o=>{const{treeConfig:l}=e,s=g.xeGanttView,d=st.value,f=Ft.value,{transform:p}=f,v=o||g.tableFullData,b=(p||!l)&&!!d.enabled&&d.gt>-1&&(d.gt===0||d.gt<v.length);return m.scrollYLoad=b,s&&s.handleUpdateSYStatus&&s.handleUpdateSYStatus(b),b},Rd=(o,l)=>{const{treeNodeColumn:s}=m,{fullAllDataRowIdData:d,tableFullTreeData:f,treeExpandedMaps:p,treeExpandLazyLoadedMaps:v}=g,b=Ft.value,{reserve:C,lazy:E,accordion:R,toggleMethod:O}=b,D=b.children||b.childrenField,P=b.hasChild||b.hasChildField,N=[],T=i.getColumnIndex(s),z=i.getVMColumnIndex(s),{handleGetRowId:G}=So(i);let X=O?o.filter(B=>O({$table:i,expanded:l,column:s,columnIndex:T,$columnIndex:z,row:B})):o;if(R){X=X.length?[X[X.length-1]]:[];const B=a.findTree(f,A=>A===X[0],{children:D});B&&B.items.forEach(A=>{const oe=G(A);p[oe]&&delete p[oe]})}return l?X.forEach(B=>{const A=G(B);if(!p[A]){const oe=d[A];oe&&(E&&B[P]&&!oe.treeLoaded&&!v[A]?N.push(hd(B)):B[D]&&B[D].length&&(p[A]=B))}}):X.forEach(B=>{const A=G(B);p[A]&&delete p[A]}),C&&X.forEach(B=>vd(B,l)),m.treeExpandedFlag++,Promise.all(N).then(()=>(qn(),i.recalculate()))},zv=(o,l)=>{const{lastScrollLeft:s,lastScrollTop:d}=g;return Rd(o,l).then(()=>(Tn(),i.handleTableData(),m.treeExpandedFlag++,jn(),se())).then(()=>Qr(!0,!0,!0)).then(()=>{Us(i,s,d),qn(),setTimeout(()=>{i.updateCellAreas()},30)})},Wv=(o,l)=>{const{fullAllDataRowIdData:s,tableFullGroupData:d,rowGroupExpandedMaps:f}=g,p=_.value,{mapChildrenField:v,accordion:b}=p,{handleGetRowId:C}=So(i);let E=o;if(v){if(b){E=E.length?[E[E.length-1]]:[];const R=a.findTree(d,O=>Ge(i,O)===Ge(i,E[0]),{children:v});R&&R.items.forEach(O=>{const D=C(O);f[D]&&delete f[D]})}l?E.forEach(R=>{const O=C(R);f[O]||s[O]&&R[v]&&R[v].length&&(f[O]=R)}):E.forEach(R=>{const O=C(R);f[O]&&delete f[O]})}return m.rowGroupExpandedFlag++,i.recalculate()},Sd=(o,l)=>Wv(o,l).then(()=>(Tn(),i.handleTableData(),m.rowGroupExpandedFlag++,jn(),se())).then(()=>fr(!0,!0,!0)).then(()=>{setTimeout(()=>{i.updateCellAreas()},30)}),jv=()=>{const{isRowGroupStatus:o}=m;if(o){const l=_.value,{expandAll:s,expandGroupFields:d}=l;s?i.setAllRowGroupExpand(!0):d&&d.length&&i.setRowGroupExpandByField(d,!0)}},Od=(o,l)=>{Mi(l),o&&Nt("checkbox-all",{records:()=>i.getCheckboxRecords(),reserves:()=>i.getCheckboxReserveRecords(),indeterminates:()=>i.getCheckboxIndeterminateRecords(),checked:l},o)},Hs=()=>{const{isAllOverflow:o,isScrollYBig:l}=m,{mergeBodyList:s,scrollYStore:d}=g,{preloadSize:f,startIndex:p,endIndex:v,offsetSize:b}=d,C=o?b:b+1,{toVisibleIndex:E,visibleSize:R}=cn(),O={startIndex:Math.max(0,l?E-1:E-1-b-f),endIndex:l?E+R:E+R+C+f};d.visibleStartIndex=E-1,d.visibleEndIndex=E+R+1,ko(s,O,"row");const{startIndex:D,endIndex:P}=O;(E<=p||E>=v-R-1)&&(p!==D||v!==P)&&(d.startIndex=D,d.endIndex=P,i.updateScrollYData())},ya=o=>function(l){const{fullAllDataRowIdData:s}=g;if(l){const d=Ge(i,l),f=s[d];if(f)return f[o]}return-1},Hi=o=>function(l){const{fullColumnIdData:s}=g;if(l){const d=s[l.id];if(d)return d[o]}return-1},qv=()=>{const{lxTimeout:o,lxRunTime:l,scrollXStore:s}=g,{visibleSize:d}=s,f=d>26?26:d>16?14:6;o&&clearTimeout(o),(!l||l+f<Date.now())&&(g.lxRunTime=Date.now(),bl()),g.lxTimeout=setTimeout(()=>{g.lxTimeout=void 0,g.lxRunTime=void 0,bl()},f)},Uv=()=>{const{lyTimeout:o,lyRunTime:l,scrollYStore:s}=g,{visibleSize:d}=s,f=d>30?32:d>20?18:8;o&&clearTimeout(o),(!l||l+f<Date.now())&&(g.lyRunTime=Date.now(),Hs()),g.lyTimeout=setTimeout(()=>{g.lyTimeout=void 0,g.lyRunTime=void 0,Hs()},f)},Dd=(o,l)=>{const{scrollXLoad:s,scrollYLoad:d,isAllOverflow:f}=m;g.lcsRunTime=Date.now(),g.lcsTimeout=void 0,g.intoRunScroll=!1,g.inVirtualScroll=!1,g.inWheelScroll=!1,g.inHeaderScroll=!1,g.inBodyScroll=!1,g.inFooterScroll=!1,m.lazScrollLoading=!1,g.scrollRenderType="";let p=null,v=null;return f||(Is(),lr()),o&&s&&(p=i.updateScrollXData()),l&&d&&(v=i.updateScrollYData().then(()=>(f||(Is(),lr()),i.updateScrollYSpace()))),Mn(),Promise.all([p,v,i.updateCellAreas()])},Xv=(o,l)=>{const{lcsTimeout:s}=g;m.lazScrollLoading=!0,s&&clearTimeout(s),g.lcsTimeout=setTimeout(()=>{Dd(o,l).then(()=>{(m.scrollXLoad||m.scrollYLoad)&&se(()=>{Mn(),g.lcsTimeout||Dd(o,l)})})},200)},Yv=o=>{let l=1;const s=Date.now();return o+25>s?l=1.18:o+30>s?l=1.15:o+40>s?l=1.12:o+55>s?l=1.09:o+75>s?l=1.06:o+100>s&&(l=1.03),l},Kv=(o,l)=>{requestAnimationFrame(()=>{l(o)})},Zv=(o,l)=>{const s=Math.abs(o),d=performance.now();let f=0;const p=v=>{let b=(v-d)/s;b<0?b=0:b>1&&(b=1);const C=Math.pow(b,2),E=Math.floor(o*C)-f;f+=E,l(E),b<1&&requestAnimationFrame(p)};requestAnimationFrame(p)},Ea=o=>{const l=g.xeGanttView;if(l){const s=l.internalData,{elemStore:d}=s,f=ct(d["main-body-scroll"]);f&&(f.scrollTop=o)}},Nt=(o,l,s)=>{n(o,Jk(s,{$table:i,$grid:S,$gantt:F},l))},Qv=(o,l)=>{const{fullColumnIdData:s}=g,d=vo(i,o);return d&&s[d.id]?Bf(i,d,l):se()},Pi=()=>{const o=$.value;o&&o.clientWidth&&o.clientHeight&&i.recalculate()},Fd=(o,l)=>{i.analyColumnWidth(),i.recalculate().then(()=>{i.saveCustomStore("update:width"),i.refreshScroll().then(()=>{i.updateCellAreas()}),i.dispatchEvent("column-resizable-change",l,o),i.dispatchEvent("resizable-change",l,o),setTimeout(()=>{i.recalculate(!0)},300)})},$d=(o,l)=>{m.resizeHeightFlag++,i.recalculate().then(()=>{i.refreshScroll().then(()=>{i.updateCellAreas()}),i.dispatchEvent("row-resizable-change",l,o),setTimeout(()=>{i.recalculate(!0)},300)})},Ra=()=>{const{visibleColumn:o,fullColumnIdData:l}=g;let s=0;for(let d=0,f=o.length;d<f;d++){const p=o[d],v=p.id,b=l[v];b&&(b.oLeft=s),s+=p.renderWidth}},lr=()=>{const{expandColumn:o}=m,{afterFullData:l,fullAllDataRowIdData:s,rowExpandedMaps:d}=g,f=Zt.value,p=dt.value,v=At.value,b=ut.value,{handleGetRowId:C}=So(i);let E=0;for(let R=0,O=l.length;R<O;R++){const D=l[R],P=C(D),N=s[P]||{};N.oTop=E,E+=N.resizeHeight||v.height||p.height||N.height||b,o&&d[P]&&(E+=N.expandHeight||f.height||0)}},Mn=()=>{const{expandColumn:o,scrollYLoad:l,scrollYTop:s,isScrollYBig:d}=m,f=Zt.value,p=dt.value,v=At.value,b=ut.value,{mode:C}=f;if(o&&C==="fixed"){const{elemStore:E,fullAllDataRowIdData:R}=g,O=je.value,D=ct(E["main-body-scroll"]);if(O&&D){let P=!1;a.arrayEach(O.children,N=>{const T=N,z=T.getAttribute("rowid")||"",G=R[z];if(G){const X=T.offsetHeight+1,B=D.querySelector(`.vxe-body--row[rowid="${z}"]`);let A=0;l?d&&B?A=B.offsetTop+B.offsetHeight:A=G.oTop+(G.resizeHeight||v.height||p.height||G.height||b):B&&(A=B.offsetTop+B.offsetHeight),d&&(A+=s),T.style.top=ll(A),P||G.expandHeight!==X&&(P=!0),G.expandHeight=X}}),P&&(m.rowExpandHeightFlag++,se(()=>{lr()}))}}},qn=()=>{const{treeConfig:o}=e;if(!o)return;const{tableData:l}=m,{fullAllDataRowIdData:s,treeExpandedMaps:d}=g,f=At.value,p=dt.value,v=ut.value,b=Ft.value,{transform:C,mapChildrenField:E}=b,R=b.children||b.childrenField,{handleGetRowId:O}=So(i),D=[],P=(N,T,z)=>{const G=O(N),X=s[G]||{},B=N[C?E:R],A=z[T-1]||null,oe=z[T+1]||null;if(B&&B.length&&d[G])D.push({row:N,prevRow:A,nextRow:oe}),B.forEach((xe,fe)=>{const Oe=O(xe);d[Oe]&&P(xe,fe,B)});else if(oe){const xe=O(oe),fe=s[xe]||{},Oe=Fr(X,f,p,v),$e=Fr(fe,f,p,v);X.oHeight=Oe,X.lineHeight=Math.floor(Oe/2+$e/2)}else X.oHeight=0,X.lineHeight=0};l.forEach((N,T)=>{P(N,T,l)}),a.lastArrayEach(D,({row:N,nextRow:T})=>{const z=O(N),G=N[C?E:R],X=s[z];if(X){let A=Fr(X,f,p,v),oe=0;if(G.forEach(xe=>{const fe=O(xe),Oe=s[fe]||{},$e=xe[C?E:R];if(d[fe]&&$e&&$e.length)A+=Oe.oHeight||0,oe+=Oe.oHeight||0;else{const Se=Fr(Oe,f,p,v);Oe.oHeight=Se,Oe.lineHeight=Se,A+=Se,oe+=Se}}),T){const xe=O(T),fe=s[xe]||{},Oe=Fr(X,f,p,v),$e=Fr(fe,f,p,v);A+=Oe,oe+=Math.floor(Oe/2+$e/2)}X.lineHeight=oe,X.oHeight=A}})},Td=()=>{const{elemStore:o}=g,l=je.value,s=ct(o["main-body-scroll"]);l&&s&&(l.scrollTop=s.scrollTop)},Md=o=>function(l){let s=!1;return(a.isArray(l)?l:[l]).forEach(f=>{const p=vo(i,f);p&&(p.children&&p.children.length?a.eachTree([p],v=>{v.visible=o,v.renderVisible=o}):(p.visible=o,p.renderVisible=o),s||(s=!0))}),s?i.handleCustom():se()};L={dispatchEvent:Nt,getEl(){return $.value},clearAll(){return q0(i)},syncData(){return We("vxe.error.delFunc",["syncData","getData"]),se().then(()=>(m.tableData=[],n("update:data",g.tableFullData),se()))},updateData(){const{scrollXLoad:o,scrollYLoad:l}=m;return i.handleTableData(!0).then(()=>{if(i.updateFooter(),o||l)return o&&i.updateScrollXSpace(),l&&i.updateScrollYSpace(),i.refreshScroll()}).then(()=>(i.updateCellAreas(),fr(!0,!0,!0))).then(()=>{setTimeout(()=>fr(!1,!0,!0),50)})},loadData(o){const{initStatus:l}=g;return ml(o,!1,!1).then(()=>(g.inited=!0,g.initStatus=!0,l||wa(),fr(!1,!0,!0)))},reloadData(o){return i.clearAll().then(()=>(g.inited=!0,g.initStatus=!0,ml(o,!0,!0))).then(()=>(wa(),fr(!1,!0,!0)))},setRow(o,l){if(o&&l){let s=o;a.isArray(o)||(s=[o]);const d=Jl(i);s.forEach(f=>{const p=Ge(i,f),v=a.clone(Object.assign({},l),!0);a.set(v,d,p),Object.assign(f,v)})}return se()},reloadRow(o,l,s){const{keepSource:d}=e,{tableData:f}=m,{sourceDataRowIdData:p}=g;if(d){if(i.isAggregateRecord(o))return se();const v=Jl(i),b=a.get(o,v),C=p[b];if(C&&o)if(s){const E=a.clone(a.get(l||o,s),!0);a.set(o,s,E),a.set(C,s,E)}else{const E=a.clone(Object.assign({},l),!0);a.set(E,v,b),a.destructuring(C,Object.assign(o,E))}m.tableData=f.slice(0)}else We("vxe.error.reqProp",["keep-source"]);return se()},getParams(){return e.params},loadTreeChildren(o,l){const{keepSource:s}=e,{tableSourceData:d,fullDataRowIdData:f,fullAllDataRowIdData:p,sourceDataRowIdData:v}=g,b=Ft.value,{transform:C,mapChildrenField:E}=b,R=b.children||b.childrenField,O=p[Ge(i,o)],D=O?O.level:0;return L.createData(l).then(P=>{if(s){const N=Ge(i,o),T=a.findTree(d,z=>N===Ge(i,z),{children:R});T&&(T.item[R]=a.clone(P,!0)),P.forEach(z=>{const G=Ge(i,z);v[G]=a.clone(z,!0)})}return a.eachTree(P,(N,T,z,G,X,B)=>{const A=Ge(i,N),oe=X||O.row,xe={row:N,rowid:A,seq:-1,index:T,_index:-1,$index:-1,treeIndex:-1,_tIndex:-1,items:z,parent:oe,level:D+B.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};f[A]=xe,p[A]=xe},{children:R}),o[R]=P,C&&(o[E]=a.clone(P,!1)),jn(),P})},loadColumn(o){const{lastScrollLeft:l,lastScrollTop:s}=g,d=a.mapTree(o,f=>Br(yt.createColumn(i,f)));return Ed(d).then(()=>{let f=l,p=s;const v=rt.value,b=st.value;v.scrollToLeftOnChange&&(f=0),b.scrollToTopOnChange&&(p=0),Us(i,f,p)})},reloadColumn(o){return L.clearAll().then(()=>L.loadColumn(o))},getRowNode(o){if(o){const{fullAllDataRowIdData:l}=g,s=o.getAttribute("rowid");if(s){const d=l[s];if(d)return{rowid:d.rowid,item:d.row,index:d.index,items:d.items,parent:d.parent}}}return null},getColumnNode(o){if(o){const{fullColumnIdData:l}=g,s=o.getAttribute("colid");if(s){const d=l[s];if(d)return{colid:d.colid,item:d.column,index:d.index,items:d.items,parent:d.parent}}}return null},getRowSeq:ya("seq"),getRowIndex:ya("index"),getVTRowIndex:ya("_index"),getVMRowIndex:ya("$index"),getColumnIndex:Hi("index"),getVTColumnIndex:Hi("_index"),getVMColumnIndex:Hi("$index"),createData(o){return se().then(()=>Br(te.defineField(o)))},createRow(o){const l=a.isArray(o);return l||(o=[o||{}]),L.createData(o).then(s=>l?s:s[0])},revertData(o,l){const{keepSource:s,treeConfig:d}=e,{fullAllDataRowIdData:f,fullDataRowIdData:p,tableSourceData:v,sourceDataRowIdData:b,tableFullData:C,afterFullData:E,removeRowMaps:R}=g,O=Ft.value,{transform:D}=O,{handleGetRowId:P}=So(i);if(!s)return We("vxe.error.reqProp",["keep-source"]),se();let N=o;o?a.isArray(o)||(N=[o]):N=a.toArray(i.getUpdateRecords());let T=!1;return N.length&&N.forEach(z=>{const G=P(z),X=f[G];if(X){const B=X.row;if(!i.isInsertByRow(B)){const A=b[G];A&&B&&(l?a.set(B,l,a.clone(a.get(A,l),!0)):a.destructuring(B,a.clone(A,!0)),!p[G]&&i.isRemoveByRow(B)&&(R[G]&&delete R[G],C.unshift(B),E.unshift(B),T=!0))}}}),o?(T&&(m.removeRowFlag++,i.updateFooter(),i.cacheRowMap(!1),i.handleTableData(d&&D),d&&D||i.updateAfterDataIndex(),i.checkSelectionStatus(),m.scrollYLoad&&i.updateScrollYSpace()),se().then(()=>(i.updateCellAreas(),fr(!1,!0,!0)))):i.reloadData(v)},clearData(o,l){const{tableFullData:s,visibleColumn:d}=g;return arguments.length?o&&!a.isArray(o)&&(o=[o]):o=s,l?o.forEach(f=>a.set(f,l,null)):o.forEach(f=>{d.forEach(p=>{p.field&&on(f,p,null)})}),se()},getCellElement(o,l){const{elemStore:s}=g,d=vo(i,l);if(!d)return null;const f=Ge(i,o),p=ct(s["main-body-scroll"]),v=ct(s["left-body-scroll"]),b=ct(s["right-body-scroll"]);let C;return d&&(d.fixed&&(d.fixed==="left"?v&&(C=v):b&&(C=b)),C||(C=p),C)?C.querySelector(`.vxe-body--row[rowid="${f}"] .${d.id}`):null},getCellLabel(o,l){const s=vo(i,l);if(!s)return null;const{editConfig:d}=e,{formatter:f,editRender:p,cellRender:v}=s,b=f?null:d&&it(p)?p:it(v)?v:null,C=b?ja.get(b.name):null,E=C?C.tableCellFormatter:null,R=No(o,s);let O=R;if(f||E){let D;const{fullAllDataRowIdData:P}=g,N=Ge(i,o),T=s.id,z=P[N];if(z&&(D=z.formatData,D||(D=P[N].formatData={}),z&&D[T]&&D[T].value===R))return D[T].label;const G={$table:i,cellValue:R,row:o,rowIndex:i.getRowIndex(o),column:s,columnIndex:i.getColumnIndex(s)};if(f)if(a.isString(f)){const X=qa.get(f),B=X?X.tableCellFormatMethod||X.cellFormatMethod:null;O=B?B(G):""}else if(a.isArray(f)){const X=qa.get(f[0]),B=X?X.tableCellFormatMethod||X.cellFormatMethod:null;O=B?B(G,...f.slice(1)):""}else O=`${f(G)}`;else b&&E&&(O=E(b,G));D&&(D[T]={value:R,label:O})}return O},getFooterCellLabel(o,l){const s=vo(i,l);if(!s)return null;const{footerFormatter:d}=s,f=i.getVTColumnIndex(s);let p="";a.isArray(o)?p=o[f]:p=a.get(o,s.field);let v=p;if(d){let b;const{footerTableData:C}=m,{footerFullDataRowData:E}=g,R=s.id,O=C.indexOf(o);let D=null;if(O>-1&&(D=E[O],D||(D=E[O]={}),b=D.formatData,b||(b=E[O].formatData={}),D&&b[R]&&b[R].value===p))return b[R].label;const P={$table:i,cellValue:p,itemValue:p,row:o,items:o,$rowIndex:O,column:s,_columnIndex:f,columnIndex:i.getColumnIndex(s)};if(a.isString(d)){const N=qa.get(d),T=N?N.tableFooterCellFormatMethod:null;v=T?T(P):""}else if(a.isArray(d)){const N=qa.get(d[0]),T=N?N.tableFooterCellFormatMethod:null;v=T?T(P,...d.slice(1)):""}else v=d(P);b&&(b[R]={value:p,label:v})}return v},isInsertByRow(o){const l=Ge(i,o);return!!m.insertRowFlag&&!!g.insertRowMaps[l]},isRemoveByRow(o){const l=Ge(i,o);return!!m.removeRowFlag&&!!g.removeRowMaps[l]},removeInsertRow(){const{insertRowMaps:o}=g;return i.remove(a.values(o))},isUpdateByRow(o,l){const{keepSource:s}=e,{tableFullColumn:d,fullDataRowIdData:f,sourceDataRowIdData:p}=g;if(s){const v=a.isString(o)||a.isNumber(o)?o:Ge(i,o),b=f[v];if(!b)return!1;const C=b.row,E=p[v];if(E){if(arguments.length>1)return!an(E,C,l);for(let R=0,O=d.length;R<O;R++){const D=d[R].field;if(D&&!an(E,C,D))return!0}}}return!1},getColumns(o){const{visibleColumn:l}=g;return a.isUndefined(o)?l.slice(0):l[o]},getColid(o){const l=vo(i,o);return l?l.id:null},getColumnById(o){const{fullColumnIdData:l}=g;return o&&l[o]?l[o].column:null},getColumnByField(o){const l=g.fullColumnFieldData;return o&&l[o]?l[o].column:null},getParentColumn(o){const{fullColumnIdData:l}=g,s=vo(i,o);return s&&s.parentId&&l[s.parentId]?l[s.parentId].column:null},getTableColumn(){return{collectColumn:g.collectColumn.slice(0),fullColumn:g.tableFullColumn.slice(0),visibleColumn:g.visibleColumn.slice(0),tableColumn:m.tableColumn.slice(0)}},moveColumnTo(o,l,s){const{fullColumnIdData:d,visibleColumn:f}=g,{dragToChild:p,dragPos:v,isCrossDrag:b}=Object.assign({},s),C=vo(i,o);let E=null;const R=C?d[C.id]:null;let O="left";if(a.isNumber(l)){if(R&&l){let D=R.items,P=R._index+l;b&&(D=f,P=R._index+l),P>0&&P<D.length-1&&(E=D[P]),l>0&&(O="right")}}else{E=vo(i,l);const D=E?d[E.id]:null;R&&D&&D._index>R._index&&(O="right")}return i.handleColDragSwapEvent(null,!0,C,E,v||O,p===!0)},moveRowTo(o,l,s){const{treeConfig:d}=e,{fullAllDataRowIdData:f,afterFullData:p}=g,{dragToChild:v,dragPos:b,isCrossDrag:C}=Object.assign({},s),E=Ft.value,R=Af(i,o);let O=null,D="top";const P=R?f[Ge(i,R)]:null;if(a.isNumber(l)){if(P&&l){let T=p,z=P._index+l;d&&(T=P.items,E.transform&&(z=P.treeIndex+l,C&&(T=p,z=P._index+l))),z>=0&&z<=T.length-1&&(O=T[z]),l>0&&(D="bottom")}}else{O=Af(i,l);const T=O?f[Ge(i,O)]:null;P&&T&&T._index>P._index&&(D="bottom")}return i.handleRowDragSwapEvent(null,!0,R,O,b||D,v===!0)},getFullColumns(){const{collectColumn:o}=g;return o.slice(0)},getData(o){const l=e.data||g.tableSynchData;return a.isUndefined(o)?l.slice(0):l[o]},getCheckboxRecords(o){const{treeConfig:l}=e,{updateCheckboxFlag:s}=m,{tableFullData:d,afterFullData:f,tableFullTreeData:p,fullDataRowIdData:v,afterFullRowMaps:b,selectCheckboxMaps:C}=g,E=Ft.value,R=lt.value,{transform:O,mapChildrenField:D}=E,{checkField:P}=R,N=E.children||E.childrenField;let T=[];if(s)if(P)if(l){const z=o?O?p:d:O?p:f;T=a.filterTree(z,G=>a.get(G,P),{children:O?D:N})}else T=(o?d:f).filter(G=>a.get(G,P));else{const z=o||l&&!O?v:b;a.each(C,(G,X)=>{z[X]&&T.push(v[X].row)})}return T},getTreeRowChildren(o){const{treeConfig:l}=e,{fullAllDataRowIdData:s}=g,d=Ft.value,{transform:f,mapChildrenField:p}=d,v=d.children||d.childrenField;if(o&&l){let b;if(a.isString(o)?b=o:b=Ge(i,o),b){const C=s[b],E=C?C.row:null;if(E)return E[f?p:v]||[]}}return[]},getTreeRowLevel(o){const{treeConfig:l}=e,{fullAllDataRowIdData:s}=g;if(o&&l){let d;if(a.isString(o)?d=o:d=Ge(i,o),d){const f=s[d];if(f)return f.level}}return-1},getTreeParentRow(o){const{treeConfig:l}=e,{fullAllDataRowIdData:s}=g;if(o&&l){let d;if(a.isString(o)?d=o:d=Ge(i,o),d){const f=s[d];if(f)return f.parent}}return null},getParentRow(o){return ot("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),i.getTreeParentRow(o)},getRowById(o){const{fullAllDataRowIdData:l}=g,s=a.eqNull(o)?"":encodeURIComponent(o||"");return l[s]?l[s].row:null},getRowid(o){return Ge(i,o)},getTableData(){const{tableData:o,footerTableData:l}=m,{tableFullData:s,afterFullData:d,tableFullTreeData:f}=g;return{fullData:e.treeConfig?f.slice(0):s.slice(0),visibleData:d.slice(0),tableData:o.slice(0),footerData:l.slice(0)}},getFullData(){const{treeConfig:o}=e,{tableFullData:l,tableFullTreeData:s}=g;return o?s.slice(0):l.slice(0)},setColumnFixed(o,l){let s=!1;const d=a.isArray(o)?o:[o],f=wt.value,p=fl.value;for(let v=0;v<d.length;v++){const b=d[v],C=vo(i,b),E=Pf(i,C);if(E&&E.fixed!==l){if(!E.fixed&&p)return me.modal&&me.modal.message({status:"error",content:en("vxe.table.maxFixedCol",[f.maxFixedSize])}),se();a.eachTree([E],R=>{R.fixed=l,R.renderFixed=l}),te.saveCustomStore("update:fixed"),s||(s=!0)}}return s?L.refreshColumn():se()},clearColumnFixed(o){let l=!1;return(a.isArray(o)?o:[o]).forEach(d=>{const f=vo(i,d),p=Pf(i,f);p&&p.fixed&&(a.eachTree([p],v=>{v.fixed=null,v.renderFixed=null}),te.saveCustomStore("update:fixed"),l||(l=!0))}),l?L.refreshColumn():se()},hideColumn:Md(!1),showColumn:Md(!0),setColumnWidth(o,l){const{elemStore:s}=g;let d=!1;const f=a.isArray(o)?o:[o];let p=a.toInteger(l);if(ps(l)){const v=ct(s["main-body-scroll"]),b=v?v.clientWidth-1:0;p=Math.floor(p*b)}return p&&(f.forEach(v=>{const b=vo(i,v);b&&(b.resizeWidth=p,d||(d=!0))}),d)?i.refreshColumn().then(()=>({status:d})):se().then(()=>({status:d}))},getColumnWidth(o){const l=vo(i,o);return l?l.renderWidth:0},resetColumn(o){return ot("vxe.error.delFunc",["resetColumn","resetCustom"]),i.resetCustom(o)},refreshColumn(o){return o&&yd(),Li(!0).then(()=>i.refreshScroll()).then(()=>fr(!1,!0,!0))},setRowHeightConf(o){const{fullAllDataRowIdData:l}=g;let s=!1;return o&&(a.each(o,(d,f)=>{const p=l[f];if(p){const v=a.toInteger(d);v&&(p.resizeHeight=v,s||(s=!0))}}),s&&(g.isResizeCellHeight=!0,m.resizeHeightFlag++)),se().then(()=>(lr(),{status:s}))},getRowHeightConf(o){const{fullAllDataRowIdData:l,afterFullData:s}=g,{handleGetRowId:d}=So(i),f=dt.value,p=At.value,v=ut.value,b={};return s.forEach(C=>{const E=d(C),R=l[E];if(R){const O=R.resizeHeight;if(O||o){const D=O||p.height||f.height||R.height||v;b[E]=D}}}),b},recalcRowHeight(o){const{fullAllDataRowIdData:l}=g,s=a.isArray(o)?o:[o],d=$.value;if(d){const{handleGetRowId:f}=So(i);d.setAttribute("data-calc-row","Y"),s.forEach(p=>{const v=a.isString(p)||a.isNumber(p)?p:f(p),b=l[v];b&&(b.resizeHeight=Fi(b,d)),d.removeAttribute("data-calc-row")}),m.calcCellHeightFlag++}return se()},setRowHeight(o,l){const{fullAllDataRowIdData:s}=g;let d=!1;const f=a.isArray(o)?o:[o];let p=a.toInteger(l);if(ps(l)){const v=q.value,b=v?v.$el:null,C=b?b.clientHeight-1:0;p=Math.floor(p*C)}if(p){const{handleGetRowId:v}=So(i);f.forEach(b=>{const C=a.isString(b)||a.isNumber(b)?b:v(b),E=s[C];E&&(E.resizeHeight=p,d||(d=!0))}),d&&(g.isResizeCellHeight=!0,m.resizeHeightFlag++)}return se().then(()=>({status:d}))},getRowHeight(o){const{fullAllDataRowIdData:l}=g,s=dt.value,d=At.value,f=ut.value,p=a.isString(o)||a.isNumber(o)?o:Ge(i,o),v=l[p];return v?v.resizeHeight||d.height||s.height||v.height||f:0},refreshScroll(){const{elemStore:o,lastScrollLeft:l,lastScrollTop:s}=g,d=ct(o["main-header-scroll"]),f=ct(o["main-body-scroll"]),p=ct(o["main-footer-scroll"]),v=ct(o["left-body-scroll"]),b=ct(o["right-body-scroll"]),C=V.value,E=De.value;return new Promise(R=>{if(l||s)return Us(i,l,s).then(()=>{setTimeout(R,10)});g.intoRunScroll=!0,io(E,s),io(f,s),io(v,s),io(b,s),co(C,l),co(f,l),co(d,l),co(p,l),setTimeout(()=>{g.intoRunScroll=!1,R()},10)})},recalculate(o){const l=!!o;return fr(l,l,l)},openTooltip(o,l){const s=le.value;return s&&s.open?s.open(o,l):se()},closeTooltip(){const{tooltipStore:o}=m,l=ue.value,s=le.value;return o.visible&&(Object.assign(o,{row:null,column:null,content:null,visible:!1,type:null,currOpts:{}}),l&&l.close&&l.close()),s&&s.close&&s.close(),se()},isAllCheckboxChecked(){return m.isAllSelected},isAllCheckboxIndeterminate(){return!m.isAllSelected&&m.isIndeterminate},getCheckboxIndeterminateRecords(o){const{treeConfig:l}=e,{fullDataRowIdData:s,treeIndeterminateRowMaps:d}=g;if(l){const f=[],p=[];return a.each(d,(v,b)=>{v&&(f.push(v),s[b]&&p.push(v))}),o?f:p}return[]},setCheckboxRow(o,l){return o&&!a.isArray(o)&&(o=[o]),vl(o,l,!0)},setCheckboxRowKey(o,l){const{fullAllDataRowIdData:s}=g;a.isArray(o)||(o=[o]);const d=[];return o.forEach(f=>{const p=s[f];p&&d.push(p.row)}),vl(d,l,!0)},isCheckedByCheckboxRow(o){const{updateCheckboxFlag:l}=m,{selectCheckboxMaps:s}=g,d=lt.value,{checkField:f}=d;return f?a.get(o,f):!!l&&!!s[Ge(i,o)]},isCheckedByCheckboxRowKey(o){const{updateCheckboxFlag:l}=m,{fullAllDataRowIdData:s,selectCheckboxMaps:d}=g,f=lt.value,{checkField:p}=f;if(p){const v=s[o];return v?a.get(v.row,p):!1}return!!l&&!!d[o]},isIndeterminateByCheckboxRow(o){const{treeIndeterminateRowMaps:l}=g;return!!l[Ge(i,o)]&&!i.isCheckedByCheckboxRow(o)},isIndeterminateByCheckboxRowKey(o){const{treeIndeterminateRowMaps:l}=g;return!!l[o]&&!i.isCheckedByCheckboxRowKey(o)},toggleCheckboxRow(o){const{selectCheckboxMaps:l}=g,s=lt.value,{checkField:d}=s,f=d?!a.get(o,d):!l[Ge(i,o)];return te.handleBatchSelectRows([o],f,!0),te.checkSelectionStatus(),se()},setAllCheckboxRow(o){return Mi(o,!0)},getRadioReserveRecord(o){const{treeConfig:l}=e,{fullDataRowIdData:s,radioReserveRow:d,afterFullData:f}=g,p=nt.value,v=Ft.value,b=v.children||v.childrenField;if(p.reserve&&d){const C=Ge(i,d);if(o){if(!s[C])return d}else{const E=Jl(i);if(l){if(a.findTree(f,O=>C===a.get(O,E),{children:b}))return d}else if(!f.some(R=>C===a.get(R,E)))return d}}return null},clearRadioReserve(){return g.radioReserveRow=null,se()},getCheckboxReserveRecords(o){const{treeConfig:l}=e,{afterFullData:s,fullDataRowIdData:d,checkboxReserveRowMap:f}=g,p=lt.value,v=Ft.value,b=v.children||v.childrenField,C=[];if(p.reserve){const{handleGetRowId:E}=So(i),R={};l?a.eachTree(s,O=>{R[E(O)]=1},{children:b}):s.forEach(O=>{R[E(O)]=1}),a.each(f,(O,D)=>{O&&(o?d[D]||C.push(O):R[D]||C.push(O))})}return C},clearCheckboxReserve(){return g.checkboxReserveRowMap={},se()},toggleAllCheckboxRow(){return Od(null,!m.isAllSelected),se()},clearCheckboxRow(){const{treeConfig:o}=e,{tableFullData:l}=g,s=Ft.value,d=s.children||s.childrenField,f=lt.value,{checkField:p,reserve:v}=f,b=f.indeterminateField||f.halfField;if(p){const C=E=>{o&&b&&a.set(E,b,!1),a.set(E,p,!1)};o?a.eachTree(l,C,{children:d}):l.forEach(C)}return v&&l.forEach(C=>hl(C,!1)),m.isAllSelected=!1,m.isIndeterminate=!1,g.selectCheckboxMaps={},g.treeIndeterminateRowMaps={},m.updateCheckboxFlag++,se()},setCurrentRow(o){const l=g.xeGanttView,s=dt.value,d=$.value;return L.clearCurrentRow(),m.currentRow=o,(s.isCurrent||e.highlightCurrentRow)&&d&&a.arrayEach(d.querySelectorAll(`[rowid="${Ge(i,o)}"]`),f=>Pr(f,"row--current")),l&&l.handleUpdateCurrentRow&&l.handleUpdateCurrentRow(o),se()},isCheckedByRadioRow(o){const{selectRadioRow:l}=m;return o&&l?i.eqRow(l,o):!1},isCheckedByRadioRowKey(o){const{selectRadioRow:l}=m;return l?o===Ge(i,l):!1},setRadioRow(o){return ks(o,!0)},setRadioRowKey(o){const{fullAllDataRowIdData:l}=g,s=l[o];return s?ks(s.row,!0):se()},clearCurrentRow(){const o=g.xeGanttView,l=$.value;return m.currentRow=null,g.hoverRow=null,l&&a.arrayEach(l.querySelectorAll(".row--current"),s=>hr(s,"row--current")),o&&o.handleUpdateCurrentRow&&o.handleUpdateCurrentRow(),se()},clearRadioRow(){return m.selectRadioRow=null,se()},getCurrentRecord(o){const{currentRow:l}=m,{fullDataRowIdData:s,afterFullRowMaps:d}=g;if(dt.value.isCurrent||e.highlightCurrentRow){const p=Ge(i,l);if(o){if(s[p])return l}else if(d[p])return l}return null},getRadioRecord(o){const{fullDataRowIdData:l,afterFullRowMaps:s}=g,{selectRadioRow:d}=m;if(d){const f=Ge(i,d);if(o){if(l[f])return d}else if(s[f])return d}return null},getCurrentColumn(){return wt.value.isCurrent||e.highlightCurrentColumn?m.currentColumn:null},setCurrentColumn(o){const{mouseConfig:l}=e,s=lo.value,d=l&&s.selected,f=vo(i,o);return f&&(i.clearCurrentColumn(),m.currentColumn=f),se().then(()=>{d&&i.addCellSelectedClass()})},clearCurrentColumn(){return m.currentColumn=null,se()},setPendingRow(o,l){const{handleGetRowId:s}=So(i),{pendingRowMaps:d}=g;return o&&!a.isArray(o)&&(o=[o]),l?o.forEach(f=>{const p=s(f);p&&!d[p]&&(d[p]=f)}):o.forEach(f=>{const p=s(f);p&&d[p]&&delete d[p]}),m.pendingRowFlag++,se()},togglePendingRow(o){const{handleGetRowId:l}=So(i),{pendingRowMaps:s}=g;return o&&!a.isArray(o)&&(o=[o]),o.forEach(d=>{const f=l(d);f&&(s[f]?delete s[f]:s[f]=d)}),m.pendingRowFlag++,se()},hasPendingByRow(o){return L.isPendingByRow(o)},isPendingByRow(o){const{pendingRowMaps:l}=g,s=Ge(i,o);return!!l[s]},getPendingRecords(){const{fullAllDataRowIdData:o,pendingRowMaps:l}=g,s=[];return a.each(l,(d,f)=>{o[f]&&s.push(d)}),s},clearPendingRow(){return g.pendingRowMaps={},m.pendingRowFlag++,se()},sort(o,l){const s=Io.value,{multiple:d,remote:f,orders:p}=s;return o&&a.isString(o)&&(o=[{field:o,order:l}]),a.isArray(o)||(o=[o]),o.length?(d||dn(),(d?o:[o[0]]).forEach((v,b)=>{let{field:C,order:E}=v,R=C;a.isString(C)&&(R=L.getColumnByField(C)),R&&R.sortable&&(p&&p.indexOf(E)===-1&&(E=Gl(R)),R.order!==E&&(R.order=E),R.sortTime=Date.now()+b)}),f||te.handleTableData(!0),se().then(()=>(lr(),L.updateCellAreas(),Wo()))):se()},setSort(o,l){return Wn(null,o,l)},setSortByEvent(o,l){return Wn(o,l,!0)},clearSort(o){const l=Io.value;if(o){const s=vo(i,o);s&&(s.order=null)}else dn();return l.remote||i.handleTableData(!0),se().then(()=>(lr(),Wo()))},clearSortByEvent(o,l){const{tableFullColumn:s}=g,d=Io.value,{multiple:f}=d,p=[];let v=null;return o&&(l?(v=vo(i,l),v&&(v.order=null)):s.forEach(b=>{b.order&&(b.order=null,p.push(b))}),d.remote||i.handleTableData(!0),f||(v=p[0]),v&&i.handleColumnSortEvent(o,v),f&&p.length&&Nt("clear-all-sort",{$table:i,$event:o,cols:p,sortList:[]},o)),se().then(()=>(lr(),Wo()))},isSort(o){if(o){const l=vo(i,o);return l?l.sortable&&!!l.order:!1}return L.getSortColumns().length>0},getSortColumns(){const o=Io.value,{multiple:l,chronological:s}=o,d=[],{tableFullColumn:f}=g;return f.forEach(p=>{const{field:v,order:b}=p;p.sortable&&b&&d.push({column:p,field:v,property:v,order:b,sortTime:p.sortTime})}),l&&s&&d.length>1?a.orderBy(d,"sortTime"):d},setFilterByEvent(o,l,s){const d=vo(i,l);return d&&d.filters?(d.filters=ni(s||[],d.id),i.handleColumnConfirmFilter(d,o)):se()},closeFilter(){const{filterStore:o}=m,{column:l,visible:s}=o;if(o.isAllSelected=!1,o.isIndeterminate=!1,o.visible=!1,s){const d=l?l.field:null;Nt("filter-visible",{column:l,property:d,field:d,filterList:()=>i.getCheckedFilters(),visible:!1},null)}return se()},isActiveFilterByColumn(o){const l=vo(i,o);return l?l.filters&&l.filters.some(s=>s.checked):i.getCheckedFilters().length>0},isFilter(o){return L.isActiveFilterByColumn(o)},clearFilterByEvent(o,l){const{filterStore:s}=m,{tableFullColumn:d}=g,f=vr.value,{multiple:p}=f,v=[];let b=null;if(l?(b=vo(i,l),b&&i.handleClearFilter(b)):d.forEach(C=>{C.filters&&(v.push(C),i.handleClearFilter(C))}),(!l||b!==s.column)&&Object.assign(s,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),f.remote||i.updateData(),p||(b=v[0]),b){const C=()=>i.getCheckedFilters(),E=[],R=[];b.filters.forEach(D=>{D.checked&&(E.push(D.value),R.push(D.data))});const O={$table:i,$event:o,column:b,field:b.field,property:b.field,values:E,datas:R,filters:C,filterList:C};i.dispatchEvent("filter-change",O,o),i.dispatchEvent("clear-filter",O,o)}return p&&v.length&&Nt("clear-all-filter",{$table:i,$event:o,cols:v,filterList:[]},o),se()},isRowExpandLoaded(o){const{fullAllDataRowIdData:l}=g,s=l[Ge(i,o)];return s&&!!s.expandLoaded},clearRowExpandLoaded(o){const{fullAllDataRowIdData:l,rowExpandLazyLoadedMaps:s}=g,d=Zt.value,{lazy:f}=d,p=Ge(i,o),v=l[p];return f&&v&&(v.expandLoaded=!1,delete s[p]),m.rowExpandedFlag++,se()},reloadRowExpand(o){const{rowExpandLazyLoadedMaps:l}=g,s=Zt.value,{lazy:d}=s,f=Ge(i,o);return d&&!l[f]&&i.clearRowExpandLoaded(o).then(()=>md(o)),se()},reloadExpandContent(o){return ot("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),i.reloadRowExpand(o)},toggleRowExpand(o){return i.setRowExpand(o,!i.isRowExpandByRow(o))},setAllRowExpand(o){const l=Ft.value,{tableFullData:s,tableFullTreeData:d}=g,f=l.children||l.childrenField;let p=[];return e.treeConfig?a.eachTree(d,v=>{p.push(v)},{children:f}):p=s,L.setRowExpand(p,o)},setRowExpand(o,l){const{expandColumn:s}=m;let{fullAllDataRowIdData:d,rowExpandedMaps:f,rowExpandLazyLoadedMaps:p}=g;const{handleGetRowId:v}=So(i),b=Zt.value,{reserve:C,lazy:E,accordion:R,toggleMethod:O}=b,D=[],P=s?i.getColumnIndex(s):-1,N=s?i.getVMColumnIndex(s):-1;if(o){a.isArray(o)||(o=[o]),R&&(f={},g.rowExpandedMaps=f,o=o.slice(o.length-1,o.length));const T=O?o.filter(z=>O({$table:i,expanded:l,column:s,columnIndex:P,$columnIndex:N,row:z,rowIndex:i.getRowIndex(z),$rowIndex:i.getVMRowIndex(z)})):o;l?T.forEach(z=>{const G=v(z);if(!f[G]){const X=d[G];E&&!X.expandLoaded&&!p[G]?D.push(md(z)):f[G]=z}}):T.forEach(z=>{const G=v(z);f[G]&&delete f[G]}),C&&T.forEach(z=>bd(z,l))}return m.rowExpandedFlag++,Promise.all(D).then(()=>se()).then(()=>fr(!0,!0,!0)).then(()=>(lr(),Mn(),Td(),i.updateCellAreas()))},isRowExpandByRow(o){const{rowExpandedFlag:l}=m,{rowExpandedMaps:s}=g,d=Ge(i,o);return!!l&&!!s[d]},isExpandByRow(o){return ot("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),L.isRowExpandByRow(o)},clearRowExpand(){const{tableFullData:o,scrollYStore:l}=g,s=Zt.value,{reserve:d}=s,f=i.getRowExpandRecords();return g.rowExpandedMaps={},d&&o.forEach(p=>bd(p,!1)),m.rowExpandedFlag++,l.startIndex=0,l.endIndex=1,se().then(()=>{if(f.length)return fr(!0,!0,!0)}).then(()=>(lr(),Mn(),Td(),i.updateCellAreas()))},clearRowExpandReserve(){return g.rowExpandedReserveRowMap={},se()},getRowExpandRecords(){const o=[];return a.each(g.rowExpandedMaps,l=>{l&&o.push(l)}),o},setRowGroups(o){const{aggregateConfig:l,rowGroupConfig:s}=e,d=_.value,{maxGroupSize:f}=d;if(!(l||s))return We("vxe.error.reqProp",["aggregate-config"]),se();const p=o?a.isArray(o)?o:[o]:[];return f&&p.length>f?(me.modal&&me.modal.message({status:"error",content:en("vxe.table.maxGroupCol",[f])}),se()):p.length?(Ca(p.map(v=>a.isString(v)?v:v.field)),ml(g.tableSynchData,!1,!0)):se()},getRowGroups(){const{aggregateConfig:o,rowGroupConfig:l}=e,{fullColumnFieldData:s}=g;if(o||l){const{rowGroupList:d}=m;return d.map(({field:f})=>{const p=s[f];return p?p.column:{field:f}})}return[]},getRowGroupFields(){return i.getRowGroups().map(o=>o.field)},clearRowGroups(){const{aggregateConfig:o,rowGroupConfig:l}=e;return o||l?(Ca([]),ml(g.tableSynchData,!1,!0)):(We("vxe.error.reqProp",["aggregate-config"]),se())},isRowGroupRecord(o){return ot("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),i.isAggregateRecord(o)},isRowGroupExpandByRow(o){return ot("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),i.isAggregateExpandByRow(o)},isAggregateRecord(o){const{isRowGroupStatus:l}=m;return l&&o.isAggregate},getAggregateContentByRow(o){const{isRowGroupStatus:l}=m;return l&&o&&o.isAggregate?o.groupContent:""},getAggregateRowChildren(o){const l=_.value,{childrenField:s,mapChildrenField:d}=l,{isRowGroupStatus:f}=m;return f&&o&&o.isAggregate&&s&&d?o[d]||[]:[]},refreshAggregateCalcValues(){return _v(),se()},isAggregateExpandByRow(o){const{rowGroupExpandedFlag:l}=m,{rowGroupExpandedMaps:s}=g;return!!l&&!!s[Ge(i,o)]},setRowGroupExpand(o,l){return o?(a.isArray(o)||(o=[o]),Sd(o,l)):se()},setRowGroupExpandByField(o,l){const{isRowGroupStatus:s}=m,d=_.value,{childrenField:f}=d;if(o&&(a.isArray(o)||(o=[o]),s)){const p=[],v={};if(o.forEach(b=>{v[b]=!0}),a.eachTree(g.afterGroupFullData,b=>{b.isAggregate&&v[b.groupField]&&p.push(b)},{children:f}),p.length)return Sd(p,l)}return se()},setAllRowGroupExpand(o){const{tableFullGroupData:l}=g,s=_.value,{mapChildrenField:d}=s,f={};return o&&d&&a.eachTree(l,p=>{p[d]&&p[d].length&&(f[Ge(i,p)]=p)},{children:d}),g.rowGroupExpandedMaps=f,Tn(),i.handleTableData(),jn(),m.rowGroupExpandedFlag++,fr(!0,!0,!0)},clearRowGroupExpand(){return g.rowGroupExpandedMaps={},Tn(),i.handleTableData(),jn(),m.rowGroupExpandedFlag++,fr(!0,!0,!0)},getTreeExpandRecords(){const o=[];return a.each(g.treeExpandedMaps,l=>{l&&o.push(l)}),o},isTreeExpandLoaded(o){const{fullAllDataRowIdData:l}=g,s=l[Ge(i,o)];return s&&!!s.treeLoaded},clearTreeExpandLoaded(o){const{fullAllDataRowIdData:l,treeExpandedMaps:s}=g,d=Ft.value,{transform:f}=d;return o?(a.isArray(o)||(o=[o]),o.forEach(p=>{const v=Ge(i,p),b=l[v];b&&(b.treeLoaded=!1,s[v]&&delete s[v])})):a.each(l,p=>{p.treeLoaded=!1}),g.treeExpandedMaps={},f&&(Tn(),i.handleTableData()),m.treeExpandedFlag++,se()},reloadTreeExpand(o){const{treeExpandLazyLoadedMaps:l}=g,s=Ft.value,d=s.hasChild||s.hasChildField,{transform:f,lazy:p}=s,v=Ge(i,o);return p&&o[d]&&!l[v]?i.clearTreeExpandLoaded(o).then(()=>hd(o)).then(()=>{f&&(Tn(),i.handleTableData()),m.treeExpandedFlag++}).then(()=>i.recalculate()):se()},reloadTreeChilds(o){return ot("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),i.reloadTreeExpand(o)},toggleTreeExpand(o){return i.setTreeExpand(o,!i.isTreeExpandByRow(o))},setAllTreeExpand(o){const{tableFullData:l}=g,s=Ft.value,{transform:d,lazy:f}=s,p=s.children||s.childrenField,v=[];return a.eachTree(l,b=>{const C=b[p];(f||C&&C.length)&&v.push(b)},{children:p}),i.setTreeExpand(v,o).then(()=>{if(d)return Tn(),m.treeExpandedFlag++,i.recalculate()})},setTreeExpand(o,l){const s=Ft.value,{transform:d}=s;return o&&(a.isArray(o)||(o=[o]),o.length)?d?zv(o,l):Rd(o,l):se()},isTreeExpandByRow(o){const{treeExpandedFlag:l}=m,{treeExpandedMaps:s}=g;return!!l&&!!s[Ge(i,o)]},clearTreeExpand(){const{tableFullTreeData:o}=g,l=Ft.value,s=l.children||l.childrenField,{transform:d,reserve:f}=l,p=i.getTreeExpandRecords();return g.treeExpandedMaps={},f&&a.eachTree(o,v=>vd(v,!1),{children:s}),i.handleTableData().then(()=>{d&&(Tn(),i.handleTableData()),m.treeExpandedFlag++}).then(()=>{if(qn(),p.length)return i.recalculate()})},clearTreeExpandReserve(){return g.treeExpandedReserveRowMap={},se()},getScroll(){return i.getScrollData()},getScrollData(){const{scrollXLoad:o,scrollYLoad:l,scrollbarHeight:s,scrollbarWidth:d}=m,{elemStore:f}=g,p=ct(f["main-body-scroll"]),v=p?p.scrollTop:0,b=p?p.scrollLeft:0,C=p?p.clientHeight:0,E=p?p.clientWidth:0,R=p?p.scrollHeight:0,O=p?p.scrollWidth:0,D=v<=0,P=v+C>=R,N=b<=0,T=b+E>=O;return{virtualX:o,virtualY:l,isTop:D,isBottom:P,isLeft:N,isRight:T,scrollbarHeight:s,scrollbarWidth:d,scrollTop:v,scrollLeft:b,scrollHeight:R,scrollWidth:O,clientHeight:C,clientWidth:E}},scrollTo(o,l){const{elemStore:s}=g,d=ct(s["main-header-scroll"]),f=ct(s["main-body-scroll"]),p=ct(s["main-footer-scroll"]),v=ct(s["left-body-scroll"]),b=ct(s["right-body-scroll"]),C=V.value,E=De.value;return g.intoRunScroll=!0,o&&(a.isNumber(o)||(l=o.top,o=o.left)),a.isNumber(o)&&(co(C,o),co(f,o),co(d,o),co(p,o),bl()),a.isNumber(l)&&(io(E,l),io(f,l),io(v,l),io(b,l),Hs()),m.scrollXLoad||m.scrollYLoad?new Promise(R=>{setTimeout(()=>{se(()=>{g.intoRunScroll=!1,R()})},30)}):se().then(()=>{g.intoRunScroll=!1})},scrollToRow(o,l){const{isAllOverflow:s,scrollYLoad:d,scrollXLoad:f}=m,p=[];return o&&(e.treeConfig?p.push(i.scrollToTreeRow(o)):p.push(_f(i,o))),l&&p.push(Qv(l,o)),Promise.all(p).then(()=>{if(o)return!s&&(d||f)&&(Is(),Oi()),se()})},scrollToStartRow(o){const{afterFullData:l}=g;return i.scrollToRow(l[0],o)},scrollToEndRow(o){const{afterFullData:l}=g;return i.scrollToRow(l[l.length-1],o)},scrollToColumn(o){const{fullColumnIdData:l}=g,s=vo(i,o);return s&&l[s.id]?Bf(i,s):se()},scrollToStartColumn(){const{visibleColumn:o}=g;return i.scrollToColumn(o[0])},scrollToEndColumn(){const{visibleColumn:o}=g;return i.scrollToColumn(o[o.length-1])},clearScroll(){const{elemStore:o,scrollXStore:l,scrollYStore:s}=g,d=ct(o["main-header-scroll"]),f=ct(o["main-body-scroll"]),p=ct(o["main-footer-scroll"]),v=ct(o["left-body-scroll"]),b=ct(o["right-body-scroll"]),C=V.value,E=De.value;return g.intoRunScroll=!0,co(C,0),co(f,0),co(d,0),co(p,0),io(E,0),io(f,0),io(v,0),io(b,0),l.startIndex=0,l.visibleStartIndex=0,l.endIndex=l.visibleSize,l.visibleEndIndex=l.visibleSize,s.startIndex=0,s.visibleStartIndex=0,s.endIndex=s.visibleSize,s.visibleEndIndex=s.visibleSize,se().then(()=>{g.lastScrollLeft=0,g.lastScrollTop=0,g.intoRunScroll=!1})},updateFooter(){const{showFooter:o,footerData:l,footerMethod:s}=e,{visibleColumn:d,afterFullData:f}=g;let p=[];return o&&l&&l.length?p=l.slice(0):o&&s&&(p=d.length?s({columns:d,data:f,$table:i,$grid:S,$gantt:F}):[]),m.footerTableData=p,i.handleUpdateFooterMerge(),i.dispatchEvent("footer-data-change",{visibleColumn:g.visibleColumn,footData:p},null),se()},updateStatus(o,l){return se().then(()=>{const{editRules:s}=e;if(o&&s)return i.handleCellRuleUpdateStatus("change",o,l)})},setMergeCells(o){return e.spanMethod&&We("vxe.error.errConflicts",["merge-cells","span-method"]),zn(o),i.handleUpdateBodyMerge(),se().then(()=>{const{expandColumn:l}=m,{mergeBodyList:s}=g;return l&&s.length&&ot("vxe.error.errConflicts",["type=expand","merge-cells | span-method"]),i.updateCellAreas(),Wo()})},removeMergeCells(o){e.spanMethod&&We("vxe.error.errConflicts",["merge-cells","span-method"]);const l=jl(o);return i.handleUpdateBodyMerge(),se().then(()=>(i.updateCellAreas(),Wo(),l))},getMergeCells(){return g.mergeBodyList.slice(0)},clearMergeCells(){return g.mergeBodyList=[],g.mergeBodyMaps={},g.mergeBodyCellMaps={},m.mergeBodyFlag++,se().then(()=>Wo())},setMergeHeaderCells(o){return Ei(o),i.handleUpdateHeaderMerge(),se().then(()=>Wo())},removeMergeHeaderCells(o){const l=Ul(o);return i.handleUpdateHeaderMerge(),se().then(()=>(Wo(),l))},getMergeHeaderCells(){return g.mergeHeaderList.slice(0)},clearMergeHeaderCells(){return g.mergeHeaderList=[],g.mergeHeaderMaps={},g.mergeHeaderCellMaps={},m.mergeHeadFlag++,se().then(()=>Wo())},setMergeFooterCells(o){return e.footerSpanMethod&&We("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]),Si(o),i.handleUpdateFooterMerge(),se().then(()=>Wo())},setMergeFooterItems(o){return i.setMergeFooterCells(o)},removeMergeFooterCells(o){e.footerSpanMethod&&We("vxe.error.errConflicts",["merge-footer-cells | merge-footer-items","footer-span-method"]);const l=Xl(o);return i.handleUpdateFooterMerge(),se().then(()=>(Wo(),l))},removeMergeFooterItems(o){return i.removeMergeFooterCells(o)},getMergeFooterCells(){return g.mergeFooterList.slice(0)},getMergeFooterItems(){return i.getMergeFooterCells()},clearMergeFooterCells(){return g.mergeFooterList=[],g.mergeFooterMaps={},g.mergeFooterCellMaps={},m.mergeFootFlag++,se().then(()=>Wo())},clearMergeFooterItems(){return i.clearMergeFooterCells()},updateCellAreas(){const{mouseConfig:o}=e,l=lo.value;return o&&l.area&&i.handleRecalculateCellAreaEvent?i.handleRecalculateCellAreaEvent():se()},getCustomStoreData(){const{id:o}=e,l=Mr.value,{isRowGroupStatus:s,rowGroupList:d}=m,{fullColumnFieldData:f,collectColumn:p}=g,{storage:v,checkMethod:b,storeOptions:C}=l,E=v===!0,R=Object.assign({},E?{}:v||{},C),O=Eo(R.resizable,E),D=Eo(R.visible,E),P=Eo(R.fixed,E),N=Eo(R.sort,E),T=Eo(R.aggGroup,E),z=Eo(R.aggFunc,E),G={},X=[],B={},A={},oe={},xe={},fe={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0,aggGroupData:void 0,aggFuncData:void 0};if(!o)return v&&We("vxe.error.reqProp",["id"]),fe;let Oe=0,$e=0,Se=0,_e=0,Ve=0;const ht={};return a.eachTree(p,(tt,vt,Et,Ct,Ke)=>{const mt=tt.getKey();if(!mt){We("vxe.error.reqProp",[`${tt.getTitle()||tt.type||""} -> column.field=?`]);return}if(Ke){if(N){const Mt=Ke.getKey(),gt=ht[Mt];if($e=1,gt){const to={k:mt};ht[mt]=to,gt.c||(gt.c=[]),gt.c.push(to)}}}else{if(N){$e=1;const Mt={k:mt};ht[mt]=Mt,X.push(Mt)}P&&(tt.fixed||"")!==(tt.defaultFixed||"")&&(Se=1,A[mt]=tt.fixed)}O&&tt.resizeWidth&&(Oe=1,G[mt]=tt.renderWidth),D&&(!b||b({$table:i,column:tt}))&&(!tt.visible&&tt.defaultVisible?(_e=1,B[mt]=!1):tt.visible&&!tt.defaultVisible&&(_e=1,B[mt]=!0)),z&&(tt.aggFunc||"")!==(tt.defaultAggFunc||"")&&(Ve=1,xe[mt]=tt.aggFunc)}),Oe&&(fe.resizableData=G),$e&&(fe.sortData=X),Se&&(fe.fixedData=A),_e&&(fe.visibleData=B),T&&s&&(d.forEach(tt=>{const vt=f[tt.field];vt&&(oe[vt.column.getKey()]=!0)}),fe.aggGroupData=oe),Ve&&(fe.aggFuncData=xe),fe},focus(){return g.isActivated=!0,se()},blur(){return g.isActivated=!1,se()},connect(o){return i.connectToolbar(o)},connectToolbar(o){return o?(at=o,at.syncUpdate({collectColumn:g.collectColumn,$table:i})):We("vxe.error.barUnableLink"),se()}};const Jv=o=>{const{editStore:l,ctxMenuStore:s,customStore:d}=m,{mouseConfig:f,editRules:p}=e,v=$.value,b=yo.value,C=Ot.value,E=Uo.value,{actived:R}=l,O=M.value,D=k.value,P=K.value,N=I.value;if(D&&(Jt(o,v,"vxe-cell--filter").flag||Jt(o,D.getRefMaps().refElem.value).flag||Jt(o,document.body,"vxe-table--ignore-clear").flag||te.preventEvent(o,"event.clearFilter",g._currFilterParams,L.closeFilter)),P&&(d.btnEl===o.target||Jt(o,document.body,"vxe-toolbar-custom-target").flag||Jt(o,P.getRefMaps().refElem.value).flag||Jt(o,document.body,"vxe-table--ignore-clear").flag||d.visible&&i.closeCustom&&te.preventEvent(o,"event.clearCustom",{},()=>{i.closeCustom(),i.dispatchEvent("custom",{type:"close"},o)})),R.row){if(b.autoClear!==!1){const z=R.args.cell;(!z||!Jt(o,z).flag)&&(O&&Jt(o,O.$el).flag||(!g._lastCallTime||g._lastCallTime+50<Date.now())&&(Jt(o,document.body,"vxe-table--ignore-clear").flag||te.preventEvent(o,"event.clearEdit",R.args,()=>{let G;if(b.mode==="row"){const X=Jt(o,v,"vxe-body--row"),B=X.flag?L.getRowNode(X.targetElem):null;G=B?!i.eqRow(B.item,R.args.row):!1}else G=!Jt(o,v,"col--edit").flag;if(G||(G=Jt(o,v,"vxe-header--row").flag),G||(G=Jt(o,v,"vxe-footer--row").flag),!G&&e.height&&!m.overflowY){const X=o.target;Hn(X,"vxe-table--body-wrapper")&&(G=o.offsetY<X.clientHeight)}(G||!Jt(o,v).flag)&&setTimeout(()=>{i.handleClearEdit(o).then(()=>{!g.isActivated&&p&&C.autoClear&&(m.validErrorMaps={})})})})))}}else if(f&&!Jt(o,v).flag&&!(j&&Jt(o,j.getRefMaps().refElem.value).flag)&&!(N&&Jt(o,N.getRefMaps().refElem.value).flag)&&!(at&&Jt(o,at.getRefMaps().refElem.value).flag)&&(i.clearSelected&&i.clearSelected(),E.autoClear&&i.getCellAreas)){const z=i.getCellAreas();z&&z.length&&!Jt(o,document.body,"vxe-table--ignore-areas-clear").flag&&te.preventEvent(o,"event.clearAreas",{},()=>{i.clearCellAreas(),i.clearCopyCellArea(),Nt("clear-cell-area-selection",{cellAreas:z},o)})}i.closeMenu&&s.visible&&N&&!Jt(o,N.getRefMaps().refElem.value).flag&&i.closeMenu();const T=Jt(o,j?j.getRefMaps().refElem.value:v).flag;!T&&p&&C.autoClear&&(m.validErrorMaps={}),g.isActivated=T},em=()=>{L.closeFilter(),i.closeMenu&&i.closeMenu()},tm=()=>{L.closeTooltip(),i.closeMenu&&i.closeMenu()},om=o=>{const{mouseConfig:l,keyboardConfig:s}=e,{filterStore:d,ctxMenuStore:f,editStore:p}=m,v=lo.value,b=Wt.value,{actived:C}=p;ho.hasKey(o,Hr.ESCAPE)&&te.preventEvent(o,"event.keydown",null,()=>{if(Nt("keydown-start",{},o),s&&l&&v.area&&i.handleKeyboardCellAreaEvent)i.handleKeyboardCellAreaEvent(o);else if((C.row||d.visible||f.visible)&&(o.stopPropagation(),i.closeMenu&&i.closeMenu(),L.closeFilter(),s&&b.isEsc&&C.row)){const R=C.args;i.handleClearEdit(o),v.selected&&se(()=>i.handleSelected(R,o))}Nt("keydown",{},o),Nt("keydown-end",{},o)})},rm=o=>{Nt("context-menu",{},o)},nm=o=>{g.isActivated&&i.preventEvent(o,"event.keydown",null,()=>{const{mouseConfig:l,keyboardConfig:s,treeConfig:d,editConfig:f,highlightCurrentRow:p,highlightCurrentColumn:v}=e,{ctxMenuStore:b,editStore:C,currentRow:E}=m,{afterFullData:R}=g,O=Sr.value,D=rr.value,P=Wt.value,N=lo.value,T=yo.value,z=Ft.value,G=zr.value,X=dt.value,B=wt.value,{selected:A,actived:oe}=C,xe=z.children||z.childrenField,fe=o.keyCode,Oe=ho.hasKey(o,Hr.ESCAPE),$e=ho.hasKey(o,Hr.BACKSPACE),Se=ho.hasKey(o,Hr.TAB),_e=ho.hasKey(o,Hr.ENTER),Ve=ho.hasKey(o,Hr.SPACEBAR),ht=ho.hasKey(o,Hr.ARROW_LEFT),tt=ho.hasKey(o,Hr.ARROW_UP),vt=ho.hasKey(o,Hr.ARROW_RIGHT),Et=ho.hasKey(o,Hr.ARROW_DOWN),Ct=ho.hasKey(o,Hr.DELETE),Ke=ho.hasKey(o,Hr.F2),mt=ho.hasKey(o,Hr.CONTEXT_MENU),Mt=oa(o),gt=o.shiftKey,to=o.altKey,oo=ht||tt||vt||Et,Vt=O&&b.visible&&(_e||Ve||oo),eo=it(f)&&oe.column&&oe.row,Bt=T.beforeEditMethod||T.activeMethod;if(Vt)o.preventDefault(),b.showChild&&vs(b.selected)?i.moveCtxMenu(o,b,"selectChild",ht,!1,b.selected.children):i.moveCtxMenu(o,b,"selected",vt,!0,G);else if(s&&l&&N.area&&i.handleKeyboardCellAreaEvent)i.handleKeyboardCellAreaEvent(o);else if(Oe){if(i.closeMenu&&i.closeMenu(),i.closeFilter(),s&&P.isEsc&&oe.row){const qt=oe.args;i.handleClearEdit(o),N.selected&&se(()=>i.handleSelected(qt,o))}}else if(Ve&&s&&P.isChecked&&A.row&&A.column&&(A.column.type==="checkbox"||A.column.type==="radio"))o.preventDefault(),A.column.type==="checkbox"?te.handleToggleCheckRowEvent(o,A.args):te.triggerRadioRowEvent(o,A.args);else if(Ke&&it(f))eo||A.row&&A.column&&(o.preventDefault(),i.handleEdit(A.args,o));else if(mt)g._keyCtx=A.row&&A.column&&D.length,clearTimeout(g.keyCtxTimeout),g.keyCtxTimeout=setTimeout(()=>{g._keyCtx=!1},1e3);else if(_e&&!to&&s&&P.isEnter&&(A.row||oe.row||d&&(X.isCurrent||p)&&E)){const{isLastEnterAppendRow:qt,beforeEnterMethod:Ht,enterMethod:wo}=P;if(Mt){if(oe.row){const ro=oe.args;i.handleClearEdit(o),N.selected&&se(()=>{i.handleSelected(ro,o)})}}else if(A.row||oe.row){const ro=A.row?A.args:oe.args;if(gt)P.enterToTab?i.moveTabSelected(ro,gt,o):i.moveEnterSelected(ro,ht,!0,vt,!1,o);else if(P.enterToTab)i.moveTabSelected(ro,gt,o);else{const Gt=A.row||oe.row,xo=A.column||oe.column,Ro=i.getVTRowIndex(Gt),mo={row:Gt,rowIndex:i.getRowIndex(Gt),$rowIndex:i.getVMRowIndex(Gt),_rowIndex:Ro,column:xo,columnIndex:i.getColumnIndex(xo),$columnIndex:i.getVMColumnIndex(xo),_columnIndex:i.getVTColumnIndex(xo),$table:i};if(!Ht||Ht(mo)!==!1){if(qt&&Ro>=R.length-1){i.insertAt({},-1).then(({row:gr})=>{i.scrollToRow(gr,xo),i.handleSelected(Object.assign(Object.assign({},ro),{row:gr}),o)}),i.dispatchEvent("enter-append-row",mo,o);return}i.moveEnterSelected(ro,ht,!1,vt,!0,o),wo&&wo(mo)}}}else if(d&&(X.isCurrent||p)&&E){const ro=E[xe];if(ro&&ro.length){o.preventDefault();const Gt=ro[0],xo={$table:i,row:Gt,rowIndex:i.getRowIndex(Gt),$rowIndex:i.getVMRowIndex(Gt)};i.setTreeExpand(E,!0).then(()=>i.scrollToRow(Gt)).then(()=>i.triggerCurrentRowEvent(o,xo))}}}else if(oo&&s&&P.isArrow)eo||(N.selected&&A.row&&A.column?i.moveArrowSelected(A.args,ht,tt,vt,Et,o):((tt||Et)&&(X.isCurrent||p)&&i.moveCurrentRow(tt,Et,o),(ht||vt)&&(B.isCurrent||v)&&i.moveCurrentColumn(ht,vt,o)));else if(Se&&s&&P.isTab)A.row||A.column?i.moveTabSelected(A.args,gt,o):(oe.row||oe.column)&&i.moveTabSelected(oe.args,gt,o);else if(s&&P.isDel&&Ct&&it(f)&&(A.row||A.column)){if(!eo){const{delMethod:qt}=P,Ht={row:A.row,rowIndex:L.getRowIndex(A.row),column:A.column,columnIndex:L.getColumnIndex(A.column),$table:i,$grid:S,$gantt:F};(!Bt||Bt(Ht))&&(qt?qt(Ht):on(A.row,A.column,null),L.updateFooter(),Nt("cell-delete-value",Ht,o))}}else if($e&&s&&P.isBack&&it(f)&&(A.row||A.column)){if(!eo){const{backMethod:qt}=P;if(P.isDel&&it(f)&&(A.row||A.column)){const Ht={row:A.row,rowIndex:i.getRowIndex(A.row),column:A.column,columnIndex:i.getColumnIndex(A.column),$table:i,$grid:S,$gantt:F};(!Bt||Bt(Ht))&&(qt?qt(Ht):(on(A.row,A.column,null),i.handleEdit(A.args,o)),Nt("cell-backspace-value",Ht,o))}}}else if($e&&s&&d&&P.isBack&&(X.isCurrent||p)&&E){const{parent:qt}=a.findTree(g.afterTreeFullData,Ht=>Ht===E,{children:xe});if(qt){o.preventDefault();const Ht={row:qt,rowIndex:i.getRowIndex(qt),$rowIndex:i.getVMRowIndex(qt),$table:i,$grid:S,$gantt:F};i.setTreeExpand(qt,!1).then(()=>i.scrollToRow(qt)).then(()=>i.triggerCurrentRowEvent(o,Ht))}}else if(s&&it(f)&&P.isEdit&&!Mt&&(Ve||fe>=48&&fe<=57||fe>=65&&fe<=90||fe>=96&&fe<=111||fe>=186&&fe<=192||fe>=219&&fe<=222)){const{editMode:qt,editMethod:Ht}=P;if(A.column&&A.row&&it(A.column.editRender)){const wo=T.beforeEditMethod||T.activeMethod,ro={row:A.row,rowIndex:i.getRowIndex(A.row),column:A.column,columnIndex:i.getColumnIndex(A.column),$table:i,$grid:S,$gantt:F};(!wo||wo(Object.assign(Object.assign({},A.args),{$table:i,$grid:S,$gantt:F})))&&(Ht?Ht(ro):(qt!=="insert"&&on(A.row,A.column,null),i.handleEdit(A.args,o)))}}Nt("keydown",{},o)})},lm=o=>{const{keyboardConfig:l,mouseConfig:s}=e,{editStore:d,filterStore:f}=m,{isActivated:p}=g,v=lo.value,b=Wt.value,{actived:C}=d;p&&!f.visible&&(C.row||C.column||l&&b.isClip&&s&&v.area&&i.handlePasteCellAreaEvent&&i.handlePasteCellAreaEvent(o),Nt("paste",{},o))},sm=o=>{const{keyboardConfig:l,mouseConfig:s}=e,{editStore:d,filterStore:f}=m,{isActivated:p}=g,v=lo.value,b=Wt.value,{actived:C}=d;p&&!f.visible&&(C.row||C.column||l&&b.isClip&&s&&v.area&&i.handleCopyCellAreaEvent&&i.handleCopyCellAreaEvent(o),Nt("copy",{},o))},am=o=>{const{keyboardConfig:l,mouseConfig:s}=e,{editStore:d,filterStore:f}=m,{isActivated:p}=g,v=lo.value,b=Wt.value,{actived:C}=d;p&&!f.visible&&(C.row||C.column||l&&b.isClip&&s&&v.area&&i.handleCutCellAreaEvent&&i.handleCutCellAreaEvent(o),Nt("cut",{},o))},Id=()=>{i.closeMenu&&i.closeMenu();const o=$.value;!o||!o.clientWidth||(xd(),i.updateCellAreas())},Sa=o=>{const l=ue.value;clearTimeout(g.tooltipTimeout),o?L.closeTooltip():l&&l.setActived&&l.setActived(!0)},xl=()=>{xr=null,Y.row=null},Ad=()=>{const{dragRow:o,dragCol:l}=m;(o||l)&&(Oa(),_i(),Cl(),xl(),m.dragRow=null,m.dragCol=null)},Jr=()=>{kd(),xl(),Qr(!1,!0,!0)},Un=()=>{fm(),xl(),Qr(!0,!0,!0)},_i=()=>{const o=$.value;if(o){const l="row--drag-origin";a.arrayEach(o.querySelectorAll(`.${l}`),s=>{s.draggable=!1,hr(s,l)})}},im=o=>{const l=$.value;if(l){const s="row--drag-origin",d=Ge(i,o);a.arrayEach(l.querySelectorAll(`[rowid="${d}"]`),f=>{Pr(f,s)})}},cm=o=>{const{dragConfig:l}=e,{dragRow:s}=m,d=Te.value,{tooltipMethod:f}=d,p=f||(l?l.rowTooltipMethod:null);let v="";p?v=`${p({$table:i,row:s})||""}`:v=en("vxe.table.dragTip",[o.textContent||""]),m.dragTipText=v},dm=o=>{const l=$.value;if(l){const s=[];a.eachTree([o],f=>{s.push(`[colid="${f.id}"]`)});const d="col--drag-origin";a.arrayEach(l.querySelectorAll(s.join(",")),f=>{Pr(f,d)})}},Oa=()=>{const o=$.value;if(o){const l="col--drag-origin";a.arrayEach(o.querySelectorAll(`.${l}`),s=>{s.draggable=!1,hr(s,l)})}},um=o=>{const{dragCol:l}=m,s=ze.value,{tooltipMethod:d}=s;let f="";d?f=`${d({$table:i,column:l})||""}`:f=en("vxe.table.dragTip",[o.textContent||""]),m.dragTipText=f},Kl=(o,l,s,d,f)=>{let p=$.value;if(F&&l){const{refGanttContainerElem:G}=F.getRefMaps(),X=G.value;X&&(p=X)}if(!p)return;const{overflowX:v,scrollbarWidth:b,overflowY:C,scrollbarHeight:E}=m,{prevDragToChild:R}=g,O=p.getBoundingClientRect(),D=C?b:0,P=v?E:0,N=p.clientWidth,T=p.clientHeight;if(l){const G=Je.value;if(G)if(d){const X=Lt.value,B=l.getBoundingClientRect();let A=l.clientHeight;const oe=Math.max(1,B.y-O.y);oe+A>T-P&&(A=T-oe-P),G.style.display="block",G.style.left=`${X?D:0}px`,G.style.top=`${oe}px`,G.style.height=`${A}px`,G.style.width=`${N-D}px`,G.setAttribute("drag-pos",f),G.setAttribute("drag-to-child",R?"y":"n")}else G.style.display=""}else if(s){const G=Ie.value;if(G)if(d){const X=et.value,B=de.value,A=B?B.clientWidth:0,oe=pe.value,xe=oe?oe.clientWidth:0,fe=s.getBoundingClientRect();let Oe=s.clientWidth;const $e=Math.max(0,fe.y-O.y),Se=A;let _e=fe.x-O.x;_e<Se&&(Oe-=Se-_e,_e=Se);const Ve=N-xe-(xe?0:D);_e+Oe>Ve&&(Oe=Ve-_e),G.style.display="block",G.style.top=`${$e}px`,G.style.left=`${_e}px`,G.style.width=`${Oe}px`,R?G.style.height=`${fe.height}px`:G.style.height=`${T-$e-(X?0:P)}px`,G.setAttribute("drag-pos",f),G.setAttribute("drag-to-child",R?"y":"n")}else G.style.display=""}const z=Fe.value;z&&(z.style.display="block",z.style.top=`${Math.min(p.clientHeight-p.scrollTop-z.clientHeight,o.clientY-O.y)}px`,z.style.left=`${Math.min(p.clientWidth-p.scrollLeft-z.clientWidth-16,o.clientX-O.x)}px`,z.setAttribute("drag-status",d?R?"sub":"normal":"disabled"))},Cl=()=>{const o=Fe.value,l=Je.value,s=Ie.value;o&&(o.style.display=""),l&&(l.style.display=""),s&&(s.style.display="")},kd=()=>{let o=$.value;const l=[".vxe-body--row"];if(F){const{refGanttContainerElem:s}=F.getRefMaps(),d=s.value;d&&(o=d),l.push(".vxe-gantt-view--body-row",".vxe-gantt-view--chart-row")}Cl(),_i(),sk(o,l),g.prevDragToChild=!1,m.dragRow=null,m.dragCol=null},fm=()=>{const o=$.value;Cl(),Oa(),ak(o,[".vxe-table--column"]),g.prevDragToChild=!1,m.dragRow=null,m.dragCol=null},Bi=(o,l,s,d,f,p,v)=>{const b=f||d;if(!b)return se();v.cell=d;const{tooltipStore:C}=m,{column:E,row:R}=v,{showAll:O,contentMethod:D}=l,P=D?D(v):null,N=D&&!a.eqNull(P),T=N?P:a.toString(E.type==="html"?b.innerText:b.textContent).trim(),z=b.scrollWidth>b.clientWidth;if(T&&(O||N||z)){const G=qo(T);Object.assign(C,{row:R,column:E,visible:!0,content:G,type:s,currOpts:l}),se(()=>{const X=ue.value;X&&X.open&&X.open(z?b:p,G)})}return se()},Ps=(o,l)=>{if(o){if(j)return j.callSlot(o,l);if(a.isFunction(o))return Oo(o(l))}return[]};te={getSetupOptions(){return $t()},updateAfterDataIndex:jn,callSlot:Ps,getParentElem(){const o=$.value;if(j){const l=j.getRefMaps().refElem.value;return l?l.parentNode:null}return o?o.parentNode:null},getParentHeight(){const{height:o}=e,l=$.value;if(l){const s=l.parentNode;let d=0,f=0;return s&&(F&&Hn(s,"vxe-gantt--table-wrapper")?f=F.getParentHeight():S&&Hn(s,"vxe-grid--table-wrapper")?f=S.getParentHeight():(f=s.clientHeight,d=o==="100%"||o==="auto"?Lc(s):0)),Math.floor(f-d)}return 0},getExcludeHeight(){return j?j.getExcludeHeight():0},defineField(o){const{treeConfig:l}=e,s=Zt.value,d=Ft.value,f=nt.value,p=lt.value,v=d.children||d.childrenField,b=Jl(i);return a.isArray(o)||(o=[o]),o.map(C=>(g.tableFullColumn.forEach(R=>{const{field:O,editRender:D}=R;if(O&&!a.has(C,O)&&!C[O]){let P=null;if(D){const{defaultValue:N}=D;a.isFunction(N)?P=N({column:R}):a.isUndefined(N)||(P=N)}a.set(C,O,P)}}),[f.labelField,p.checkField,p.labelField,s.labelField].forEach(R=>{R&&Cn(a.get(C,R))&&a.set(C,R,null)}),l&&d.lazy&&a.isUndefined(C[v])&&(C[v]=null),Cn(a.get(C,b))&&a.set(C,b,ra()),C))},handleTableData(o){const{scrollYLoad:l}=m,{scrollYStore:s,fullDataRowIdData:d}=g,f=g.xeGanttView;let p=g.afterFullData;o&&(Dv(),p=Tn());const v=l?p.slice(s.startIndex,s.endIndex):p.slice(0),b={};return v.forEach((C,E)=>{const R=Ge(i,C),O=d[R];O&&(O.$index=E),b[R]=C}),m.tableData=v,g.visibleDataRowIdData=b,f&&f.updateViewData&&f.updateViewData(o),se()},cacheRowMap(o){const{treeConfig:l}=e,{isRowGroupStatus:s}=m,{currKeyField:d,fullAllDataRowIdData:f,tableFullData:p,tableFullTreeData:v,tableFullGroupData:b,treeExpandedMaps:C,rowExpandedMaps:E,selectCheckboxMaps:R}=g,O=o?{}:Object.assign({},f),D={},P={},{handleUpdateRowId:N}=If(i),T=(z,G,X,B,A,oe,xe,fe)=>{let Oe=O[oe];P[oe]&&We("vxe.error.repeatKey",[d,oe]),Oe||(Oe={row:z,rowid:oe,seq:fe,index:-1,_index:-1,$index:-1,treeIndex:G,_tIndex:-1,items:X,parent:A,level:xe,height:0,resizeHeight:0,oTop:0,expandHeight:0},D[oe]=Oe,O[oe]=Oe),Oe.treeLoaded=!1,Oe.expandLoaded=!1,Oe.row=z,Oe.items=X,Oe.parent=A,Oe.level=xe,Oe.index=B,Oe.treeIndex=G,R[oe]&&(R[oe]=z),E[oe]&&(E[oe]=z),P[oe]=!0,D[oe]=Oe,O[oe]=Oe};if(l){const z=Ft.value,{lazy:G}=z,X=z.children||z.childrenField,B=z.hasChild||z.hasChildField;a.eachTree(v,(A,oe,xe,fe,Oe,$e)=>{const Se=N(A);l&&G&&(A[B]&&A[X]===void 0&&(A[X]=null),C[Se]&&(!A[X]||!A[X].length)&&delete C[Se]),T(A,oe,xe,Oe?-1:oe,Oe,Se,$e.length-1,Lf(fe))},{children:X})}else if(s){const z=_.value,{mapChildrenField:G}=z;a.eachTree(b,(X,B,A,oe,xe,fe)=>{const Oe=N(X);T(X,B,A,xe?-1:B,xe,Oe,fe.length-1,Lf(oe))},{children:G})}else p.forEach((z,G,X)=>{T(z,G,X,G,null,N(z),0,G+1)});g.fullDataRowIdData=D,g.fullAllDataRowIdData=O,m.treeExpandedFlag++},cacheSourceMap(o){const{treeConfig:l}=e,s=Ft.value,d=a.clone(o,!0),{handleUpdateRowId:f}=If(i),p={},v=b=>{const C=f(b);p[C]=b};if(l){const b=s.children||s.childrenField;a.eachTree(d,v,{children:s.transform?s.mapChildrenField:b})}else d.forEach(v);g.sourceDataRowIdData=p,g.tableSourceData=d},analyColumnWidth(){const{tableFullColumn:o}=g,l=wt.value,{width:s,minWidth:d}=l,f=[],p=[],v=[],b=[],C=[],E=[],R=[],O=[];o.forEach(D=>{s&&!D.width&&(D.width=s),d&&!D.minWidth&&(D.minWidth=d),D.visible&&(D.resizeWidth?f.push(D):D.width==="auto"?R.push(D):kc(D.width)?p.push(D):ps(D.width)?C.push(D):kc(D.minWidth)?v.push(D):D.minWidth==="auto"?b.push(D):ps(D.minWidth)?E.push(D):O.push(D))}),Object.assign(m.columnStore,{resizeList:f,pxList:p,pxMinList:v,autoMinList:b,scaleList:C,scaleMinList:E,autoList:R,remainList:O})},handleColResizeMousedownEvent(o,l,s){if(!(o.button===0))return;o.stopPropagation(),o.preventDefault();const{column:f}=s,{columnStore:p,overflowX:v,scrollbarHeight:b}=m,{visibleColumn:C}=g,{leftList:E,rightList:R}=p,O=St.value,D=v?b:0,P=$.value,N=de.value,T=pe.value,z=ge.value;if(!z)return;const G=l==="left",X=l==="right",B=z.firstElementChild,A=et.value,{clientX:oe}=o,xe=o.target;let fe=xe.parentElement,Oe=f;const $e=f.children&&f.children.length;if($e&&(Oe=W0(f),$e)){const eo=fe?fe.parentElement:null,Bt=eo?eo.parentElement:null;fe=Bt?Bt.querySelector(`.vxe-header--column[colid="${Oe.id}"]`):null}if(!fe)return;const Se=a.assign(s,{cell:fe,$table:i});let _e=0;const Ve=P.getBoundingClientRect(),ht=T?T.getBoundingClientRect():null,tt=fe.getBoundingClientRect(),vt=xe.getBoundingClientRect(),Et=xe.clientWidth,Ct=a.floor(Et/2),Ke=vt.x-Ve.x+Ct,mt=Hf(Se)-Ct,Mt=X?0:tt.x-Ve.x+Et+mt,gt=tt.x-Ve.x+fe.clientWidth-mt;let to=0,oo=0;if(G||X){let eo=!1;const Bt=G?E:R;for(let qt=0;qt<Bt.length;qt++){const Ht=Bt[qt];eo?to+=Ht.renderWidth:(eo=Ht.id===Oe.id,eo||(oo+=Ht.renderWidth))}}const Vt=eo=>{eo.stopPropagation(),eo.preventDefault();const Bt=P.clientHeight,qt=eo.clientX-oe;let Ht=Ke+qt;G?ht&&(Ht=Math.min(Ht,ht.x-Ve.x-to-mt)):X&&(N&&(Ht=Math.max(Ht,N.clientWidth+oo+mt)),Ht=Math.min(Ht,gt)),_e=Math.max(Ht,Mt);const wo=Math.max(1,_e);if(z.style.left=`${wo}px`,z.style.top=`${A?D:0}px`,z.style.height=`${A?Bt-D:Bt}px`,O.showDragTip&&B){B.textContent=en("vxe.table.resizeColTip",[Math.floor(Oe.renderWidth+(X?Ke-_e:_e-Ke))]);const ro=P.clientWidth,Gt=z.clientWidth,xo=B.clientWidth,Ro=B.clientHeight;let mo=-xo;wo<xo+Gt?mo=0:wo>ro&&(mo+=ro-wo),B.style.left=`${mo}px`,B.style.top=`${Math.min(Bt-Ro,Math.max(0,eo.clientY-Ve.y-Ro/2))}px`}m.isDragResize=!0};m.isDragResize=!0,Pr(P,"col-drag--resize"),z.style.display="block",document.onmousemove=Vt,document.onmouseup=function(eo){document.onmousemove=null,document.onmouseup=null,z.style.display="none",g._lastResizeTime=Date.now(),setTimeout(()=>{m.isDragResize=!1},50);const Bt=Oe.renderWidth+(X?Ke-_e:_e-Ke),qt=Object.assign(Object.assign({},s),{resizeWidth:Bt,resizeColumn:Oe});O.dragMode==="fixed"&&C.forEach(Ht=>{Ht.id!==Oe.id&&(Ht.resizeWidth||(Ht.resizeWidth=Ht.renderWidth))}),i.handleColResizeCellAreaEvent?i.handleColResizeCellAreaEvent(eo,qt):(Oe.resizeWidth=Bt,Fd(eo,qt)),hr(P,"col-drag--resize")},Vt(o),i.closeMenu&&i.closeMenu()},handleColResizeDblclickEvent(o,l){const s=St.value,{isDblclickAutoWidth:d}=s,f=$.value;if(d&&f){o.stopPropagation(),o.preventDefault();const{fullColumnIdData:p}=g,{column:v}=l;let b=v;v.children&&v.children.length&&a.eachTree(v.children,z=>{b=z});const C=b.id,E=p[C],O=o.target.parentNode,D=Object.assign(l,{cell:O,$table:i}),P=Hf(D);f.setAttribute("data-calc-col","Y");let N=pd(b,f);f.removeAttribute("data-calc-col"),E&&(N=Math.max(N,E.width)),N=Math.max(P,N);const T=Object.assign(Object.assign({},l),{resizeWidth:N,resizeColumn:b});m.isDragResize=!1,g._lastResizeTime=Date.now(),i.handleColResizeDblclickCellAreaEvent?i.handleColResizeDblclickCellAreaEvent(o,T):(b.resizeWidth=N,Fd(o,T))}},handleRowResizeMousedownEvent(o,l){o.stopPropagation(),o.preventDefault();const{row:s}=l,{showOverflow:d}=e,{overflowX:f,scrollbarWidth:p,overflowY:v,scrollbarHeight:b}=m,{elemStore:C,fullAllDataRowIdData:E}=g,R=v?p:0,O=f?b:0,D=Lt.value,P=St.value,N=dt.value,T=At.value;let z=$.value;if(F){const{refGanttContainerElem:Mt}=F.getRefMaps(),gt=Mt.value;gt&&(z=gt)}const G=ce.value;if(!G)return;const{clientY:X}=o,B=G.firstElementChild,oe=o.currentTarget.parentNode,xe=oe.parentNode;if(!ct(C["main-body-scroll"]))return;const Oe=Ge(i,s),$e=E[Oe];if(!$e)return;const Se=ut.value;let _e=$e.resizeHeight||T.height||N.height||$e.height||Se;d||(_e=oe.clientHeight);const Ve=z.getBoundingClientRect(),ht=xe.getBoundingClientRect(),tt=X-ht.y-xe.clientHeight;let vt=_e;const Et=oe.querySelector(".vxe-cell");let Ct=0;if(Et){const Mt=getComputedStyle(Et);Ct=Math.max(1,Math.ceil(a.toNumber(Mt.paddingTop)+a.toNumber(Mt.paddingBottom)))}const Ke=ht.y-Ve.y+Ct,mt=Mt=>{Mt.stopPropagation(),Mt.preventDefault();const gt=z.clientWidth-R,to=z.clientHeight-O;let oo=Mt.clientY-Ve.y-tt;if(oo<Ke?oo=Ke:vt=Math.max(Ct,_e+Mt.clientY-X),G.style.left=`${D?R:0}px`,G.style.top=`${oo}px`,G.style.width=`${gt}px`,P.showDragTip&&B){B.textContent=en("vxe.table.resizeRowTip",[vt]);const Vt=B.clientWidth,eo=B.clientHeight;let Bt=Math.max(2,Mt.clientX-Ve.x),qt=0;Bt+Vt>=gt-2&&(Bt=gt-Vt-2),oo+eo>=to&&(qt=to-(oo+eo)),B.style.left=`${Bt}px`,B.style.top=`${qt}px`}m.isDragResize=!0};m.isDragResize=!0,Pr(z,"row-drag--resize"),G.style.display="block",document.onmousemove=mt,document.onmouseup=function(Mt){if(document.onmousemove=null,document.onmouseup=null,G.style.display="none",g._lastResizeTime=Date.now(),setTimeout(()=>{m.isDragResize=!1},50),vt!==_e){const gt=Object.assign(Object.assign({},l),{resizeHeight:vt,resizeRow:s});g.isResizeCellHeight=!0,i.handleRowResizeCellAreaEvent?i.handleRowResizeCellAreaEvent(Mt,gt):($e.resizeHeight=vt,$d(Mt,gt),lr())}hr(z,"row-drag--resize")},mt(o)},handleRowResizeDblclickEvent(o,l){const s=St.value,{isDblclickAutoHeight:d}=s,f=$.value;if(d&&f){o.stopPropagation(),o.preventDefault();const{editStore:p}=m,{fullAllDataRowIdData:v}=g,{actived:b}=p,{row:C}=l,E=Ge(i,C),R=v[E];if(!R)return;const O=()=>{f.setAttribute("data-calc-row","Y");const D=Fi(R,f);f.removeAttribute("data-calc-row");const P=Object.assign(Object.assign({},l),{resizeHeight:D,resizeRow:C});m.isDragResize=!1,g._lastResizeTime=Date.now(),i.handleRowResizeDblclickCellAreaEvent?i.handleRowResizeDblclickCellAreaEvent(o,P):(R.resizeHeight=D,$d(o,P))};b.row||b.column?i.clearEdit().then(O):O()}},saveCustomStore(o){const{customConfig:l}=e,s=He.value,d=Mr.value,{updateStore:f,storage:p,storeOptions:v}=d,b=p===!0,C=Object.assign({},b?{}:p||{},v),E=Eo(C.resizable,b),R=Eo(C.visible,b),O=Eo(C.fixed,b),D=Eo(C.sort,b),P=Eo(C.aggGroup,b),N=Eo(C.aggFunc,b);if(o!=="reset"&&(m.isCustomStatus=!0),p&&(l?it(d):d.enabled)&&(E||R||O||D||P||N)){if(!s)return We("vxe.error.reqProp",["id"]),se();const T=o==="reset"?{resizableData:{},sortData:[],visibleData:{},fixedData:{},aggGroupData:{},aggFuncData:{}}:L.getCustomStoreData();if(f)return f({$table:i,id:s,type:o,storeData:T});ma(s,o==="reset"?null:T)}return se()},handleCustom(){const{mouseConfig:o}=e;return o&&(i.clearSelected&&i.clearSelected(),i.clearCellAreas&&(i.clearCellAreas(),i.clearCopyCellArea())),te.analyColumnWidth(),L.refreshColumn(!0)},handleUpdateDataQueue(){m.upDataFlag++},handleRefreshColumnQueue(){m.reColumnFlag++},handleFilterOptions(o){if(o){const{filterStore:l}=m,{filterRender:s,filters:d}=o,f=d||[],p=it(s)?ja.get(s.name):null,v=o.filterRecoverMethod||(p?p.tableFilterRecoverMethod||p.filterRecoverMethod:null);l.column=o,f.forEach(b=>{const{_checked:C,checked:E}=b;b._checked=E,!E&&C!==E&&v&&v({option:b,column:o,$table:i})}),i.checkFilterOptions()}},preventEvent(o,l,s,d,f){let p=bg.get(l);!p.length&&l==="event.clearEdit"&&(p=bg.get("event.clearActived"),p.length&&ot("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let v=null,b=!1;for(let C=0;C<p.length;C++){const E=p[C],R=E(Object.assign({$table:i,$grid:S,gantt:F,$event:o},s));if(R===!1){b=!0;break}else if(R&&R.status===!1){v=R.result,b=!0;break}}return b||d&&(v=d()),f&&f(),v},updateCheckboxStatus(){const{treeConfig:o}=e,{isRowGroupStatus:l}=m,{afterTreeFullData:s,afterGroupFullData:d,selectCheckboxMaps:f,treeIndeterminateRowMaps:p}=g,v=_.value,b=Ft.value,C=b.children||b.childrenField,E=lt.value,{checkField:R,indeterminateField:O,checkStrictly:D,checkMethod:P}=E;if(!D){if(l||o){const{handleGetRowId:N}=So(i),T={},z=[];if(l){const G=v.mapChildrenField;G&&a.eachTree(d,X=>{const B=N(X),A=X[G];A&&A.length&&!T[B]&&(T[B]=1,z.unshift([X,B,A]))},{children:G})}else if(o){const{transform:G,mapChildrenField:X}=b;a.eachTree(s,B=>{const A=N(B),oe=B[G?X:C];oe&&oe.length&&!T[A]?(T[A]=1,z.unshift([B,A,oe])):O&&a.set(B,O,!1)},{children:G?X:C})}z.forEach(G=>{const X=G[0],B=G[1],A=G[2];let oe=0,xe=0,fe=0;const Oe=A.length;A.forEach(P?_e=>{const Ve=N(_e),ht=R?a.get(_e,R):f[Ve];P({$table:i,row:_e})?(ht?oe++:p[Ve]&&xe++,fe++):ht?oe++:p[Ve]&&xe++}:_e=>{const Ve=N(_e);(R?a.get(_e,R):f[Ve])?oe++:p[Ve]&&xe++,fe++});let $e=!1;Oe>0?fe>0?$e=(oe>0||xe>0)&&oe>=fe:oe>0&&oe>=fe||f[B]?$e=!0:$e=!1:$e=f[B];const Se=!$e&&(oe>0||xe>0);R&&a.set(X,R,$e),O&&a.set(X,O,Se),$e?(R||(f[B]=X),p[B]&&delete p[B]):(R||f[B]&&delete f[B],Se?p[B]=X:p[B]&&delete p[B])})}m.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:o}=e,{isRowGroupStatus:l}=m,{afterFullData:s,afterTreeFullData:d,afterGroupFullData:f,checkboxReserveRowMap:p,selectCheckboxMaps:v,treeIndeterminateRowMaps:b}=g,C=_.value,{mapChildrenField:E}=C,R=lt.value,{checkField:O,checkMethod:D,showReserveStatus:P}=R,{handleGetRowId:N}=So(i);let T=0,z=0,G=0,X=0,B=0;const A=o?d:l?f:s;A.forEach(D?fe=>{const Oe=N(fe),$e=O?a.get(fe,O):v[Oe];if(l&&i.isAggregateRecord(fe)){const Se=fe[E||""];$e?(B++,T++):b[Oe]?(B++,G++):Se&&Se.length&&Se.some(_e=>D({$table:i,row:_e}))&&B++}else D({$table:i,row:fe})?($e?T++:b[Oe]&&G++,B++):$e?z++:b[Oe]&&X++}:fe=>{const Oe=N(fe);(O?a.get(fe,O):v[Oe])?T++:b[Oe]&&G++,B++});const oe=A.length>0?B>0?T>=B:T>=A.length:!1;let xe=!oe&&(T>0||G>0||z>0||X>0);!oe&&!xe&&P&&(xe=!a.isEmpty(p)),m.isAllSelected=oe,m.isIndeterminate=xe},checkSelectionStatus(){i.updateCheckboxStatus(),i.updateAllCheckboxStatus()},handleBatchSelectRows(o,l,s){const{treeConfig:d}=e,{isRowGroupStatus:f}=m,{selectCheckboxMaps:p}=g,v=_.value,b=Ft.value,{transform:C,mapChildrenField:E}=b,R=b.children||b.childrenField,O=lt.value,{checkField:D,checkStrictly:P,checkMethod:N}=O,{handleGetRowId:T}=So(i),z=O.indeterminateField||O.halfField;if(D){if((d||f)&&!P){a.eachTree(o,G=>{(s||!N||N({$table:i,row:G}))&&(a.set(G,D,l),z&&a.set(G,z,!1),hl(G,l))},{children:C?E:R}),m.updateCheckboxFlag++;return}o.forEach(G=>{(s||!N||N({$table:i,row:G}))&&(a.set(G,D,l),hl(G,l))}),m.updateCheckboxFlag++;return}if(!P){if(f){a.eachTree(o,G=>{const X=T(G);(s||!N||N({$table:i,row:G}))&&(l?p[X]=G:p[X]&&delete p[X],hl(G,l))},{children:v.mapChildrenField}),m.updateCheckboxFlag++;return}else if(d){a.eachTree(o,G=>{const X=T(G);(s||!N||N({$table:i,row:G}))&&(l?p[X]=G:p[X]&&delete p[X],hl(G,l))},{children:C?E:R}),m.updateCheckboxFlag++;return}}o.forEach(G=>{const X=T(G);(s||!N||N({$table:i,row:G}))&&(l?p[X]||(p[X]=G):p[X]&&delete p[X],hl(G,l),m.updateCheckboxFlag++)})},handleSelectRow({row:o},l,s){i.handleBatchSelectRows([o],l,s)},handleUpdateBodyMerge(){const{mergeBodyList:o}=g;g.mergeBodyCellMaps=$n(o),m.mergeBodyFlag++},handleUpdateHeaderMerge(){const{mergeHeaderList:o}=g;g.mergeHeaderCellMaps=$n(o),m.mergeHeadFlag++},handleUpdateFooterMerge(){const{mergeFooterList:o}=g;g.mergeFooterCellMaps=$n(o),m.mergeFootFlag++},handleAggregateSummaryData(){return i.refreshAggregateCalcValues()},triggerHeaderTitleEvent(o,l,s){const d=l.content||l.message;if(d){const{tooltipStore:f}=m,{column:p}=s,v=Sn(d);Sa(!0),f.row=null,f.column=p,f.visible=!0,f.currOpts=l,se(()=>{const b=ue.value;b&&b.open&&b.open(o.currentTarget,v)})}},triggerHeaderTooltipEvent(o,l){const{tooltipStore:s}=m,d=zt.value,{column:f}=l;Sa(!0);const p=o.currentTarget;if(!p)return;const v=p.parentElement;if(!v)return;const b=v.parentElement;if(!b)return;const C=b.parentElement;if(C&&(s.column!==f||!s.visible)){const E=C.querySelector(".vxe-cell--title");Bi(o,d,"header",C,(Hn(C,"col--ellipsis")?E:v)||v,E||b,l)}},triggerBodyTooltipEvent(o,l){const{editConfig:s}=e,{editStore:d}=m,{tooltipStore:f}=m,p=Tt.value,v=yo.value,{actived:b}=d,{row:C,column:E}=l,R=o.currentTarget;if(Sa(f.column!==E||f.row!==C),!(E.editRender&&it(s)&&(v.mode==="row"&&b.row===C||b.row===C&&b.column===E))&&(f.column!==E||f.row!==C||!f.visible)){const O=R.querySelector(".vxe-cell--wrapper");let D=null,P=R.querySelector(E.type==="html"?".vxe-cell--html":".vxe-cell--label");E.treeNode&&(D=R.querySelector(".vxe-tree-cell")),P||(P=O),Bi(o,p,"body",R,D||O,P,l)}},triggerFooterTooltipEvent(o,l){const{column:s}=l,{tooltipStore:d}=m,f=ao.value,p=o.currentTarget;if(Sa(d.column!==s||!!d.row),d.column!==s||!d.visible){const v=p.querySelector(".vxe-cell--wrapper");let b=null,C=p.querySelector(s.type==="html"?".vxe-cell--html":".vxe-cell--label");s.type==="html"&&(b=p.querySelector(".vxe-cell--html")),C||(C=v),Bi(o,f,"footer",p,b||v,C,l)}},handleTargetLeaveEvent(){const o=Tt.value;let l=ue.value;l&&l.setActived&&l.setActived(!1),o.enterable?g.tooltipTimeout=setTimeout(()=>{l=ue.value,l&&l.isActived&&!l.isActived()&&i.closeTooltip()},o.leaveDelay):i.closeTooltip()},triggerHeaderCellClickEvent(o,l){const{_lastResizeTime:s}=g,d=Io.value,f=wt.value,p=Kt.value,{column:v}=l,b=o.currentTarget,C=s&&s>Date.now()-300,E=Jt(o,b,"vxe-cell--sort").flag,R=Jt(o,b,"vxe-cell--filter").flag;d.trigger==="cell"&&!(C||E||R)&&i.triggerSortEvent(o,v,Gl(v)),Nt("header-cell-click",Object.assign({triggerResizable:C,triggerSort:E,triggerFilter:R,cell:b},l),o),(f.isCurrent||e.highlightCurrentColumn)&&(!p.trigger||["header","default"].includes(p.trigger))&&i.triggerCurrentColumnEvent(o,l)},triggerHeaderCellDblclickEvent(o,l){Nt("header-cell-dblclick",Object.assign({cell:o.currentTarget},l),o)},triggerCellClickEvent(o,l){const{treeConfig:s,highlightCurrentRow:d,highlightCurrentColumn:f,editConfig:p,aggregateConfig:v,rowGroupConfig:b}=e,{editStore:C,isDragResize:E,expandColumn:R,checkboxColumn:O,radioColumn:D}=m;if(E)return;const P=Zt.value,N=yo.value,T=Ft.value,z=nt.value,G=lt.value,X=Wt.value,B=_.value,A=dt.value,oe=wt.value,xe=Kt.value,{actived:fe,focused:Oe}=C,{row:$e,column:Se}=l,{type:_e,treeNode:Ve,rowGroupNode:ht}=Se,tt=_e==="radio",vt=_e==="checkbox",Et=_e==="expand",Ct=o.currentTarget,Ke=tt&&Jt(o,Ct,"vxe-cell--radio").flag,mt=vt&&Jt(o,Ct,"vxe-cell--checkbox").flag,Mt=Ve&&Jt(o,Ct,"vxe-cell--tree-btn").flag,gt=Et&&Jt(o,Ct,"vxe-table--expanded").flag,to=Et&&Jt(o,Ct,"vxe-row-group--node-btn").flag;l=Object.assign({cell:Ct,triggerRadio:Ke,triggerCheckbox:mt,triggerTreeNode:Mt,triggerExpandNode:gt},l),!mt&&!Ke&&(!gt&&(R&&P.trigger==="row"||Et&&P.trigger==="cell")&&i.triggerRowExpandEvent(o,l),s&&(T.trigger==="row"||Ve&&T.trigger==="cell")&&i.triggerTreeExpandEvent(o,l),(v||b)&&(B.trigger==="row"||ht&&B.trigger==="cell")&&i.triggerRowGroupExpandEvent(o,l)),Mt||(!gt&&!to&&((A.isCurrent||d)&&!mt&&!Ke&&i.triggerCurrentRowEvent(o,l),(oe.isCurrent||f)&&(!xe.trigger||["cell","default"].includes(xe.trigger))&&!mt&&!Ke&&i.triggerCurrentColumnEvent(o,l),!Ke&&(D&&z.trigger==="row"||tt&&z.trigger==="cell")&&i.triggerRadioRowEvent(o,l),!mt&&(O&&G.trigger==="row"||vt&&G.trigger==="cell")&&i.handleToggleCheckRowEvent(o,l)),it(p)&&(X.arrowCursorLock&&o&&N.mode==="cell"&&o.target&&/^input|textarea$/i.test(o.target.tagName)&&(Oe.column=Se,Oe.row=$e),N.trigger==="manual"?fe.args&&fe.row===$e&&Se!==fe.column&&Ti(o,l):(!fe.args||$e!==fe.row||Se!==fe.column)&&(N.trigger==="click"||N.trigger==="dblclick"&&N.mode==="row"&&fe.row===$e)&&Ti(o,l))),it(p)&&N.trigger==="dblclick"&&fe.row&&fe.column&&(N.mode==="row"?i.eqRow(fe.row,$e)||i.handleClearEdit(o):N.mode==="cell"&&(!i.eqRow(fe.row,$e)||fe.column.id!==Se.id)&&i.handleClearEdit(o)),Nt("cell-click",l,o)},triggerCellDblclickEvent(o,l){const{editConfig:s}=e,{editStore:d,isDragResize:f}=m;if(f)return;const p=yo.value,{actived:v}=d,b=o.currentTarget;l=Object.assign({cell:b},l),it(s)&&p.trigger==="dblclick"&&(!v.args||o.currentTarget!==v.args.cell)&&(p.mode==="row"?As("blur").catch(C=>C).then(()=>{i.handleEdit(l,o).then(()=>As("change")).catch(C=>C)}):p.mode==="cell"&&i.handleEdit(l,o).then(()=>As("change")).catch(C=>C)),Nt("cell-dblclick",l,o)},handleToggleCheckRowEvent(o,l){const{selectCheckboxMaps:s}=g,d=lt.value,{checkField:f,trigger:p}=d,{row:v}=l;if(p==="manual")return;let b=!1;f?b=!a.get(v,f):b=!s[Ge(i,v)],o?i.triggerCheckRowEvent(o,l,b):(i.handleBatchSelectRows([v],b),i.checkSelectionStatus())},triggerCheckRowEvent(o,l,s){const{treeConfig:d}=e,{row:f}=l,{isRowGroupStatus:p}=m,{afterFullData:v}=g,b=lt.value,{checkMethod:C,trigger:E}=b;if(E!=="manual"){if(o.stopPropagation(),b.isShiftKey&&o.shiftKey&&!(d||p)){const R=i.getCheckboxRecords();if(R.length){const O=R[0],D=i.getVTRowIndex(f),P=i.getVTRowIndex(O);if(D!==P){i.setAllCheckboxRow(!1);const N=D<P?v.slice(D,P+1):v.slice(P,D+1);se(()=>{vl(N,!0,!1)}),Nt("checkbox-range-select",Object.assign({rangeRecords:N},l),o);return}}}(p||!C||C({$table:i,row:f}))&&(i.handleBatchSelectRows([f],s),i.checkSelectionStatus(),Nt("checkbox-change",Object.assign({records:()=>i.getCheckboxRecords(),reserves:()=>i.getCheckboxReserveRecords(),indeterminates:()=>i.getCheckboxIndeterminateRecords(),checked:s},l),o))}},triggerCheckAllEvent(o,l){const s=lt.value,{trigger:d}=s;d!=="manual"&&(o&&o.stopPropagation(),Od(o,l))},triggerRadioRowEvent(o,l){const{selectRadioRow:s}=m,{row:d}=l,f=nt.value,{trigger:p,checkMethod:v}=f;if(p!=="manual"&&(o.stopPropagation(),!v||v({$table:i,row:d}))){let b=d,C=s!==b;C?ks(b):f.strict||(C=s===b,C&&(b=null,i.clearRadioRow())),C&&Nt("radio-change",Object.assign({oldValue:s,newValue:b},l),o)}},triggerCurrentColumnEvent(o,l){const{currentColumn:s}=m,d=wt.value,f=Kt.value,p=f.beforeSelectMethod||d.currentMethod,{column:v}=l,{trigger:b}=f;if(b==="manual")return;const C=s!==v;!p||p({column:v,$table:i})?(i.setCurrentColumn(v),C&&Nt("current-column-change",Object.assign({oldValue:s,newValue:v},l),o)):Nt("current-column-disabled",l,o)},triggerCurrentRowEvent(o,l){const{currentRow:s}=m,d=dt.value,f=Ee.value,p=f.beforeSelectMethod||d.currentMethod,{row:v}=l,{trigger:b}=f;if(b==="manual")return;const C=s!==v;!p||p({row:v,$table:i})?(i.setCurrentRow(v),C&&(Nt("current-row-change",Object.assign({oldValue:s,newValue:v},l),o),Nt("current-change",Object.assign({oldValue:s,newValue:v},l),o))):Nt("current-row-disabled",l,o)},triggerRowExpandEvent(o,l){const{expandColumn:s}=m,{rowExpandLazyLoadedMaps:d}=g,f=Zt.value,{row:p}=l,{lazy:v,trigger:b}=f;if(b==="manual")return;o.stopPropagation();const C=Ge(i,p);if(!v||!d[C]){const E=!i.isRowExpandByRow(p),R=s?i.getColumnIndex(s):-1,O=s?i.getVMColumnIndex(s):-1;i.setRowExpand(p,E),Nt("toggle-row-expand",{expanded:E,column:s,columnIndex:R,$columnIndex:O,row:p,rowIndex:i.getRowIndex(p),$rowIndex:i.getVMRowIndex(p)},o)}},triggerRowGroupExpandEvent(o,l){const{rowGroupExpandedMaps:s}=g,d=_.value,{row:f,column:p}=l,{trigger:v}=d;if(v==="manual")return;o.stopPropagation();const b=Ge(i,f),C=!s[b],E=i.getColumnIndex(p),R=i.getVMColumnIndex(p);i.setRowGroupExpand(f,C),Nt("toggle-row-group-expand",{expanded:C,column:p,columnIndex:E,$columnIndex:R,row:f},o)},triggerTreeExpandEvent(o,l){const{treeExpandLazyLoadedMaps:s,treeEATime:d}=g,f=Ft.value,{row:p,column:v}=l,{lazy:b,trigger:C,accordion:E}=f;if(C==="manual")return;o.stopPropagation();const R=Ge(i,p);if(!b||!s[R]){const O=!i.isTreeExpandByRow(p),D=i.getColumnIndex(v),P=i.getVMColumnIndex(v);d&&clearTimeout(d),i.setTreeExpand(p,O).then(()=>{E&&(g.treeEATime=setTimeout(()=>{g.treeEATime=void 0,i.scrollToRow(p)},30))}),Nt("toggle-tree-expand",{expanded:O,column:v,columnIndex:D,$columnIndex:P,row:p},o)}},handleColumnSortEvent(o,l){const{mouseConfig:s}=e,d=lo.value,{field:f,sortable:p,order:v}=l;if(p){const b={$table:i,$event:o,column:l,field:f,property:f,order:v,sortList:L.getSortColumns(),sortTime:l.sortTime};s&&d.area&&i.handleSortEvent&&i.handleSortEvent(o,b),v||Nt("clear-sort",b,o),Nt("sort-change",b,o)}},triggerSortEvent(o,l,s){const d=Io.value,{multiple:f,allowClear:p}=d,{field:v,sortable:b}=l;b&&(!s||l.order===s?p&&i.clearSort(f?l:null):i.sort({field:v,order:s}),i.handleColumnSortEvent(o,l))},handleCellRuleUpdateStatus(o,l,s){const{validStore:d}=m,{row:f,column:p}=l;if(i.hasCellRules&&i.hasCellRules(o,f,p)){const v=i.getCellElement(f,p);if(v){const b=!a.isUndefined(s);return i.validCellRules(o,f,p,s).then(()=>{b&&d.visible&&on(f,p,s),i.clearValidate(f,p)}).catch(({rule:C})=>{b&&on(f,p,s),i.showValidTooltip({rule:C,row:f,column:p,cell:v})})}}return se()},triggerHeaderCellMousedownEvent(o,l){const{mouseConfig:s}=e,d=lo.value,f=wt.value,p=ze.value,{trigger:v,isCrossDrag:b,isPeerDrag:C,disabledMethod:E}=p,R=o.currentTarget,O=R&&R.tagName&&R.tagName.toLowerCase()==="input",D=Jt(o,R,"vxe-cell--checkbox").flag,P=Jt(o,R,"vxe-cell--sort").flag,N=Jt(o,R,"vxe-cell--filter").flag;let T=!1;const z=f.drag&&v==="cell";if(!(O||D||P||N)){const{column:G}=l;z&&!G.fixed&&(b||C||!G.parentId)&&!(E&&E(l))&&(T=!0,i.handleHeaderCellDragMousedownEvent(o,l))}!T&&s&&d.area&&i.handleHeaderCellAreaMouseDnEvent&&i.handleHeaderCellAreaMouseDnEvent(o,Object.assign({cell:R,triggerSort:P,triggerFilter:N},l)),i.focus(),i.closeMenu&&i.closeMenu()},triggerCellMousedownEvent(o,l){const{column:s}=l,{type:d,treeNode:f}=s,p=d==="radio",v=d==="checkbox",b=d==="expand",C=dt.value,E=Te.value,{trigger:R,isCrossDrag:O,isPeerDrag:D,disabledMethod:P}=E,N=o.currentTarget;l.cell=N;const T=N&&N.tagName&&N.tagName.toLowerCase()==="input",z=p&&Jt(o,N,"vxe-cell--radio").flag,G=v&&Jt(o,N,"vxe-cell--checkbox").flag,X=f&&Jt(o,N,"vxe-cell--tree-btn").flag,B=b&&Jt(o,N,"vxe-table--expanded").flag;let A=!1;C.drag&&(A=R==="row"||s.dragSort&&R==="cell");let oe=!1;T||z||G||X||B||A&&(O||D||!l.level)&&!(P&&P(l))&&(oe=!0,i.handleCellDragMousedownEvent(o,l)),!oe&&i.handleCellMousedownEvent&&i.handleCellMousedownEvent(o,l),i.focus(),i.closeFilter(),i.closeMenu&&i.closeMenu()},triggerCellMouseupEvent(){Ad()},handleRowDragDragstartEvent(o){o.dataTransfer&&o.dataTransfer.setDragImage(Ac(),0,0)},handleRowDragSwapEvent(o,l,s,d,f,p){const{treeConfig:v,dragConfig:b}=e,C=Te.value,{afterFullData:E,tableFullData:R,fullAllDataRowIdData:O}=g,D=g.xeGanttView,{animation:P,isPeerDrag:N,isCrossDrag:T,isSelfToChildDrag:z,dragEndMethod:G,dragToChildMethod:X}=C,B=Ft.value,A=At.value,oe=dt.value,xe=ut.value,{transform:fe,rowField:Oe,mapChildrenField:$e,parentField:Se}=B,_e=B.children||B.childrenField,Ve=G||(b?b.dragEndMethod:null),ht=f==="bottom"?1:0,tt=$.value,vt={status:!1};if(!(tt&&d&&s))return Promise.resolve(vt);if(d!==s){const Et={oldRow:s,newRow:d,dragRow:s,dragPos:f,dragToChild:!!p,offsetIndex:ht},Ct=Ge(i,s),Ke=O[Ct]||{},mt=Ke._index;let Mt=0,gt=-1;if(P){Mt=Fr(Ke,A,oe,xe);const ro=tt.querySelector(`.vxe-body--row[rowid="${Ct}"]`);ro&&(gt=ro.offsetTop)}let to=-1,oo=-1;const Vt=Ke,eo=Ge(i,d),Bt=O[eo],qt={};let Ht=!1;if(v&&fe&&Vt&&Bt){const{level:ro}=Vt,{level:Gt}=Bt;if(a.eachTree([s],xo=>{qt[Ge(i,xo)]=xo},{children:$e}),ro&&Gt)if(N&&!T){if(Vt.row[Se]!==Bt.row[Se])return Jr(),Promise.resolve(vt)}else{if(!T)return Jr(),Promise.resolve(vt);if(qt[eo]&&(Ht=!0,!(T&&z)))return me.modal&&me.modal.message({status:"error",content:en("vxe.error.treeDragChild")}),Jr(),Promise.resolve(vt)}else if(ro){if(!T)return Jr(),Promise.resolve(vt)}else if(Gt){if(!T)return Jr(),Promise.resolve(vt);if(qt[eo]&&(Ht=!0,!(T&&z)))return me.modal&&me.modal.message({status:"error",content:en("vxe.error.treeDragChild")}),Jr(),Promise.resolve(vt)}}const wo=z&&X?X(Et):p;return Promise.resolve(Ve?Ve(Et):!0).then(ro=>{if(!ro)return vt;if(v){if(fe&&Vt&&Bt){const Gt=a.toTreeArray(g.afterTreeFullData,{key:Oe,parentKey:Se,children:$e}),xo=i.findRowIndexOf(Gt,s);Gt.splice(xo,1);const mo=i.findRowIndexOf(Gt,d)+ht;Gt.splice(mo,0,s),Ht&&T&&z&&a.each(s[_e],gr=>{gr[Se]=s[Se]}),s[Se]=wo?d[Oe]:d[Se],g.tableFullTreeData=a.toArrayTree(Gt,{key:Oe,parentKey:Se,children:_e,mapChildren:$e})}}else{to=i.findRowIndexOf(E,s);const Gt=i.findRowIndexOf(R,s);E.splice(to,1),R.splice(Gt,1);const xo=i.findRowIndexOf(E,d),Ro=i.findRowIndexOf(R,d);oo=xo+ht;const mo=Ro+ht;E.splice(oo,0,s),R.splice(mo,0,s)}return i.handleTableData(v&&fe),i.cacheRowMap(!1),Ls(),v&&fe||i.updateAfterDataIndex(),i.checkSelectionStatus(),m.scrollYLoad&&i.updateScrollYSpace(),o&&Nt("row-dragend",{oldRow:s,newRow:d,dragRow:s,dragPos:f,dragToChild:wo,offsetIndex:ht,_index:{newIndex:oo,oldIndex:to}},o),se().then(()=>{if(P){const{tableData:Gt}=m,{fullAllDataRowIdData:xo}=g,Ro=xo[Ct],mo=Ro._index,gr=Gt[0],pr=xo[Ge(i,gr)];let sr=tt;if(F&&D){const{refGanttContainerElem:Lr}=F.getRefMaps(),un=Lr.value;un&&(sr=un)}if(pr){const Lr=pr._index,un=Lr+Gt.length;let br=-1,Mo=-1,Wr=1;mt<Lr?(br=0,Mo=mo-Lr):mt>un?(br=Ro.$index+1,Mo=Gt.length,Wr=-1):mo>mt?(br=mt-Lr,Mo=br+mo-mt):(br=mo-Lr,Mo=br+mt-mo+1,Wr=-1);const fn=Gt.slice(br,Mo);if(fn.length){const ar=[];fn.forEach(er=>{const gn=Ge(i,er);ar.push(`.vxe-body--row[rowid="${gn}"]`),F&&ar.push(`.vxe-gantt-view--body-row[rowid="${gn}"]`,`.vxe-gantt-view--chart-row[rowid="${gn}"]`)});const jr=sr.querySelectorAll(ar.join(","));La(jr,Wr*Mt)}}const go=[`.vxe-body--row[rowid="${Ct}"]`];F&&go.push(`.vxe-gantt-view--body-row[rowid="${Ct}"]`,`.vxe-gantt-view--chart-row[rowid="${Ct}"]`);const Ko=sr.querySelectorAll(go.join(",")),In=Ko[0];gt>-1&&In&&La(Ko,gt-In.offsetTop)}lr(),Mn(),i.updateCellAreas(),i.recalculate()}).then(()=>({status:!0}))}).catch(()=>vt).then(ro=>(Jr(),ro))}return Jr(),Promise.resolve(vt)},handleCrossTableRowDragCancelEvent(){Jr()},handleCrossTableRowDragFinishEvent(o){const{tableData:l}=m,{fullAllDataRowIdData:s}=g,d=dt.value,f=At.value,p=ut.value,v=Te.value,{animation:b,isCrossTableDrag:C}=v,E=Ft.value,{mapChildrenField:R}=E,O=$.value;if(C&&xr&&Y){const{row:D}=Y;if(D){const P=Ge(i,D),N=s[P];let T=0,z=-1;N&&(b&&(T=Fr(N,f,d,p)),z=N.$index);const G=z>-1&&z<l.length-1?l.slice(z+1):[],X=a.toTreeArray([D],{updated:!0,children:R});i.remove(X).then(()=>{if(b&&T&&G.length){const B=g.xeGanttView;let A=O;if(F&&B){const{refGanttContainerElem:fe}=F.getRefMaps(),Oe=fe.value;Oe&&(A=Oe)}const oe=[];G.forEach(fe=>{const Oe=Ge(i,fe);oe.push(`.vxe-body--row[rowid="${Oe}"]`),F&&oe.push(`.vxe-gantt-view--body-row[rowid="${Oe}"]`,`.vxe-gantt-view--chart-row[rowid="${Oe}"]`)});const xe=A.querySelectorAll(oe.join(","));La(xe,T)}}),Nt("row-remove-dragend",{row:D},o),Jr()}}},handleCrossTableRowDragoverEmptyEvent(o){const{tableData:l}=m,s=Te.value,{isCrossTableDrag:d}=s;if(d&&xr&&!l.length){const{$oldTable:f,$newTable:p}=xr;if(f){const v=f.reactData;f.xID!==i.xID&&(p&&p.xID!==i.xID&&p.hideCrossTableRowDropClearStatus(),o.preventDefault(),f.hideCrossTableRowDropClearStatus(),xr.$newTable=i,g.prevDragRow=null,m.dragTipText=v.dragTipText,Kl(o,o.currentTarget,null,!0,""))}}},handleCrossTableRowDragInsertEvent(o){const{treeConfig:l}=e,{prevDragRow:s,prevDragPos:d,prevDragToChild:f}=g,p=Te.value,{animation:v,isSelfToChildDrag:b,isCrossTableDrag:C,dragEndMethod:E,dragToChildMethod:R}=p,O=dt.value,D=At.value,P=ut.value,N=Ft.value,{parentField:T,mapChildrenField:z}=N,G=N.children||N.childrenField;if(C&&xr&&Y){const{row:X}=Y,{$oldTable:B}=xr,A=$.value;if(B&&X){const oe=X;let xe=-1;s&&(xe=d==="bottom"?1:0);const fe={oldRow:oe,newRow:s,dragRow:oe,dragPos:d,dragToChild:!!f,offsetIndex:xe},Oe=b&&R?R(fe):f,$e={status:!1};Promise.resolve(E?E(fe):!0).then(Se=>{if(!Se)return B&&B.xID!==i.xID&&B.handleCrossTableRowDragCancelEvent(o),Jr(),$e;let _e=Promise.resolve();if(l){const Ve=a.toTreeArray([oe],{updated:!0,children:z});B.handleCrossTableRowDragFinishEvent(o),s?oe[T]=s[T]:oe[T]=null,Ve.forEach(ht=>{ht[G]=void 0,ht[z]=void 0}),s?d==="bottom"?_e=i.insertNextAt(Ve,s):_e=i.insertAt(Ve,s):_e=i.insert(Ve)}else B.handleCrossTableRowDragFinishEvent(o),s?d==="bottom"?_e=i.insertNextAt(oe,s):_e=i.insertAt(oe,s):_e=i.insert(oe);Nt("row-insert-dragend",{oldRow:X,newRow:s,dragRow:oe,dragPos:d,dragToChild:Oe,offsetIndex:xe},o),kd(),_e.then(()=>{const{tableData:Ve}=m,{fullAllDataRowIdData:ht}=g,tt=Ge(i,oe),vt=ht[tt];let Et=0,Ct=-1;vt&&(v&&(Et=Fr(vt,D,O,P)),Ct=vt.$index);const Ke=Ct>-1?Ve.slice(Ct):[];if(v&&Et&&Ke.length){const mt=g.xeGanttView;let Mt=A;if(F&&mt){const{refGanttContainerElem:oo}=F.getRefMaps(),Vt=oo.value;Vt&&(Mt=Vt)}const gt=[];Ke.forEach(oo=>{const Vt=Ge(i,oo);gt.push(`.vxe-body--row[rowid="${Vt}"]`),F&&gt.push(`.vxe-gantt-view--body-row[rowid="${Vt}"]`,`.vxe-gantt-view--chart-row[rowid="${Vt}"]`)});const to=Mt.querySelectorAll(gt.join(","));La(to,-Et)}})})}}},hideCrossTableRowDropClearStatus(){Cl()},handleRowDragDragendEvent(o){const{treeConfig:l}=e,{fullAllDataRowIdData:s,prevDragToChild:d}=g,{dragRow:f}=m,p=Ft.value,{lazy:v}=p,b=p.hasChild||p.hasChildField,{prevDragRow:C,prevDragPos:E}=g,R=Te.value,{isCrossTableDrag:O}=R;if(O&&xr){const{$newTable:D}=xr;if(D&&D.xID!==i.xID){D.handleCrossTableRowDragInsertEvent(o);return}}if(l&&v&&d){const D=Ge(i,C),P=s[D];C[b]?P&&P.treeLoaded&&i.handleRowDragSwapEvent(o,!0,f,C,E,d):i.handleRowDragSwapEvent(o,!0,f,C,E,d)}else i.handleRowDragSwapEvent(o,!0,f,C,E,d)},handleRowDragDragoverEvent(o){const{treeConfig:l}=e,{fullAllDataRowIdData:s}=g,{dragRow:d}=m,f=Ft.value,{lazy:p,transform:v,parentField:b}=f,C=f.hasChild||f.hasChildField,E=Te.value,{isPeerDrag:R,isCrossDrag:O,isToChildDrag:D,isCrossTableDrag:P}=E;if(!d&&!(P&&(!l||O)&&xr)){o.preventDefault();return}const N=oa(o),T=o.currentTarget,z=T.getAttribute("rowid")||"",G=s[z];if(G){o.preventDefault();const X=G.row,A=o.clientY-T.getBoundingClientRect().y<T.clientHeight/2?"top":"bottom";if(g.prevDragToChild=!!(l&&v&&O&&D&&N),g.prevDragRow=X,g.prevDragPos=A,P&&(!l||O)&&xr){const{$oldTable:oe,$newTable:xe}=xr;if(oe){const fe=oe.reactData;if(oe.xID===i.xID)xe&&xe.hideCrossTableRowDropClearStatus(),m.isCrossDragRow=!1,fe.isCrossDragRow=!1,xr.$newTable=null;else{xe&&xe.xID!==i.xID&&xe.hideCrossTableRowDropClearStatus(),oe.hideCrossTableRowDropClearStatus(),fe.isCrossDragRow=!0,m.dragTipText=fe.dragTipText,xr.$newTable=i,Kl(o,T,null,!0,A);return}}}if(i.eqRow(d,X)||N&&l&&p&&X[C]&&G&&!G.treeLoaded||!O&&l&&v&&(R?d[b]!==X[b]:G.level)){Kl(o,T,null,!1,A);return}Kl(o,T,null,!0,A),Nt("row-dragover",{oldRow:d,targetRow:X,dragPos:A},o)}},handleCellDragMousedownEvent(o,l){var s;o.stopPropagation();const{dragConfig:d}=e,f=Te.value,{isCrossTableDrag:p,trigger:v,dragStartMethod:b}=f,{row:C}=l,E=o.currentTarget,R=v==="cell"||v==="row"?E:(s=E.parentElement)===null||s===void 0?void 0:s.parentElement,O=R.parentElement,D=b||(d?d.dragStartMethod:null);if(_i(),D&&!D(l)){O.draggable=!1,m.dragRow=null,m.dragCol=null,xl(),Cl();return}p&&(Y.row=C,xr={$oldTable:i,$newTable:null}),m.dragRow=C,m.isCrossDragRow=!1,m.dragCol=null,O.draggable=!0,im(C),cm(R),Nt("row-dragstart",l,o)},handleCellDragMouseupEvent(){Ad()},handleHeaderCellDragDragstartEvent(o){o.dataTransfer&&o.dataTransfer.setDragImage(Ac(),0,0)},handleColDragSwapColumn(){return yd(),Li(!1).then(()=>{i.updateCellAreas(),i.saveCustomStore("update:sort")})},handleColDragSwapEvent(o,l,s,d,f,p){const{mouseConfig:v}=e,b=ze.value,{animation:C,isPeerDrag:E,isCrossDrag:R,isSelfToChildDrag:O,isToChildDrag:D,dragEndMethod:P,dragToChildMethod:N}=b,{collectColumn:T,fullColumnIdData:z}=g,G=$.value,X=f==="right"?1:0,B={status:!1};if(!(G&&d&&s))return Promise.resolve(B);if(d!==s){const A=s,oe=d,xe={oldColumn:A,newColumn:oe,dragColumn:A,dragPos:f,dragToChild:!!p,offsetIndex:X};let fe=null;const Oe=[];let $e=0;C&&a.eachTree([A],Ke=>{!fe&&(!Ke.children||!Ke.children.length)&&(fe=Ke,$e+=Ke.renderWidth),Oe.push(Ke)}),fe||(fe=A);const Se=z[fe.id]||{},_e=Se._index;let Ve=-1;if(C){const Ke=G.querySelector(`.vxe-table--column[colid="${fe.id}"]`);Ke&&(Ve=Ke.offsetLeft)}let ht=-1,tt=-1;const vt={};a.eachTree([A],Ke=>{vt[Ke.id]=Ke});let Et=!1;if(A.parentId&&oe.parentId)if(E&&!R){if(A.parentId!==oe.parentId)return Un(),Promise.resolve(B)}else{if(!R)return Un(),Promise.resolve(B);if(vt[oe.id]&&(Et=!0,!(R&&O)))return me.modal&&me.modal.message({status:"error",content:en("vxe.error.treeDragChild")}),Un(),Promise.resolve(B)}else if(A.parentId){if(!R)return Un(),Promise.resolve(B)}else if(oe.parentId){if(!R)return Un(),Promise.resolve(B);if(vt[oe.id]&&(Et=!0,!(R&&O)))return me.modal&&me.modal.message({status:"error",content:en("vxe.error.treeDragChild")}),Un(),Promise.resolve(B)}const Ct=O&&N?N(xe):p;return Promise.resolve(P?P(xe):!0).then(Ke=>{if(!Ke)return B;const mt=a.findTree(T,gt=>gt.id===A.id);if(Et&&R&&O){if(mt){const{items:gt,index:to}=mt,oo=A.children||[];oo.forEach(Vt=>{Vt.parentId=A.parentId}),gt.splice(to,1,...oo),A.children=[]}}else if(mt){const{items:gt,index:to,parent:oo}=mt;gt.splice(to,1),oo||(ht=to)}const Mt=a.findTree(T,gt=>gt.id===oe.id);if(Mt){const{items:gt,index:to,parent:oo}=Mt;R&&D&&Ct?(A.parentId=oe.id,oe.children=(oe.children||[]).concat([A])):(A.parentId=oe.parentId,gt.splice(to+X,0,A)),oo||(tt=to)}return a.eachTree(T,(gt,to,oo,Vt,eo)=>{if(!eo){const Bt=to+1;gt.renderSortNumber=Bt}}),v&&(i.clearSelected&&i.clearSelected(),i.clearCellAreas&&(i.clearCellAreas(),i.clearCopyCellArea())),o&&Nt("column-dragend",{oldColumn:A,newColumn:oe,dragColumn:A,dragPos:f,dragToChild:Ct,offsetIndex:X,_index:{newIndex:tt,oldIndex:ht}},o),se().then(()=>{if(l)return i.handleColDragSwapColumn()}).then(()=>{if(C){const{tableColumn:gt}=m,{visibleColumn:to,fullColumnIdData:oo}=g;let Vt=null;const eo={};if(a.eachTree([A],Bt=>{!Vt&&(!Bt.children||!Bt.children.length)&&(Vt=Bt),eo[Bt.id]=Bt}),Vt||(Vt=A),$e&&Oe.length){const Bt=a.findIndexOf(to,Gt=>!!Vt&&Gt.id===Vt.id),qt=gt[0],Ht=oo[qt.id];if(Ht){const Gt=Ht._index,xo=Gt+gt.length;let Ro=-1,mo=-1,gr=1;_e<Gt?(Ro=0,mo=Bt-Gt):_e>xo?(Ro=Se.$index+1,mo=gt.length,gr=-1):Bt>_e?(Ro=_e-Gt,mo=Ro+Bt-_e):(Ro=Bt-Gt+1,mo=Ro+_e-Bt,gr=-1);const pr=[],sr={};for(let go=Ro;go<mo;go++){const Ko=gt[go];!sr[Ko.id]&&!eo[Ko.id]&&(sr[Ko.id]=Ko,pr.push(Ko))}if(a.eachTree([oe],go=>{sr[go.id]||(sr[go.id]=go,pr.push(go))}),pr.length){const go=G.querySelectorAll(pr.map(Ko=>`.vxe-table--column[colid="${Ko.id}"]`).join(","));zf(go,gr*$e)}}const wo=G.querySelectorAll(Oe.map(Gt=>`.vxe-table--column[colid="${Gt.id}"]`).join(",")),ro=wo[0];Ve>-1&&ro&&zf(wo,Ve-ro.offsetLeft)}}return Ra(),bl(),i.updateCellAreas(),{status:!0}})}).catch(()=>B).then(Ke=>(Un(),Ke))}return Un(),Promise.resolve(B)},handleHeaderCellDragDragendEvent(o){const{dragCol:l}=m,{prevDragCol:s,prevDragPos:d,prevDragToChild:f}=g;i.handleColDragSwapEvent(o,!0,l,s,d,f)},handleHeaderCellDragDragoverEvent(o){const{dragCol:l}=m,s=ze.value,{isToChildDrag:d,isPeerDrag:f,isCrossDrag:p}=s;if(!l){o.preventDefault();return}const v=oa(o),b=o.currentTarget,C=b.getAttribute("colid"),E=i.getColumnById(C);if(E){o.preventDefault();const{clientX:R}=o,D=R-b.getBoundingClientRect().x<b.clientWidth/2?"left":"right";if(g.prevDragToChild=!!(p&&d&&v),g.prevDragCol=E,g.prevDragPos=D,E.fixed||l&&l.id===E.id||!p&&(f?l.parentId!==E.parentId:E.parentId)){Kl(o,null,b,!1,D);return}Kl(o,null,b,!0,D),Nt("column-dragover",{oldColumn:l,targetColumn:E,dragPos:D},o);const P=$.value;if(!P)return;const N=V.value,T=q.value,z=T?T.$el:null,G=N||z;if(G){const X=P.getBoundingClientRect(),B=P.clientWidth,A=de.value,oe=A?A.clientWidth:0,xe=pe.value,fe=xe?xe.clientWidth:0,Oe=X.x+oe,$e=X.x+B-fe,Se=28,_e=R-Oe,Ve=$e-R;if(_e>0&&_e<=Se){const ht=Math.floor(B/(_e>Se/2?240:120));G.scrollLeft-=ht*(Se-_e)}else if(Ve>0&&Ve<=Se){const ht=Math.floor(B/(Ve>Se/2?240:120));G.scrollLeft+=ht*(Se-Ve)}}}},handleHeaderCellDragMousedownEvent(o,l){var s;o.stopPropagation();const d=ze.value,{trigger:f,dragStartMethod:p}=d,{column:v}=l,b=o.currentTarget,C=f==="cell"?b:(s=b.parentElement)===null||s===void 0?void 0:s.parentElement;if(Oa(),p&&!p(l)){C.draggable=!1,m.dragRow=null,m.dragCol=null,xl(),Cl();return}m.dragCol=v,m.dragRow=null,C.draggable=!0,xl(),dm(v),um(C),Nt("column-dragstart",l,o)},handleHeaderCellDragMouseupEvent(){Oa(),Cl(),xl(),m.dragRow=null,m.dragCol=null},handleScrollEvent(o,l,s,d,f,p){const{highlightHoverRow:v}=e,{lastScrollLeft:b,lastScrollTop:C}=g,E=V.value,R=De.value;if(!E||!R)return;const O=dt.value,D=M.value,P=ue.value,N=R.clientHeight,T=E.clientWidth,z=R.scrollHeight,G=E.scrollWidth;let X=!1,B=!1,A=!1,oe=!1,xe="",fe=!1,Oe=!1,$e=!1,Se=!1;if(s){const Ve=Rt.value;A=f<=0,A||(oe=f+T>=G),f>b?(xe="right",f+T>=G-Ve&&(Se=!0)):(xe="left",f<=Ve&&($e=!0)),i.checkScrolling(),g.lastScrollLeft=f}if(l){const Ve=Qt.value;X=d<=1,X||(B=d+N>=z-1),d>C?(xe="bottom",d+N>=z-Ve&&(Oe=!0)):(xe="top",d<=Ve&&(fe=!0)),g.lastScrollTop=d}m.lastScrollTime=Date.now();const _e=Object.assign({source:rL,scrollTop:d,scrollLeft:f,bodyHeight:N,bodyWidth:T,scrollHeight:z,scrollWidth:G,isX:s,isY:l,isTop:X,isBottom:B,isLeft:A,isRight:oe,direction:xe},p);Mn(),Xv(s,l),s&&i.closeFilter(),(O.isHover||v)&&i.clearHoverRow(),D&&D.reactData.visible&&D.close(),P&&P.reactData.visible&&P.close(),(Oe||fe||Se||$e)&&Nt("scroll-boundary",_e,o),Nt("scroll",_e,o)},triggerScrollXEvent(){rt.value.immediate?bl():qv()},triggerScrollYEvent(){st.value.immediate?Hs():Uv()},triggerBodyScrollEvent(o,l){const{scrollYLoad:s,scrollXLoad:d}=m,{elemStore:f,intoRunScroll:p,lastScrollTop:v,lastScrollLeft:b,inWheelScroll:C,inVirtualScroll:E,inHeaderScroll:R,inBodyScroll:O,scrollRenderType:D,inFooterScroll:P}=g;if(C||E||R||P)return;const N=V.value,T=De.value,z=ct(f["left-body-scroll"]),G=ct(f["main-body-scroll"]),X=ct(f["right-body-scroll"]),B=ct(f["main-header-scroll"]),A=ct(f["main-footer-scroll"]),oe=je.value;if(p||!G||!N||!T||O&&D!==l)return;let xe=T.scrollTop,fe=N.scrollLeft;z&&l==="left"?xe=z.scrollTop:X&&l==="right"?xe=X.scrollTop:(xe=G.scrollTop,fe=G.scrollLeft);const Oe=fe!==b,$e=xe!==v;g.inBodyScroll=!0,g.scrollRenderType=l,$e&&(l==="left"?(io(G,xe),io(X,xe)):l==="right"?(io(G,xe),io(z,xe)):(io(z,xe),io(X,xe)),io(T,xe),io(oe,xe),Ea(xe),s&&i.triggerScrollYEvent(o)),Oe&&(co(N,fe),co(B,fe),co(A,fe),d&&i.triggerScrollXEvent(o)),i.handleScrollEvent(o,$e,Oe,xe,fe,{type:"body",fixed:l})},triggerHeaderScrollEvent(o,l){const{scrollXLoad:s}=m,{elemStore:d,intoRunScroll:f,inWheelScroll:p,inVirtualScroll:v,inBodyScroll:b,inFooterScroll:C}=g;if(p||v||b||C)return;const E=De.value,R=V.value,O=ct(d["main-body-scroll"]),D=ct(d["main-header-scroll"]),P=ct(d["main-footer-scroll"]);if(f||!D||!R||!E)return;const N=E.scrollTop,T=D.scrollLeft,z=!0,G=!1;g.inHeaderScroll=!0,co(R,T),co(P,T),co(O,T),s&&i.triggerScrollXEvent(o),i.handleScrollEvent(o,G,z,N,T,{type:"header",fixed:l})},triggerFooterScrollEvent(o,l){const{scrollXLoad:s}=m,{elemStore:d,intoRunScroll:f,inWheelScroll:p,inVirtualScroll:v,inHeaderScroll:b,inBodyScroll:C}=g;if(p||v||b||C)return;const E=De.value,R=V.value,O=ct(d["main-body-scroll"]),D=ct(d["main-header-scroll"]),P=ct(d["main-footer-scroll"]);if(f||!P||!R||!E)return;const N=E.scrollTop,T=P.scrollLeft,z=!0,G=!1;g.inFooterScroll=!0,co(R,T),co(D,T),co(O,T),s&&i.triggerScrollXEvent(o),i.handleScrollEvent(o,G,z,N,T,{type:"footer",fixed:l})},triggerBodyWheelEvent(o){const{target:l,deltaY:s,deltaX:d,shiftKey:f}=o;if(l&&/^textarea$/i.test(l.tagName)||!s&&!d)return;const{highlightHoverRow:p}=li,{scrollXLoad:v,scrollYLoad:b,expandColumn:C}=m,E=Do.value,R=sn.value,{elemStore:O,lastScrollTop:D,lastScrollLeft:P}=g,N=dt.value,T=Ye.value,z=Dt.value,G=V.value,X=De.value,B=ct(O["left-body-scroll"]),A=ct(O["main-header-scroll"]),oe=ct(O["main-body-scroll"]),xe=ct(O["main-footer-scroll"]),fe=ct(O["right-body-scroll"]),Oe=je.value;if(!oe)return;const $e=Yv(m.lastScrollTime),Se=f?0:s*$e,_e=(f?d||s:d)*$e,Ve=oe.scrollTop,ht=oe.scrollLeft,tt=Ve+Se,vt=ht+_e,Et=vt!==P,Ct=tt!==D;if(Et&&T.visible==="hidden"){o.preventDefault();return}if(Ct){if(z.visible==="hidden"){o.preventDefault();return}if(Se<0?Ve<=0:Ve>=oe.scrollHeight-oe.clientHeight)return}if(H){if(Ct&&Ff(o.target,[B,oe,fe],o.currentTarget)){o.stopPropagation();return}if(Et&&Ff(o.target,[A,oe,xe],o.currentTarget)){o.stopPropagation();return}}if(E||R||C){if((N.isHover||p)&&i.clearHoverRow(),Et)if(o.preventDefault(),g.inWheelScroll=!0,u.firefox||u.safari){const Ke=vt;co(G,Ke),co(oe,Ke),co(A,Ke),co(xe,Ke),v&&i.triggerScrollXEvent(o),i.handleScrollEvent(o,Ct,Et,oe.scrollTop,Ke,{type:"table",fixed:""})}else Kv(vt,Ke=>{g.inWheelScroll=!0;const mt=Ke;co(G,mt),co(oe,mt),co(A,mt),co(xe,mt),v&&i.triggerScrollXEvent(o),i.handleScrollEvent(o,Ct,Et,oe.scrollTop,mt,{type:"table",fixed:""})});if(Ct)if(o.preventDefault(),g.inWheelScroll=!0,u.firefox||u.safari){const Ke=tt;io(X,Ke),io(oe,Ke),io(B,Ke),io(fe,Ke),io(Oe,Ke),Ea(Ke),b&&i.triggerScrollYEvent(o),i.handleScrollEvent(o,Ct,Et,Ke,oe.scrollLeft,{type:"table",fixed:""})}else Zv(tt-Ve,Ke=>{g.inWheelScroll=!0;const mt=oe.scrollTop+Ke;io(X,mt),io(oe,mt),io(B,mt),io(fe,mt),io(Oe,mt),Ea(mt),b&&i.triggerScrollYEvent(o),i.handleScrollEvent(o,Ct,Et,mt,oe.scrollLeft,{type:"table",fixed:""})})}},triggerVirtualScrollXEvent(o){const{scrollXLoad:l}=m,{elemStore:s,inWheelScroll:d,lastScrollTop:f,inHeaderScroll:p,inBodyScroll:v,inFooterScroll:b}=g;if(p||v||b||d)return;const C=ct(s["main-header-scroll"]),E=ct(s["main-body-scroll"]),R=ct(s["main-footer-scroll"]),O=De.value,D=o.currentTarget,{scrollLeft:P}=D,N=O||E;let T=0;N&&(T=N.scrollTop);const z=!0,G=T!==f;g.inVirtualScroll=!0,co(E,P),co(C,P),co(R,P),l&&i.triggerScrollXEvent(o),i.handleScrollEvent(o,G,z,T,P,{type:"table",fixed:""})},triggerVirtualScrollYEvent(o){const{scrollYLoad:l}=m,{elemStore:s,inWheelScroll:d,lastScrollLeft:f,inHeaderScroll:p,inBodyScroll:v,inFooterScroll:b}=g;if(p||v||b||d)return;const C=ct(s["left-body-scroll"]),E=ct(s["main-body-scroll"]),R=ct(s["right-body-scroll"]),O=je.value,D=V.value,P=o.currentTarget,{scrollTop:N}=P,T=D||E;let z=0;T&&(z=T.scrollLeft);const G=z!==f,X=!0;g.inVirtualScroll=!0,io(E,N),io(C,N),io(R,N),io(O,N),Ea(N),l&&i.triggerScrollYEvent(o),i.handleScrollEvent(o,X,G,N,z,{type:"table",fixed:""})},scrollToTreeRow(o){const{treeConfig:l}=e,{isRowGroupStatus:s}=m,{tableFullData:d}=g,f=[];if(l||s){const p=_.value,v=Ft.value,b=v.children||v.childrenField,C=a.findTree(d,E=>i.eqRow(E,o),{children:s?p.mapChildrenField:b});if(C){const E=C.nodes;E.forEach((R,O)=>{O<E.length-1&&!i.isTreeExpandByRow(R)&&f.push(i.setTreeExpand(R,!0))})}}return Promise.all(f).then(()=>_f(i,o))},updateScrollYStatus:Ls,updateScrollXSpace(){const{scrollXLoad:o,overflowX:l,scrollXWidth:s}=m,{visibleColumn:d,scrollXStore:f,elemStore:p,fullColumnIdData:v}=g,b=g.xeGanttView,C=lo.value,E=q.value;if(E?E.$el:null){const O=ct(p["main-body-scroll"]),D=ct(p["main-body-table"]),P=ct(p["main-header-table"]),N=ct(p["main-footer-table"]);let T=0;const z=d[f.startIndex];z&&(T=(v[z.id]||{}).oLeft);let G=0;O&&(G=O.clientWidth);let X=!1,B=s;s>cs&&(O&&D&&O.scrollLeft+G>=cs?T=cs-D.clientWidth:T=(cs-G)*(T/(s-G)),B=cs,X=!0),o&&l||(T=0),$t().scrollMarginStyle?(P&&(P.style.marginLeft=P.getAttribute("xvm")?`${T}px`:""),D&&(D.style.marginLeft=`${T}px`),N&&(N.style.marginLeft=N.getAttribute("xvm")?`${T}px`:"")):(P&&(P.style.transform=P.getAttribute("xvm")?`translate(${T}px, 0px)`:""),D&&(D.style.transform=`translate(${T}px, ${m.scrollYTop||0}px)`),N&&(N.style.transform=N.getAttribute("xvm")?`translate(${T}px, 0px)`:"")),["main"].forEach(xe=>{["header","body","footer"].forEach(Oe=>{const $e=ct(p[`${xe}-${Oe}-xSpace`]);$e&&($e.style.width=o?`${B}px`:"")})}),m.scrollXLeft=T,m.scrollXWidth=B,m.isScrollXBig=X;const oe=Qe.value;return oe&&(oe.style.width=`${B}px`),xa(),X&&C.area&&We("vxe.error.notProp",["mouse-config.area"]),b&&b.handleUpdateSXSpace&&b.handleUpdateSXSpace(),se().then(()=>{Wo()})}},updateScrollYSpace(){const{isAllOverflow:o,overflowY:l,scrollYLoad:s,scrollYHeight:d,expandColumn:f}=m,{scrollYStore:p,elemStore:v,isResizeCellHeight:b,afterFullData:C,fullAllDataRowIdData:E,rowExpandedMaps:R}=g,O=g.xeGanttView,{startIndex:D}=p,P=lo.value,N=Zt.value,T=dt.value,z=At.value,G=ut.value,X=ct(v["main-body-scroll"]),B=ct(v["main-body-table"]),A=ct(v["left-body-table"]),oe=ct(v["right-body-table"]),xe=["main","left","right"];let fe=0,Oe=d,$e=!1;if(s)if(!(b||z.height||T.height)&&!f&&o)Oe=C.length*G,Oe>Rl&&($e=!0),fe=Math.max(0,D*G);else{const Et=C[D];if(Et){let Ct=Ge(i,Et),Ke=E[Ct]||{};fe=Ke.oTop||0;const mt=C[C.length-1];if(Ct=Ge(i,mt),Ke=E[Ct]||{},Ke){const Mt=Fr(Ke,z,T,G);Mt&&(Oe=(Ke.oTop||0)+Mt,f&&R[Ct]&&(Oe+=Ke.expandHeight||N.height||0))}Oe>Rl&&($e=!0)}else Oe=B?B.clientHeight:0}else B&&(Oe=B.clientHeight);let Se=0;X&&(Se=X.clientHeight);let _e=Oe,Ve=fe;$e&&(X&&B&&X.scrollTop+Se>=Rl?Ve=Rl-B.clientHeight:Ve=(Rl-Se)*(fe/(d-Se)),_e=Rl),s&&l||(Ve=0),$t().scrollMarginStyle?(A&&(A.style.marginTop=`${Ve}px`),B&&(B.style.marginTop=`${Ve}px`),oe&&(oe.style.marginTop=`${Ve}px`)):(A&&(A.style.transform=`translate(0px, ${Ve}px)`),B&&(B.style.transform=`translate(${m.scrollXLeft||0}px, ${Ve}px)`),oe&&(oe.style.transform=`translate(0px, ${Ve}px)`)),xe.forEach(vt=>{["header","body","footer"].forEach(Ct=>{const Ke=ct(v[`${vt}-${Ct}-ySpace`]);Ke&&(Ke.style.height=_e?`${_e}px`:"")})});const ht=qe.value;ht&&(ht.style.height=_e?`${_e}px`:"");const tt=Le.value;return tt&&(tt.style.height=_e?`${_e}px`:""),m.scrollYTop=Ve,m.scrollYHeight=_e,m.isScrollYBig=$e,xa(),$e&&P.area&&We("vxe.error.notProp",["mouse-config.area"]),O&&O.handleUpdateSYSpace&&O.handleUpdateSYSpace(),se().then(()=>Wo())},updateScrollXData(){const{isAllOverflow:o}=m;return ki(),i.updateScrollXSpace(),se().then(()=>{ki(),i.updateScrollXSpace(),o||i.updateScrollYSpace()})},updateScrollYData(){return i.handleTableData(),i.updateScrollYSpace(),se().then(()=>{i.handleTableData(),i.updateScrollYSpace()})},checkScrolling(){const{elemStore:o}=g,l=ct(o["main-body-scroll"]),s=de.value,d=pe.value,p=V.value||l;p&&(s&&(p.scrollLeft>0?Pr(s,"scrolling--middle"):hr(s,"scrolling--middle")),d&&(p.clientWidth<p.scrollWidth-Math.ceil(p.scrollLeft)?Pr(d,"scrolling--middle"):hr(d,"scrolling--middle")))},handleUpdateAggData(){return ml(g.tableSynchData,!1,!0)},updateZindex(){e.zIndex?g.tZindex=e.zIndex:g.tZindex<Uh()&&(g.tZindex=qh())},handleCheckedCheckboxRow:vl,triggerHoverEvent(o,{row:l}){te.setHoverRow(l)},setHoverRow(o){const l=g.xeGanttView,s=Ge(i,o),d=$.value;te.clearHoverRow(),d&&a.arrayEach(d.querySelectorAll(`.vxe-body--row[rowid="${s}"]`),f=>Pr(f,"row--hover")),g.hoverRow=o,l&&l.handleUpdateHoverRow&&l.handleUpdateHoverRow(o)},clearHoverRow(){const o=g.xeGanttView,l=$.value;l&&a.arrayEach(l.querySelectorAll(".vxe-body--row.row--hover"),s=>hr(s,"row--hover")),g.hoverRow=null,o&&o.handleUpdateHoverRow&&o.handleUpdateHoverRow()},getCell(o,l){return L.getCellElement(o,l)},findRowIndexOf(o,l){return l?a.findIndexOf(o,s=>i.eqRow(s,l)):-1},eqRow(o,l){return o&&l?o===l?!0:Ge(i,o)===Ge(i,l):!1},handleConnectGanttView(o){return o&&o.connectUpdate&&(o.connectUpdate({$table:i}),g.xeGanttView=o),se()}},Object.assign(i,L,te);const Ld=o=>{const{showHeader:l,showFooter:s}=e,{tableData:d,tableColumn:f,tableGroupColumn:p,columnStore:v,footerTableData:b}=m,C=bt.value,E=Ye.value,R=Dt.value,{overscrollBehavior:O}=E,{overscrollBehavior:D}=R,P=o==="left",N=P?v.leftList:v.rightList,T=a.eqNull(O)?C.overscrollBehavior:O,z=a.eqNull(D)?C.overscrollBehavior:D;return x("div",{ref:P?de:pe,class:[`vxe-table--fixed-${o}-wrapper`,`sx--${E.visible}`,`sy--${R.visible}`,{[`x-ob--${T}`]:T,[`y-ob--${z}`]:z}]},[l?x(Xf,{ref:P?ve:be,fixedType:o,tableData:d,tableColumn:f,tableGroupColumn:p,fixedColumn:N}):tr(i),x(qf,{ref:P?we:Me,fixedType:o,tableData:d,tableColumn:f,fixedColumn:N}),s?x(Zf,{ref:P?ye:ne,footerTableData:b,tableColumn:f,fixedColumn:N,fixedType:o}):tr(i)])},gm=()=>{const o=nr.value,l=r.empty,s={$table:i,$grid:S,gantt:F};if(l)return l(s);{const d=o.name?ja.get(o.name):null,f=d?d.renderTableEmpty||d.renderTableEmptyView||d.renderEmpty:null;if(f)return Oo(f(o,s))}return Sn(e.emptyText)||en("vxe.table.emptyText")},pm=()=>{const{dragConfig:o}=e,{dragRow:l,dragCol:s,dragTipText:d}=m,f=ze.value,p=Te.value,b=(p.slots||{}).tip||(o&&o.slots?o.slots.rowTip:null),E=(f.slots||{}).tip,R=l||(p.isCrossTableDrag?Y.row:null);return R&&b?Ps(b,{row:R}):s&&E?Ps(E,{column:s}):[x("span",d)]},hm=()=>{const{dragRow:o,dragCol:l}=m,s=dt.value,d=wt.value,f=Te.value,p=ze.value,v=o||(f.isCrossTableDrag?Y.row:null);return s.drag||d.drag?x("div",{class:"vxe-table--drag-wrapper"},[x("div",{ref:Je,class:["vxe-table--drag-row-line",{"is--guides":f.showGuidesStatus}]}),x("div",{ref:Ie,class:["vxe-table--drag-col-line",{"is--guides":p.showGuidesStatus}]}),v&&f.showDragTip||l&&p.showDragTip?x("div",{ref:Fe,class:"vxe-table--drag-sort-tip"},[x("div",{class:"vxe-table--drag-sort-tip-wrapper"},[x("div",{class:"vxe-table--drag-sort-tip-status"},[x("span",{class:["vxe-table--drag-sort-tip-normal-status",v?Wa().TABLE_DRAG_STATUS_ROW:Wa().TABLE_DRAG_STATUS_COLUMN]}),x("span",{class:["vxe-table--drag-sort-tip-sub-status",Wa().TABLE_DRAG_STATUS_SUB_ROW]}),x("span",{class:["vxe-table--drag-sort-tip-disabled-status",Wa().TABLE_DRAG_DISABLED]})]),x("div",{class:"vxe-table--drag-sort-tip-content"},pm())])]):tr(i)]):tr(i)},vm=()=>{const{treeConfig:o}=e,{expandColumn:l,isRowGroupStatus:s}=m,d=Ir.value,f=Zt.value,{mode:p}=f;if(p!=="fixed")return tr(i);const v=[x("div",{key:"repY",ref:Le})];if(l){const{handleGetRowId:b}=So(i);d.forEach(C=>{const E=Zt.value,{height:R,padding:O,indent:D}=E,{fullAllDataRowIdData:P,fullColumnIdData:N}=g,T=Ft.value,{transform:z,seqMode:G}=T,X={},B=b(C),A=P[B],oe=l.id,xe=N[oe]||{};let fe=0,Oe=-1,$e=-1,Se=-1,_e=-1;A&&(Se=A.index,_e=A.$index,$e=A._index,fe=A.level,Oe=A.seq,s||o&&z&&G==="increasing"?Oe=A._index+1:o&&G==="fixed"&&(Oe=A._tIndex+1)),R&&(X.height=`${R}px`),(s||o)&&(X.paddingLeft=`${fe*(a.isNumber(D)?D:T.indent)+30}px`);let Ve=-1,ht=-1,tt=-1;xe&&(Ve=xe.index,ht=xe.$index,tt=xe._index);const vt={$table:i,$grid:S,$gantt:F,seq:Oe,column:l,columnIndex:Ve,$columnIndex:ht,_columnIndex:tt,fixed:"",source:"table",type:"body",level:fe,rowid:B,row:C,rowIndex:Se,$rowIndex:_e,_rowIndex:$e,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};v.push(x("div",{key:B,class:["vxe-body--row-expanded-cell",{"is--padding":O,"is--ellipsis":R}],rowid:B,style:X},l.renderData(vt)))})}return x("div",{ref:je,class:"vxe-table--row-expanded-wrapper"},v)},Hd=()=>x("div",{key:"vsx",ref:Pe,class:"vxe-table--scroll-x-virtual"},[x("div",{ref:he,class:"vxe-table--scroll-x-left-corner"}),x("div",{ref:Ze,class:"vxe-table--scroll-x-wrapper"},[x("div",{ref:V,class:"vxe-table--scroll-x-handle",onScroll:i.triggerVirtualScrollXEvent},[x("div",{ref:Qe,class:"vxe-table--scroll-x-space"})]),x("div",{class:"vxe-table--scroll-x-handle-appearance"})]),x("div",{ref:Ce,class:"vxe-table--scroll-x-right-corner"})]),Pd=()=>x("div",{ref:Re,class:"vxe-table--scroll-y-virtual"},[x("div",{ref:Be,class:"vxe-table--scroll-y-top-corner"}),x("div",{ref:Ae,class:"vxe-table--scroll-y-wrapper"},[x("div",{ref:De,class:"vxe-table--scroll-y-handle",onScroll:i.triggerVirtualScrollYEvent},[x("div",{ref:qe,class:"vxe-table--scroll-y-space"})]),x("div",{class:"vxe-table--scroll-y-handle-appearance"})]),x("div",{ref:pt,class:"vxe-table--scroll-y-bottom-corner"})]),_d=()=>{const{showHeader:o,showFooter:l}=e,{overflowX:s,tableData:d,tableColumn:f,tableGroupColumn:p,footerTableData:v,columnStore:b}=m,C=bt.value,E=Ye.value,R=Dt.value,{overscrollBehavior:O}=E,{overscrollBehavior:D}=R,{leftList:P,rightList:N}=b,T=a.eqNull(O)?C.overscrollBehavior:O,z=a.eqNull(D)?C.overscrollBehavior:D;return x("div",{ref:ie,class:["vxe-table--viewport-wrapper",{[`x-ob--${T}`]:T,[`y-ob--${z}`]:z}]},[x("div",{class:["vxe-table--main-wrapper",`sx--${E.visible}`,`sy--${R.visible}`]},[o?x(Xf,{ref:U,tableData:d,tableColumn:f,tableGroupColumn:p}):tr(i),x(qf,{ref:q,tableData:d,tableColumn:f}),l?x(Zf,{ref:ee,footerTableData:v,tableColumn:f}):tr(i)]),x("div",{class:"vxe-table--fixed-wrapper"},[P&&P.length&&s?Ld("left"):tr(i),N&&N.length&&s?Ld("right"):tr(i)]),vm()])},Bd=()=>{const o=Lt.value;return x("div",{class:"vxe-table--layout-wrapper"},o?[Pd(),_d()]:[_d(),Pd()])},mm=()=>{const{loading:o,stripe:l,showHeader:s,height:d,treeConfig:f,mouseConfig:p,showFooter:v,highlightCell:b,highlightHoverRow:C,highlightHoverColumn:E,editConfig:R,editRules:O}=e,{isGroup:D,overflowX:P,overflowY:N,scrollXLoad:T,scrollYLoad:z,tableData:G,initStore:X,isRowGroupStatus:B,columnStore:A,filterStore:oe,customStore:xe,tooltipStore:fe}=m,{teleportToWrapperElem:Oe,popupToWrapperElem:$e}=g,{leftList:Se,rightList:_e}=A,Ve=r.loading,ht={header:r.headerTooltip||r["header-tooltip"],body:r.tooltip,footer:r.footerTooltip||r["footer-tooltip"]},tt=fe.visible&&fe.type?ht[fe.type]:null,vt=Te.value,Et=dr.value,Ct=Jo.value,Ke=Ot.value,mt=lt.value,Mt=Ft.value,gt=dt.value,to=wt.value,oo=W.value,Vt=ga.value,eo=lo.value,Bt=Uo.value,qt=ur.value,Ht=Sr.value,wo=m.isColLoading||m.isRowLoading||o,ro=St.value,Gt=p&&eo.area,xo=ze.value,Ro=et.value,mo=Lt.value,{isCrossTableDrag:gr}=vt,pr={onKeydown:om,onContextmenu:rm};return gr&&!G.length&&(pr.onDragover=i.handleCrossTableRowDragoverEmptyEvent),x("div",Object.assign({ref:$,class:["vxe-table","vxe-table--render-default",`tid_${c}`,`border--${Vt}`,`sx-pos--${Ro?"top":"bottom"}`,`sy-pos--${mo?"left":"right"}`,{[`size--${oo}`]:oo,[`valid-msg--${Ke.msgMode}`]:!!O,"vxe-editable":!!R,"old-cell-valid":O&&$t().cellVaildMode==="obsolete","cell--highlight":b,"cell--selected":p&&eo.selected,"cell--area":Gt,"header-cell--area":Gt&&Bt.selectCellByHeader,"body-cell--area":Gt&&Bt.selectCellByBody,"row--highlight":gt.isHover||C,"column--highlight":to.isHover||E,"checkbox--range":mt.range,"col--drag-cell":to.drag&&xo.trigger==="cell","is--header":s,"not--header":!s,"is--footer":v,"not--footer":!v,"is--group":D,"is-row-group":B,"is--tree-line":f&&(Mt.showLine||Mt.line),"is--fixed-left":Se.length,"is--fixed-right":_e.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!f&&l,"is--loading":wo,"is--empty":!wo&&!G.length,"is--scroll-y":N,"not--scroll-y":!N,"is--scroll-x":P,"not--scroll-x":!P,"is--virtual-x":T,"is--virtual-y":z}],spellcheck:!1},pr),[x("div",{class:"vxe-table-slots"},r.default?r.default({}):[]),x("div",{ref:J,class:"vxe-table-vars"},[x("div",{class:"vxe-table-var-default"}),x("div",{class:"vxe-table-var-medium"}),x("div",{class:"vxe-table-var-small"}),x("div",{class:"vxe-table-var-mini"})]),x("div",{key:"tw",class:"vxe-table--render-wrapper"},Ro?[Hd(),Bd()]:[Bd(),Hd()]),x("div",{key:"tn",ref:Q,class:"vxe-table--empty-place-wrapper",xid:c},[x("div",{class:"vxe-table--empty-placeholder"},[x("div",{class:"vxe-table--empty-content"},gm())])]),x("div",{key:"tl",class:"vxe-table--border-line"}),x("div",{key:"tcl",ref:ge,class:"vxe-table--resizable-col-bar"},ro.showDragTip?[x("div",{class:"vxe-table--resizable-number-tip"})]:[]),x("div",{key:"ttw"},[x(Ja,{to:Oe,disabled:!(F&&Oe)},[x("div",{ref:Z},[x("div",{key:"trl",ref:ce,class:"vxe-table--resizable-row-bar"},ro.showDragTip?[x("div",{class:"vxe-table--resizable-number-tip"})]:[]),X.custom?x(gk,{key:"cs",ref:K,customStore:xe}):tr(i),h?x(h,{key:"lg",class:"vxe-table--loading",modelValue:wo,icon:qt.icon,text:qt.text},Ve?{default:()=>Ps(Ve,{$table:i,$grid:S,$gantt:F,loading:wo})}:{}):Ve?x("div",{class:["vxe-loading--custom-wrapper",{"is--visible":wo}]},Ps(Ve,{$table:i,$grid:S,$gantt:F,loading:wo})):tr(i),hm()])])]),x("div",{key:"tpw"},[x(Ja,{to:$e,disabled:!(j&&$e)},[x("div",{ref:re},[X.filter?x(hk,{key:"tf",ref:k,filterStore:oe}):tr(i),Ht?x(xk,{key:"tm",ref:I}):tr(i)])])]),X.import&&e.importConfig?x(mk,{key:"it",defaultOptions:m.importParams,storeData:m.importStore}):tr(i),X.export&&(e.exportConfig||e.printConfig)?x(bk,{key:"et",defaultOptions:m.exportParams,storeData:m.exportStore}):tr(i),y?x("div",{},[x(y,{key:"ctp",ref:le,isArrow:!1,enterable:!1}),x(y,{key:"btp",ref:ue,theme:Et.theme,enterable:Et.enterable,enterDelay:Et.enterDelay,leaveDelay:Et.leaveDelay,useHTML:Et.useHTML,width:Et.width,height:Et.height,minWidth:Et.minWidth,minHeight:Et.minHeight,maxWidth:Et.maxWidth,maxHeight:Et.maxHeight},tt?{content:()=>{const{type:sr,row:go,column:Ko,content:In}=fe;if(tt){if(Ko&&sr==="header")return x("div",{key:sr},tt({column:Ko,tooltipContent:In,$table:i,$grid:S,$gantt:F}));if(go&&Ko&&sr==="body")return x("div",{key:sr},tt({row:go,column:Ko,tooltipContent:In,$table:i,$grid:S,$gantt:F}));if(go&&Ko&&sr==="footer")return x("div",{key:sr},tt({row:go,column:Ko,tooltipContent:In,$table:i,$grid:S,$gantt:F}))}return tr(i)}}:{}),e.editRules&&Ke.showMessage&&(Ke.message==="default"?!d:Ke.message==="tooltip")?x(y,{key:"vtp",ref:M,class:[{"old-cell-valid":O&&$t().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Ct.theme,enterable:Ct.enterable,enterDelay:Ct.enterDelay,leaveDelay:Ct.leaveDelay}):tr(i)]):tr(i)])},Ni=Xe(0);It(()=>e.data?e.data.length:-1,()=>{Ni.value++}),It(()=>e.data,()=>{Ni.value++}),It(Ni,()=>{const{initStatus:o}=g,l=e.data||[];l&&l.length>=2e4&&ot("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),ml(l,!1,!0).then(()=>{const{scrollXLoad:s,scrollYLoad:d,expandColumn:f}=m,p=Zt.value;return g.inited=!0,g.initStatus=!0,o||wa(),(s||d)&&f&&p.mode!=="fixed"&&ot("vxe.error.scrollErrProp",["column.type=expand"]),L.recalculate()})});const Vi=Xe(0);It(()=>m.staticColumns.length,()=>{Vi.value++}),It(()=>m.staticColumns,()=>{Vi.value++}),It(Vi,()=>{se(()=>Ed(a.clone(m.staticColumns)))});const Gi=Xe(0);It(()=>m.tableColumn.length,()=>{Gi.value++}),It(()=>m.tableColumn,()=>{Gi.value++}),It(Gi,()=>{te.analyColumnWidth()}),It(()=>m.upDataFlag,()=>{se(()=>{L.updateData()})}),It(()=>m.reColumnFlag,()=>{se(()=>{L.refreshColumn()})});const kr=Xe(0);It(W,()=>{kr.value++}),It(()=>e.showHeader,()=>{kr.value++}),It(()=>e.showFooter,()=>{kr.value++}),It(()=>m.overflowX,()=>{kr.value++}),It(()=>m.overflowY,()=>{kr.value++}),It(()=>e.height,()=>{kr.value++}),It(()=>e.maxHeight,()=>{kr.value++}),It(et,()=>{kr.value++}),It(Lt,()=>{kr.value++}),It(()=>me.getLanguage(),()=>{kr.value++}),It(()=>Ye.value.visible,()=>{kr.value++}),It(()=>Dt.value.visible,()=>{kr.value++}),It(kr,()=>{i.recalculate(!0)});const zi=Xe(0);It(()=>e.footerData?e.footerData.length:-1,()=>{zi.value++}),It(()=>e.footerData,()=>{zi.value++}),It(zi,()=>{g.footerFullDataRowData={},i.updateFooter()}),It(()=>e.syncResize,o=>{o&&(Pi(),se(()=>{Pi(),setTimeout(()=>Pi())}))});const Wi=Xe(0);It(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Wi.value++}),It(()=>e.mergeCells,()=>{Wi.value++}),It(Wi,()=>{ba(e.mergeCells||[])});const ji=Xe(0);It(()=>e.mergeHeaderCells?e.mergeHeaderCells.length:-1,()=>{ji.value++}),It(()=>e.mergeHeaderCells,()=>{ji.value++}),It(ji,()=>{ql(e.mergeHeaderCells||[])});const _s=Xe(0);It(()=>e.mergeFooterCells?e.mergeFooterCells.length:-1,()=>{_s.value++}),It(()=>e.mergeFooterCells,()=>{_s.value++}),It(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{_s.value++}),It(()=>e.mergeFooterItems,()=>{_s.value++}),It(_s,()=>{const o=e.mergeFooterCells||e.mergeFooterItems;Ri(o||[])}),It(ha,o=>{Ca(o)}),It(Ne,()=>{const{inited:o,tableFullData:l}=g;o&&(pl(),m.tableData=[],se(()=>{i.reloadData(l)}))}),w&&It(()=>w?w.reactData.resizeFlag:null,()=>{Id()}),pl(),tL.forEach(o=>{const{setupTable:l}=o;if(l){const s=l(i);s&&a.isObject(s)&&Object.assign(i,s)}}),te.preventEvent(null,"created",{$table:i});let Bs;return Cm(()=>{L.recalculate().then(()=>L.refreshScroll()),te.preventEvent(null,"activated",{$table:i})}),wm(()=>{const{filterStore:o}=m;o.visible&&i.clearFilter(),i.closeTooltip(),g.isActivated=!1,te.preventEvent(null,"deactivated",{$table:i})}),Il(()=>{const{exportConfig:o,importConfig:l,treeConfig:s}=e,{scrollXStore:d,scrollYStore:f}=g,p=wt.value,v=_.value,b=st.value,C=yo.value,E=Ft.value,R=nt.value,O=lt.value,D=Zt.value,P=dt.value,N=Mr.value,T=lo.value,z=$o.value,G=Yo.value,X=Te.value,{groupFields:B}=v;if(F){const{refClassifyWrapperElem:A}=F.getRefMaps(),oe=A.value;oe&&(g.teleportToWrapperElem=oe)}if(j){const{refPopupContainerElem:A}=j.getRefMaps(),oe=A.value;oe&&(g.popupToWrapperElem=oe)}if((p.drag||P.drag||N.allowSort)&&ev(),e.rowId&&ot("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&ot("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&ot("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||P.keyField)&&(O.reserve||O.checkRowKeys||R.reserve||R.checkRowKey||D.expandRowKeys||E.expandRowKeys)&&ot("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(C.showStatus||C.showUpdateStatus||C.showInsertStatus)&&!e.keepSource&&ot("vxe.error.reqProp",["keep-source"]),s&&!E.transform&&e.stripe&&ot("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&ot("vxe.error.reqProp",["footer-data | footer-method"]),P.height&&ot("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&ot("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&ot("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&ot("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&ot("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&ot("vxe.error.delProp",["resizable","column-config.resizable"]),e.aggregateConfig&&e.rowGroupConfig&&ot("vxe.error.notSupportProp",["aggregate-config","row-group-config","row-group-config=null"]),l&&G.types&&!G.importMethod&&!a.includeArrays(a.keys(G._typeMaps),G.types)&&ot("vxe.error.errProp",[`export-config.types=${G.types.join(",")}`,G.types.filter(A=>a.includes(a.keys(G._typeMaps),A)).join(",")||a.keys(G._typeMaps).join(",")]),o&&z.types&&!z.exportMethod&&!a.includeArrays(a.keys(z._typeMaps),z.types)&&ot("vxe.error.errProp",[`export-config.types=${z.types.join(",")}`,z.types.filter(A=>a.includes(a.keys(z._typeMaps),A)).join(",")||a.keys(z._typeMaps).join(",")]),e.id||(e.customConfig?it(N):N.enabled)&&N.storage&&We("vxe.error.reqProp",["id"]),e.treeConfig&&O.range&&We("vxe.error.noTree",["checkbox-config.range"]),P.height&&!e.showOverflow&&ot("vxe.error.notProp",["table.show-overflow"]),!i.triggerCellAreaModnEvent&&(e.areaConfig&&ot("vxe.error.notProp",["area-config"]),e.clipConfig&&ot("vxe.error.notProp",["clip-config"]),e.fnrConfig&&ot("vxe.error.notProp",["fnr-config"]),T.area)){We("vxe.error.notProp",["mouse-config.area"]);return}if(!i.handlePivotTableAggregateData){if(N.allowGroup){We("vxe.error.notProp",["custom-config.allowGroup"]);return}if(N.allowValues){We("vxe.error.notProp",["custom-config.allowValues"]);return}}if(s&&P.drag&&!E.transform&&We("vxe.error.notSupportProp",["row-config.drag","tree-config.transform=false","tree-config.transform=true"]),s&&X.isCrossTableDrag&&!X.isCrossDrag&&We("vxe.error.reqSupportProp",["tree-config & row-drag-config.isCrossTableDrag","row-drag-config.isCrossDrag"]),e.dragConfig&&ot("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&ot("vxe.error.delProp",["row-group-config","aggregate-config"]),v.countFields&&ot("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),v.aggregateMethod&&ot("vxe.error.delProp",["row-group-config.aggregateMethod","aggregate-config.calcValuesMethod"]),v.countMethod&&ot("vxe.error.delProp",["aggregate-config.countMethod","aggregate-config.calcValuesMethod"]),e.treeConfig&&E.children&&ot("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&E.line&&ot("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),T.area&&T.selected&&ot("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),T.area&&e.treeConfig&&!E.transform&&We("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&C.activeMethod&&ot("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&O.isShiftKey&&We("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),O.halfField&&ot("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),s&&a.arrayEach(["rowField","parentField","childrenField","hasChildField","mapChildrenField"],A=>{const oe=E[A];oe&&oe.indexOf(".")>-1&&We("vxe.error.errProp",[`${A}=${oe}`,`${A}=${oe.split(".")[0]}`])}),P.currentMethod&&ot("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),p.currentMethod&&ot("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),Object.assign(f,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(d,{startIndex:0,endIndex:0,visibleSize:0}),Ca(B),Bv(),se(()=>{if(e.autoResize){const A=$.value,oe=te.getParentElem();Bs=eL.create(()=>{e.autoResize&&xd()}),A&&Bs.observe(A),oe&&Bs.observe(oe)}}),b.mode!=="scroll"){const A=ie.value;A&&A.addEventListener("wheel",i.triggerBodyWheelEvent,{passive:!1})}ho.on(i,"paste",lm),ho.on(i,"copy",sm),ho.on(i,"cut",am),ho.on(i,"mousedown",Jv),ho.on(i,"blur",em),ho.on(i,"mousewheel",tm),ho.on(i,"keydown",nm),ho.on(i,"resize",Id),ho.on(i,"contextmenu",i.handleGlobalContextmenuEvent),i.preventEvent(null,"mounted",{$table:i})}),ym(()=>{const o=ie.value;o&&o.removeEventListener("wheel",i.triggerBodyWheelEvent),g.cvCacheMaps={},g.prevDragRow=null,g.prevDragCol=null,Bs&&Bs.disconnect(),i.closeTooltip(),L.closeFilter(),i.closeMenu&&i.closeMenu(),ho.off(i,"paste"),ho.off(i,"copy"),ho.off(i,"cut"),ho.off(i,"mousedown"),ho.off(i,"blur"),ho.off(i,"mousewheel"),ho.off(i,"keydown"),ho.off(i,"resize"),ho.off(i,"contextmenu"),te.preventEvent(null,"beforeUnmount",{$table:i})}),Pn(()=>{te.preventEvent(null,"unmounted",{$table:i}),a.assign(g,Mf())}),se(()=>{e.loading&&!h&&!r.loading&&(We("vxe.error.errProp",["loading=true","loading=false | <template #loading>...</template>"]),We("vxe.error.reqComp",["vxe-loading"])),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(y||(e.showOverflow===!0&&We("vxe.error.errProp",["show-overflow=true","show-overflow=title"]),e.showOverflow==="tooltip"&&We("vxe.error.errProp",["show-overflow=tooltip","show-overflow=title"]),e.showHeaderOverflow===!0&&We("vxe.error.errProp",["show-header-overflow=true","show-header-overflow=title"]),e.showHeaderOverflow==="tooltip"&&We("vxe.error.errProp",["show-header-overflow=tooltip","show-header-overflow=title"]),e.showFooterOverflow===!0&&We("vxe.error.errProp",["show-footer-overflow=true","show-footer-overflow=title"]),e.showFooterOverflow==="tooltip"&&We("vxe.error.errProp",["show-footer-overflow=tooltip","show-footer-overflow=title"]),We("vxe.error.reqComp",["vxe-tooltip"])))}),Xr("$xeColgroup",null),Xr("$xeTable",i),i.renderVN=mm,i},render(){return this.renderVN()}}),{getConfig:tn,getIcon:el,getI18n:ds,renderer:wg,commands:yg,createEvent:nL,useFns:lL}=me;function Eg(){return{connectTable:null}}const Ml=Gr({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],refreshOptions:Object,import:[Boolean,Object],importOptions:Object,export:[Boolean,Object],exportOptions:Object,print:[Boolean,Object],printOptions:Object,zoom:[Boolean,Object],zoomOptions:Object,custom:[Boolean,Object],customOptions:Object,buttons:{type:Array,default:()=>tn().toolbar.buttons},tools:{type:Array,default:()=>tn().toolbar.tools},perfect:{type:Boolean,default:()=>tn().toolbar.perfect},size:{type:String,default:()=>tn().toolbar.size||tn().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:r,emit:n}=t,c=a.uniqueId(),u=me.getComponent("VxeButton"),h=Qo("$xeGrid",null),y=Qo("$xeGantt",null),w=h||y,{computeSize:H}=lL.useSize(e),S=Br({isRefresh:!1,connectFlag:0,columns:[]}),F=Eg(),j=Xe(),W={refElem:j},Y={xID:c,props:e,context:t,reactData:S,internalData:F,getRefMaps:()=>W};let m={};const g=ke(()=>Object.assign({},a.clone(tn().toolbar.refresh,!0),e.refreshOptions,e.refresh)),L=ke(()=>Object.assign({},a.clone(tn().toolbar.import,!0),e.importOptions,e.import)),te=ke(()=>Object.assign({},a.clone(tn().toolbar.export,!0),e.exportOptions,e.export)),$=ke(()=>Object.assign({},a.clone(tn().toolbar.print,!0),e.printOptions,e.print)),J=ke(()=>Object.assign({},a.clone(tn().toolbar.zoom,!0),e.zoomOptions,e.zoom)),ue=ke(()=>Object.assign({},a.clone(tn().toolbar.custom,!0),e.customOptions,e.custom)),le=ke(()=>{const{connectTable:Re}=F,V=Re;if((S.connectFlag||V)&&V){const{computeCustomOpts:he}=V.getComputeMaps();return he.value}return{trigger:""}}),M=ke(()=>le.value.trigger),I=()=>{const{connectTable:Re}=F;if(Re)return!0;We("vxe.error.barUnableLink")},k=({$event:Re})=>{const{connectTable:V}=F,he=V;he&&he.triggerCustomEvent&&he.triggerCustomEvent(Re)},K=({$event:Re})=>{const{connectTable:V}=F,he=V;he&&he.customOpenEvent(Re)},ie=({$event:Re})=>{const{connectTable:V}=F,he=V;if(he){const{customStore:Ce}=he.reactData;Ce.activeBtn=!1,setTimeout(()=>{!Ce.activeBtn&&!Ce.activeWrapper&&he.customCloseEvent(Re)},350)}},U=({$event:Re})=>{const{isRefresh:V}=S,he=g.value;if(!V){const Ce=he.queryMethod||he.query;if(Ce){S.isRefresh=!0;try{Promise.resolve(Ce({})).catch(De=>De).then(()=>{S.isRefresh=!1})}catch{S.isRefresh=!1}}else w&&(S.isRefresh=!0,w.triggerToolbarCommitEvent({code:he.code||"reload"},Re).catch(()=>{}).then(()=>{S.isRefresh=!1}))}},q=({$event:Re})=>{w?w.triggerZoomEvent(Re):ot("vxe.error.notProp",["[toolbar] zoom"])},ee=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.importData()}},ve=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.openImport()}},we=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.exportData()}},ye=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.openExport()}},be=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.print()}},Me=()=>{if(I()){const{connectTable:Re}=F,V=Re;V&&V.openPrint()}},ne=(Re,V,he)=>{switch(V.code){case"print":be();break;case"open_print":Me();break;case"custom":k(Re);break;case"export":we();break;case"open_export":ye();break;case"import":ee();break;case"open_import":ve();break;case"zoom":q(Re);break;case"refresh":U(Re);break;default:he();break}},Z=(Re,V)=>{const{$event:he}=Re,{connectTable:Ce}=F,De=Ce,{code:Be}=V;Be&&ne(Re,V,()=>{if(w)w.triggerToolbarBtnEvent(V,he);else{const Ze=yg.get(Be),Ae={code:Be,button:V,$table:De,$grid:h,$gantt:y,$event:he};if(Ze){const pt=Ze.tableCommandMethod||Ze.commandMethod;pt?pt(Ae):We("vxe.error.notCommands",[`[toolbar] ${Be}`])}Y.dispatchEvent("button-click",Ae,he)}})},re=(Re,V)=>{const{$event:he}=Re,{connectTable:Ce}=F,De=Ce,{code:Be}=V;Be&&ne(Re,V,()=>{if(w)w.triggerToolbarTolEvent(V,he);else{const Ze=yg.get(Be),Ae={code:Be,button:null,tool:V,$table:De,$grid:h,$gantt:y,$event:he};if(Ze){const pt=Ze.tableCommandMethod||Ze.commandMethod;pt?pt(Ae):We("vxe.error.notCommands",[`[toolbar] ${Be}`])}Y.dispatchEvent("tool-click",Ae,he)}})};m={dispatchEvent:(Re,V,he)=>{n(Re,nL(he,{$toolbar:Y},V))},syncUpdate(Re){F.connectTable=Re.$table,S.columns=Re.collectColumn,S.connectFlag++}},Object.assign(Y,m);const pe=(Re,V)=>{const{dropdowns:he}=Re,Ce=[];return he?he.map((De,Be)=>De.visible===!1?ir():u?x(u,Object.assign(Object.assign({key:Be},Object.assign({},De,{content:De.content||De.name,options:void 0})),{onClick:Ze=>V?Z(Ze,De):re(Ze,De)})):ir()):Ce},ge=()=>{const{buttons:Re}=e,{connectTable:V}=F,he=V,Ce=r.buttons,De=r.buttonPrefix||r["button-prefix"],Be=r.buttonSuffix||r["button-suffix"],Ze=[];return Re&&Re.forEach((Ae,pt)=>{const{dropdowns:Qe,buttonRender:qe}=Ae;if(Ae.visible!==!1){const at=qe?wg.get(qe.name):null;if(qe&&at&&at.renderToolbarButton){const He=at.toolbarButtonClassName,Ne={$grid:h,$gantt:y,$table:he,button:Ae};Ze.push(x("span",{key:`br${Ae.code||pt}`,class:["vxe-button--item",He?a.isFunction(He)?He(Ne):He:""]},Oo(at.renderToolbarButton(qe,Ne))))}else u&&Ze.push(x(u,Object.assign(Object.assign({key:`bd${Ae.code||pt}`},Object.assign({},Ae,{content:Ae.content||Ae.name,options:void 0})),{onClick:He=>Z(He,Ae)}),Qe&&Qe.length?{dropdowns:()=>pe(Ae,!0)}:{}))}}),[x("div",{class:"vxe-button--prefix-wrapper"},De?Oo(De({buttons:Re||[],$grid:h,$gantt:y,$table:he})):[]),x("div",{class:"vxe-button--item-wrapper"},Ce?Oo(Ce({buttons:Re||[],$grid:h,$gantt:y,$table:he})):Ze),x("div",{class:"vxe-button--suffix-wrapper"},Be?Oo(Be({buttons:Re||[],$grid:h,$gantt:y,$table:he})):[])]},ce=()=>{const{tools:Re}=e,{connectTable:V}=F,he=V,Ce=r.tools,De=r.toolPrefix||r["tool-prefix"],Be=r.toolSuffix||r["tool-suffix"],Ze=[];return Re&&Re.forEach((Ae,pt)=>{const{dropdowns:Qe,toolRender:qe}=Ae;if(Ae.visible!==!1){const at=qe?qe.name:null,He=qe?wg.get(at):null;if(qe&&He&&He.renderToolbarTool){const Ne=He.toolbarToolClassName,Ot={$grid:h,$gantt:y,$table:he,tool:Ae};Ze.push(x("span",{key:at,class:["vxe-tool--item",Ne?a.isFunction(Ne)?Ne(Ot):Ne:""]},Oo(He.renderToolbarTool(qe,Ot))))}else u&&Ze.push(x(u,Object.assign(Object.assign({key:pt},Object.assign({},Ae,{content:Ae.content||Ae.name,options:void 0})),{onClick:Ne=>re(Ne,Ae)}),Qe&&Qe.length?{dropdowns:()=>pe(Ae,!1)}:{}))}}),[x("div",{class:"vxe-tool--prefix-wrapper"},De?Oo(De({tools:Re||[],$grid:h,$gantt:y,$table:he})):[]),x("div",{class:"vxe-tool--item-wrapper"},Ce?Oo(Ce({tools:Re||[],$grid:h,$gantt:y,$table:he})):Ze),x("div",{class:"vxe-tool--suffix-wrapper"},Be?Oo(Be({tools:Re||[],$grid:h,$gantt:y,$table:he})):[])]},Q=()=>{const Re=L.value;return u?x(u,{key:"import",circle:!0,icon:Re.icon||el().TOOLBAR_TOOLS_IMPORT,title:ds("vxe.toolbar.import"),onClick:ve}):ir()},Fe=()=>{const Re=te.value;return u?x(u,{key:"export",circle:!0,icon:Re.icon||el().TOOLBAR_TOOLS_EXPORT,title:ds("vxe.toolbar.export"),onClick:ye}):ir()},Je=()=>{const Re=$.value;return u?x(u,{key:"print",circle:!0,icon:Re.icon||el().TOOLBAR_TOOLS_PRINT,title:ds("vxe.toolbar.print"),onClick:Me}):ir()},Ie=()=>{const Re=g.value;return u?x(u,{key:"refresh",circle:!0,icon:S.isRefresh?Re.iconLoading||el().TOOLBAR_TOOLS_REFRESH_LOADING:Re.icon||el().TOOLBAR_TOOLS_REFRESH,title:ds("vxe.toolbar.refresh"),onClick:U}):ir()},je=()=>{const Re=J.value;return w&&u?x(u,{key:"zoom",circle:!0,icon:w.isMaximized()?Re.iconOut||el().TOOLBAR_TOOLS_MINIMIZE:Re.iconIn||el().TOOLBAR_TOOLS_FULLSCREEN,title:ds(`vxe.toolbar.zoom${w.isMaximized()?"Out":"In"}`),onClick:q}):ir()},Le=()=>{const Re=ue.value,V=M.value,he={};return V==="manual"||(V==="hover"?(he.onMouseenter=K,he.onMouseleave=ie):he.onClick=k),u?x(u,Object.assign({key:"custom",circle:!0,icon:Re.icon||el().TOOLBAR_TOOLS_CUSTOM,title:ds("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},he)):ir()},Pe=()=>{const{perfect:Re,loading:V,refresh:he,zoom:Ce,custom:De,className:Be}=e,Ze=H.value;return x("div",{ref:j,class:["vxe-toolbar",Be?a.isFunction(Be)?Be({$toolbar:Y}):Be:"",{[`size--${Ze}`]:Ze,"is--perfect":Re,"is--loading":V}]},[x("div",{class:"vxe-buttons--wrapper"},ge()),x("div",{class:"vxe-tools--wrapper"},ce()),x("div",{class:"vxe-tools--operate"},[e.import?Q():ir(),e.export?Fe():ir(),e.print?Je():ir(),he?Ie():ir(),Ce&&w?je():ir(),De?Le():ir()])])};return Y.renderVN=Pe,se(()=>{const Re=g.value,V=Re.queryMethod||Re.query;e.refresh&&!w&&!V&&ot("vxe.error.notFunc",["[toolbar] queryMethod"]),a.isPlainObject(e.custom)&&ot("vxe.error.delProp",["[toolbar] custom={...}","custom=boolean & custom-options={...}"]),a.isPlainObject(e.print)&&ot("vxe.error.delProp",["[toolbar] print={...}","print=boolean & print-options={...}"]),a.isPlainObject(e.export)&&ot("vxe.error.delProp",["[toolbar] export={...}","export=boolean & export-options={...}"]),a.isPlainObject(e.import)&&ot("vxe.error.delProp",["[toolbar] import={...}","import=boolean & import-options={...}"]),a.isPlainObject(e.refresh)&&ot("vxe.error.delProp",["[toolbar] refresh={...}","refresh=boolean & refresh-options={...}"]),a.isPlainObject(e.refresh)&&ot("vxe.error.delProp",["[toolbar] zoom={...}","zoom=boolean & zoom-options={...}"]);const he=ue.value;he.isFooter&&ot("vxe.error.delProp",["[toolbar] toolbar.custom.isFooter","table.custom-config.showFooter"]),he.showFooter&&ot("vxe.error.delProp",["[toolbar] toolbar.custom.showFooter","table.custom-config.showFooter"]),he.immediate&&ot("vxe.error.delProp",["[toolbar] toolbar.custom.immediate","table.custom-config.immediate"]),he.trigger&&ot("vxe.error.delProp",["[toolbar] toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(u||We("vxe.error.reqComp",["vxe-button"]))}),Pn(()=>{a.assign(F,Eg())}),Y},render(){return this.renderVN()}}),{getConfig:Sl,getI18n:us,commands:sL,hooks:aL,useFns:iL,createEvent:cL,globalEvents:Sc,GLOBAL_EVENT_KEYS:dL,renderEmptyElement:mn}=me,uL=Object.keys(li),Rg=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeRowLevel","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","recalcRowHeight","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","setFilterByEvent","sort","setSort","setSortByEvent","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","getScrollData","scrollTo","scrollToStartRow","scrollToEndRow","scrollToRow","scrollToStartColumn","scrollToEndColumn","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","setMergeHeaderCells","removeMergeHeaderCells","getMergeHeaderCells","clearMergeHeaderCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setRowGroupExpandByField","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","getAggregateContentByRow","getAggregateRowChildren","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect","connectToolbar"];function Sg(){return{uFoot:!1}}const ws=Gr({name:"VxeGrid",props:nk,emits:lk,setup(e,t){var r;const{slots:n,emit:c}=t,u=a.uniqueId(),h=me.getComponent("VxeForm"),y=me.getComponent("VxePager"),w=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:H}=iL.useSize(e),S=Br({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],footerData:[],tZindex:0,tablePage:{total:0,pageSize:((r=Sl().pager)===null||r===void 0?void 0:r.pageSize)||10,currentPage:1}}),F=Sg(),j=Xe(),W=Xe(),Y=Xe(),m=Xe(),g=Xe(),L=Xe(),te=Xe(),$=Xe(),J=Xe(),ue=Xe(),le=Xe(),M=_=>{const ae={};return _.forEach(Ee=>{ae[Ee]=(...Te)=>{const ze=W.value;if(ze&&ze[Ee])return ze[Ee](...Te)}}),ae},I=M(Rg);Rg.forEach(_=>{I[_]=(...ae)=>{const Ee=W.value;if(Ee&&Ee[_])return Ee&&Ee[_](...ae)}});const k=ke(()=>a.merge({},a.clone(Sl().grid.proxyConfig,!0),e.proxyConfig)),K=ke(()=>{const _=k.value;return!!(a.isBoolean(_.message)?_.message:_.showResponseMsg)}),ie=ke(()=>{const _=k.value;return a.isBoolean(_.showActionMsg)?_.showActionMsg:!!_.showActiveMsg}),U=ke(()=>Object.assign({},Sl().grid.pagerConfig,e.pagerConfig)),q=ke(()=>Object.assign({},Sl().grid.formConfig,e.formConfig)),ee=ke(()=>Object.assign({},Sl().grid.toolbarConfig,e.toolbarConfig)),ve=ke(()=>Object.assign({},Sl().grid.zoomConfig,e.zoomConfig)),we=ke(()=>{const{height:_,maxHeight:ae}=e,{isZMax:Ee,tZindex:Te}=S,ze={};return Ee?ze.zIndex=Te:(_&&(ze.height=_==="auto"||_==="100%"?"100%":ll(_)),ae&&(ze.maxHeight=ae==="auto"||ae==="100%"?"100%":ll(ae))),ze}),ye=ke(()=>{const _={};return uL.forEach(ae=>{e[ae]!==void 0&&(_[ae]=e[ae])}),_}),be=ke(()=>{const{showFooter:_,seqConfig:ae,pagerConfig:Ee,editConfig:Te,proxyConfig:ze}=e,{isZMax:ft,tablePage:St,footerData:_t}=S,nt=ye.value,lt=k.value,Tt=U.value,zt=pe.value,ao=Object.assign({},nt);return(_&&!ao.footerData||lt.footer&&_t.length)&&(ao.footerData=_t),ft&&(ao.maxHeight?ao.maxHeight="100%":ao.height="100%"),ze&&it(lt)&&(ao.loading=zt,Ee&&lt.seq&&it(Tt)&&(ao.seqConfig=Object.assign({},ae,{startIndex:(St.currentPage-1)*St.pageSize}))),Te&&(ao.editConfig=Object.assign({},Te)),ao}),Me=ke(()=>{const{layouts:_}=e;let ae=[];_&&_.length?ae=_:ae=Sl().grid.layouts||w;let Ee=[],Te=[],ze=[];return ae.length&&(a.isArray(ae[0])?(Ee=ae[0],Te=ae[1]||[],ze=ae[2]||[]):Te=ae),{headKeys:Ee,bodyKeys:Te,footKeys:ze}}),ne=ke(()=>U.value.currentPage),Z=ke(()=>U.value.pageSize),re=ke(()=>U.value.total),de=ke(()=>{const{tablePage:_}=S;return Math.max(Math.ceil(_.total/_.pageSize),1)}),pe=ke(()=>{const{loading:_,proxyConfig:ae}=e,{tableLoading:Ee}=S,Te=k.value,{showLoading:ze}=Te;return _||Ee&&ze&&ae&&it(Te)}),ge={refElem:j,refTable:W,refForm:Y,refToolbar:m,refPager:g,refPopupContainerElem:L},ce={computeProxyOpts:k,computePagerOpts:U,computeFormOpts:q,computeToolbarOpts:ee,computeZoomOpts:ve},Q={xID:u,props:e,context:t,reactData:S,internalData:F,getRefMaps:()=>ge,getComputeMaps:()=>ce},Fe=()=>{const _=ee.value;e.toolbarConfig&&it(_)&&se(()=>{const ae=W.value,Ee=m.value;ae&&Ee&&ae.connectToolbar(Ee)})},Je=()=>{const{proxyConfig:_}=e,{formData:ae}=S,Ee=k.value,Te=q.value;return _&&it(Ee)&&Ee.form?ae:Te.data},Ie=_=>{const{tablePage:ae}=S,{pagerConfig:Ee}=e,Te=U.value;if(Ee&&it(Te))if(_)Te[_]&&(ae[_]=a.toNumber(Te[_]));else{const{currentPage:ze,pageSize:ft,total:St}=Te;ze&&(ae.currentPage=ze),ft&&(ae.pageSize=ft),St&&(ae.total=St)}},je=_=>{const ae=ie.value,Ee=W.value,Te=Ee?Ee.getCheckboxRecords():[];Te.length?(Ee&&Ee.togglePendingRow(Te),Q.clearCheckboxRow()):ae&&me.modal&&me.modal.message({id:_,content:us("vxe.grid.selectOneRecord"),status:"warning"})},Le=(_,ae)=>{const Ee=k.value,ze=(Ee.response||Ee.props||{}).message,ft=W.value;let St;return _&&ze&&(St=a.isFunction(ze)?ze({data:_,$table:ft,$grid:Q,$gantt:null}):a.get(_,ze)),St||us(ae)},Pe=(_,ae,Ee)=>{const Te=ie.value,ze=Q.getCheckboxRecords();if(Te)if(ze.length){if(me.modal)return me.modal.confirm({id:`cfm_${_}`,content:us(ae),escClosable:!0}).then(ft=>{if(ft==="confirm")return Ee()})}else me.modal&&me.modal.message({id:`msg_${_}`,content:us("vxe.grid.selectOneRecord"),status:"warning"});else ze.length&&Ee();return Promise.resolve()},Re=_=>{const{proxyConfig:ae}=e,{tablePage:Ee}=S,{$event:Te,currentPage:ze,pageSize:ft}=_,St=k.value;Ee.currentPage=ze,Ee.pageSize=ft,Q.dispatchEvent("page-change",_,Te),ae&&it(St)&&Q.commitProxy("query").then(_t=>{Q.dispatchEvent("proxy-query",_t,Te)})},V=_=>{const ae=W.value,{proxyConfig:Ee}=e;if(!ae)return;const{computeSortOpts:Te}=ae.getComputeMaps(),ze=k.value;Te.value.remote&&(S.sortData=_.sortList,Ee&&it(ze)&&(S.tablePage.currentPage=1,Q.commitProxy("query").then(St=>{Q.dispatchEvent("proxy-query",St,_.$event)})))},he=_=>{V(_),Q.dispatchEvent("sort-change",_,_.$event)},Ce=_=>{V(_),Q.dispatchEvent("clear-all-sort",_,_.$event)},De=_=>{const ae=W.value,{proxyConfig:Ee}=e;if(!ae)return;const{computeFilterOpts:Te}=ae.getComputeMaps(),ze=k.value;Te.value.remote&&(S.filterData=_.filterList,Ee&&it(ze)&&(S.tablePage.currentPage=1,F.uFoot=!0,Q.commitProxy("query").then(St=>{Q.dispatchEvent("proxy-query",St,_.$event)}),F.uFoot=!1,ut()))},Be=_=>{De(_),Q.dispatchEvent("filter-change",_,_.$event)},Ze=_=>{De(_),Q.dispatchEvent("clear-all-filter",_,_.$event)},Ae=_=>{const{proxyConfig:ae}=e,Ee=k.value;S.tableLoading||(ae&&it(Ee)&&(F.uFoot=!0,Q.commitProxy("reload").then(Te=>{Q.dispatchEvent("proxy-query",Object.assign(Object.assign({},Te),{isReload:!0}),_.$event)}),F.uFoot=!1,ut()),Q.dispatchEvent("form-submit",_,_.$event))},pt=_=>{const ae=W.value,{proxyConfig:Ee}=e,{$event:Te}=_,ze=k.value;Ee&&it(ze)&&(ae&&ae.clearScroll(),F.uFoot=!0,Q.commitProxy("reload").then(ft=>{Q.dispatchEvent("proxy-query",Object.assign(Object.assign({},ft),{isReload:!0}),Te)}),F.uFoot=!1,ut()),Q.dispatchEvent("form-reset",_,Te)},Qe=_=>{Q.dispatchEvent("form-submit-invalid",_,_.$event)},qe=_=>{const{$event:ae}=_;Q.dispatchEvent("form-toggle-collapse",_,ae),Q.dispatchEvent("form-collapse",_,ae)},at=_=>{const{isZMax:ae}=S;return(_?!ae:ae)&&(S.isZMax=!ae,S.tZindex<Uh()&&(S.tZindex=qh())),se().then(()=>Q.recalculate(!0)).then(()=>(setTimeout(()=>Q.recalculate(!0),15),S.isZMax))},He=(_,ae)=>{const Ee=_[ae];if(Ee)if(a.isString(Ee)){if(n[Ee])return n[Ee];We("vxe.error.notSlot",[`[grid] ${Ee}`])}else return Ee;return null},Ne=_=>{const ae={};return a.objectMap(_,(Ee,Te)=>{Ee&&(a.isString(Ee)?n[Ee]?ae[Te]=n[Ee]:We("vxe.error.notSlot",[`[grid] ${Ee}`]):ae[Te]=Ee)}),ae},Ot=()=>{const{formConfig:_,proxyConfig:ae}=e,{formData:Ee}=S,Te=k.value,ze=q.value;if(_&&it(ze)||n.form){let ft=[];if(n.form)ft=n.form({$grid:Q,$gantt:null});else if(ze.items){const St={};if(!ze.inited){ze.inited=!0;const _t=Te.beforeItem;Te&&_t&&ze.items.forEach(nt=>{_t({$grid:Q,$gantt:null,item:nt})})}ze.items.forEach(_t=>{a.each(_t.slots,nt=>{a.isFunction(nt)||n[nt]&&(St[nt]=n[nt])})}),h&&ft.push(x(h,Object.assign(Object.assign({ref:Y},Object.assign({},ze,{data:ae&&it(Te)&&Te.form?Ee:ze.data})),{onSubmit:Ae,onReset:pt,onSubmitInvalid:Qe,onCollapse:qe}),St))}return x("div",{ref:te,key:"form",class:"vxe-grid--form-wrapper"},ft)}return mn(Q)},xt=()=>{const{toolbarConfig:_}=e,ae=ee.value,Ee=n.toolbar;if(_&&it(ae)||Ee){let Te=[];if(Ee)Te=Ee({$grid:Q,$gantt:null});else{const ze=ae.slots,ft={};if(ze){const St=He(ze,"buttons"),_t=He(ze,"buttonPrefix"),nt=He(ze,"buttonSuffix"),lt=He(ze,"tools"),Tt=He(ze,"toolPrefix"),zt=He(ze,"toolSuffix");St&&(ft.buttons=St),_t&&(ft.buttonPrefix=_t),nt&&(ft.buttonSuffix=nt),lt&&(ft.tools=lt),Tt&&(ft.toolPrefix=Tt),zt&&(ft.toolSuffix=zt)}Te.push(x(Ml,Object.assign(Object.assign({ref:m},ae),{slots:void 0}),ft))}return x("div",{ref:$,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},Te)}return mn(Q)},Rt=()=>{const _=n.top;return _?x("div",{ref:J,key:"top",class:"vxe-grid--top-wrapper"},_({$grid:Q,$gantt:null})):mn(Q)},Ue=()=>{const _=n.left;return _?x("div",{class:"vxe-grid--left-wrapper"},_({$grid:Q,$gantt:null})):mn(Q)},rt=()=>{const _=n.right;return _?x("div",{class:"vxe-grid--right-wrapper"},_({$grid:Q,$gantt:null})):mn(Q)},st=()=>{const{proxyConfig:_}=e,ae=be.value,Ee=k.value,Te=Object.assign({},Lt),ze=n.empty,ft=n.loading,St=n.rowDragIcon||n["row-drag-icon"],_t=n.columnDragIcon||n["column-drag-icon"],nt=n.headerTooltip||n["header-tooltip"],lt=n.tooltip,Tt=n.footerTooltip||n["footer-tooltip"];_&&it(Ee)&&(Ee.sort&&(Te.onSortChange=he,Te.onClearAllSort=Ce),Ee.filter&&(Te.onFilterChange=Be,Te.onClearAllFilter=Ze));const zt={};return ze&&(zt.empty=ze),ft&&(zt.loading=ft),St&&(zt.rowDragIcon=St),_t&&(zt.columnDragIcon=_t),nt&&(zt.headerTooltip=nt),lt&&(zt.tooltip=lt),Tt&&(zt.footerTooltip=Tt),x("div",{class:"vxe-grid--table-wrapper"},[x(Tl,Object.assign(Object.assign({ref:W},ae),Te),zt)])},bt=()=>n.bottom?x("div",{ref:ue,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:Q,$gantt:null})):mn(Q),Ye=()=>{const{proxyConfig:_,pagerConfig:ae}=e,Ee=k.value,Te=U.value,ze=n.pager;return ae&&it(Te)||n.pager?x("div",{ref:le,key:"pager",class:"vxe-grid--pager-wrapper"},ze?ze({$grid:Q,$gantt:null}):[y?x(y,Object.assign(Object.assign(Object.assign({ref:g},Te),_&&it(Ee)?S.tablePage:{}),{onPageChange:Re}),Ne(Te.slots)):mn(Q)]):mn(Q)},Dt=_=>{const ae=[];return _.forEach(Ee=>{switch(Ee){case"Form":ae.push(Ot());break;case"Toolbar":ae.push(xt());break;case"Top":ae.push(Rt());break;case"Table":ae.push(x("div",{key:"table",class:"vxe-grid--table-container"},[Ue(),st(),rt()]));break;case"Bottom":ae.push(bt());break;case"Pager":ae.push(Ye());break;default:We("vxe.error.notProp",[`[grid] layouts -> ${Ee}`]);break}}),ae},et=()=>{const _=Me.value,{headKeys:ae,bodyKeys:Ee,footKeys:Te}=_,ze=n.asideLeft||n["aside-left"],ft=n.asideRight||n["aside-right"];return[x("div",{class:"vxe-grid--layout-header-wrapper"},Dt(ae)),x("div",{class:"vxe-grid--layout-body-wrapper"},[ze?x("div",{class:"vxe-grid--layout-aside-left-wrapper"},ze({})):mn(Q),x("div",{class:"vxe-grid--layout-body-content-wrapper"},Dt(Ee)),ft?x("div",{class:"vxe-grid--layout-aside-right-wrapper"},ft({})):mn(Q)]),x("div",{class:"vxe-grid--layout-footer-wrapper"},Dt(Te)),x("div",{ref:L})]},Lt={};ad.forEach(_=>{const ae=a.camelCase(`on-${_}`);Lt[ae]=(...Ee)=>c(_,...Ee)});const Qt=()=>{const _=q.value;if(_.items){const ae={};return _.items.forEach(Ee=>{const{field:Te,itemRender:ze}=Ee;if(Te){let ft=null;if(ze){const{startField:St,endField:_t,defaultValue:nt}=ze;a.isFunction(nt)?ft=nt({item:Ee}):a.isUndefined(nt)||(ft=nt),St&&_t&&(a.set(ae,St,null),a.set(ae,_t,null))}ae[Te]=ft}}),ae}return{}},Yt=()=>{const{proxyConfig:_,formConfig:ae}=e,{proxyInited:Ee}=S,Te=k.value,ze=q.value;_&&it(Te)&&(ae&&it(ze)&&Te.form&&ze.items&&(S.formData=Qt()),Ee||(S.proxyInited=!0,Te.autoLoad!==!1&&se().then(()=>{F.uFoot=!0;const ft=Q.commitProxy("initial");return F.uFoot=!1,ut(),ft}).then(ft=>{Kt("proxy-query",Object.assign(Object.assign({},ft),{isInited:!0}),new Event("initial"))})))},ut=()=>{const _=k.value,{ajax:ae}=_;if(ae&&ae.queryFooter)return Q.commitProxy("queryFooter")},wt=_=>{const ae=ve.value;Sc.hasKey(_,dL.ESCAPE)&&S.isZMax&&ae.escRestore!==!1&&Q.triggerZoomEvent(_)},Kt=(_,ae,Ee)=>{c(_,cL(Ee,{$grid:Q,$gantt:null},ae))},At={dispatchEvent:Kt,getEl(){return j.value},commitProxy(_,...ae){const{showFooter:Ee,proxyConfig:Te,toolbarConfig:ze,pagerConfig:ft,editRules:St,validConfig:_t}=e,{tablePage:nt}=S,lt=ie.value,Tt=K.value,zt=k.value,ao=U.value,dr=ee.value,{beforeQuery:Jo,afterQuery:yo,beforeQueryFooter:Io,afterQueryFooter:vr,beforeDelete:mr,afterDelete:lo,beforeSave:Uo,afterSave:Wt,ajax:no={}}=zt,Vo=zt.response||zt.props||{},jt=W.value;if(!jt)return se();let Rr=Je(),Ho=null,Do=null;if(a.isString(_)){const{buttons:fo}=dr,Po=ze&&it(dr)&&fo?a.findTree(fo,Xo=>Xo.code===_,{children:"dropdowns"}):null;Ho=Po?Po.item:null,Do=_}else Ho=_,Do=Ho.code;const sn=Ho?Ho.params:null;switch(Do){case"insert":return jt.insert({});case"insert_edit":return jt.insert({}).then(({row:fo})=>jt.setEditRow(fo,!0));case"insert_actived":return jt.insert({}).then(({row:fo})=>jt.setEditRow(fo,!0));case"mark_cancel":je(Do);break;case"remove":return Pe(Do,"vxe.grid.removeSelectRecord",()=>jt.removeCheckboxRow());case"import":jt.importData(sn);break;case"open_import":jt.openImport(sn);break;case"export":jt.exportData(sn);break;case"open_export":jt.openExport(sn);break;case"reset_custom":return jt.resetCustom(!0);case"initial":case"reload":case"query":{const fo=no.query,Po=no.querySuccess,Xo=no.queryError;if(fo){const Fo=Do==="initial",Ao=Do==="reload";if(!Fo&&S.tableLoading)return se();let rr=null,Go=[],zo=[],Sr={};if(ft&&((Fo||Ao)&&(nt.currentPage=1),it(ao)&&(Sr=Object.assign({},nt))),Fo){if(Te&&it(zt)&&zt.form&&(Rr=Qt(),S.formData=Rr),jt){const $o=jt.internalData,{tableFullColumn:Yo,fullColumnFieldData:Or}=$o,{computeSortOpts:Zt}=jt.getComputeMaps();let nr=Zt.value.defaultSort;Yo.forEach(ur=>{ur.order=null}),nr&&(a.isArray(nr)||(nr=[nr]),Go=nr.map(ur=>{const{field:Gn,order:Mr}=ur,Ir=Or[Gn];if(Ir){const Bl=Ir.column;Bl&&(Bl.order=Mr)}return{field:Gn,property:Gn,order:Mr}})),zo=jt.getCheckedFilters()}}else jt&&(Ao?rr=jt.clearAll():(Go=jt.getSortColumns(),zo=jt.getCheckedFilters()));const zr={$table:jt,$grid:Q,$gantt:null,code:Do,button:Ho,isInited:Fo,isReload:Ao,page:Sr,sort:Go.length?Go[0]:{},sorts:Go,filters:zo,form:Rr,options:fo};return S.sortData=Go,S.filterData=zo,S.tableLoading=!0,Promise.all([Promise.resolve((Jo||fo)(zr,...ae)),rr]).then(([$o])=>{let Yo=[];if(S.tableLoading=!1,$o){const Or={data:$o,$table:jt,$grid:Q,$gantt:null};if(ft&&it(ao)){const Zt=Vo.total,Ft=(a.isFunction(Zt)?Zt(Or):a.get($o,Zt||"page.total"))||0;nt.total=a.toNumber(Ft);const nr=Vo.result;Yo=(a.isFunction(nr)?nr(Or):a.get($o,nr||"result"))||[];const ur=Math.max(Math.ceil(Ft/nt.pageSize),1);nt.currentPage>ur&&(nt.currentPage=ur)}else{const Zt=Vo.list;a.isArray($o)?Yo=$o:Zt&&(Yo=(a.isFunction(Zt)?Zt(Or):a.get($o,Zt))||[])}if(Ee){const Zt=Vo.footerData,Ft=Zt?a.isFunction(Zt)?Zt(Or):a.get($o,Zt):[];a.isArray(Ft)&&(S.footerData=Ft)}}return jt?jt.loadData(Yo):se(()=>{const Or=W.value;Or&&Or.loadData(Yo)}),yo&&yo(zr,...ae),Po&&Po(Object.assign(Object.assign({},zr),{response:$o})),{status:!0}}).catch($o=>(S.tableLoading=!1,Xo&&Xo(Object.assign(Object.assign({},zr),{response:$o})),{status:!1}))}else We("vxe.error.notFunc",["[grid] proxy-config.ajax.query"]);break}case"queryFooter":{const fo=no.queryFooter,Po=no.queryFooterSuccess,Xo=no.queryFooterError;if(fo){let Fo=[];jt&&(Fo=jt.getCheckedFilters());const Ao={$table:jt,$grid:Q,$gantt:null,code:Do,button:Ho,filters:Fo,form:Rr,options:fo};return Promise.resolve((Io||fo)(Ao,...ae)).then(rr=>(S.footerData=a.isArray(rr)?rr:[],vr&&vr(Ao,...ae),Po&&Po(Object.assign(Object.assign({},Ao),{response:rr})),{status:!0})).catch(rr=>(Xo&&Xo(Object.assign(Object.assign({},Ao),{response:rr})),{status:!1}))}else We("vxe.error.notFunc",["[grid] proxy-config.ajax.queryFooter"]);break}case"delete":{const fo=no.delete,Po=no.deleteSuccess,Xo=no.deleteError;if(fo){const Fo=Q.getCheckboxRecords(),Ao=Fo.filter(zo=>!jt.isInsertByRow(zo)),Go={$table:jt,$grid:Q,$gantt:null,code:Do,button:Ho,body:{removeRecords:Ao},form:Rr,options:fo};if(Fo.length)return Pe(Do,"vxe.grid.deleteSelectRecord",()=>Ao.length?(S.tableLoading=!0,Promise.resolve((mr||fo)(Go,...ae)).then(zo=>(S.tableLoading=!1,jt.setPendingRow(Ao,!1),Tt&&me.modal&&me.modal.message({content:Le(zo,"vxe.grid.delSuccess"),status:"success"}),lo?lo(Go,...ae):(F.uFoot=!0,Q.commitProxy("query"),F.uFoot=!1,ut()),Po&&Po(Object.assign(Object.assign({},Go),{response:zo})),{status:!0})).catch(zo=>(S.tableLoading=!1,Tt&&me.modal&&me.modal.message({id:Do,content:Le(zo,"vxe.grid.operError"),status:"error"}),Xo&&Xo(Object.assign(Object.assign({},Go),{response:zo})),{status:!1}))):jt.remove(Fo));lt&&me.modal&&me.modal.message({id:Do,content:us("vxe.grid.selectOneRecord"),status:"warning"})}else We("vxe.error.notFunc",["[grid] proxy-config.ajax.delete"]);break}case"save":{const fo=no.save,Po=no.saveSuccess,Xo=no.saveError;if(fo){const Fo=jt.getRecordset(),{insertRecords:Ao,removeRecords:rr,updateRecords:Go,pendingRecords:zo}=Fo,Sr={$table:jt,$grid:Q,$gantt:null,code:Do,button:Ho,body:Fo,form:Rr,options:fo};Ao.length&&(Fo.pendingRecords=zo.filter($o=>jt.findRowIndexOf(Ao,$o)===-1)),zo.length&&(Fo.insertRecords=Ao.filter($o=>jt.findRowIndexOf(zo,$o)===-1));let zr=Promise.resolve();return St&&(zr=jt[_t&&_t.msgMode==="full"?"fullValidate":"validate"](Fo.insertRecords.concat(Go))),zr.then($o=>{if(!$o){if(Fo.insertRecords.length||rr.length||Go.length||Fo.pendingRecords.length)return S.tableLoading=!0,Promise.resolve((Uo||fo)(Sr,...ae)).then(Yo=>(S.tableLoading=!1,jt.clearPendingRow(),Tt&&me.modal&&me.modal.message({content:Le(Yo,"vxe.grid.saveSuccess"),status:"success"}),Wt?Wt(Sr,...ae):(F.uFoot=!0,Q.commitProxy("query"),F.uFoot=!1,ut()),Po&&Po(Object.assign(Object.assign({},Sr),{response:Yo})),{status:!0})).catch(Yo=>(S.tableLoading=!1,Tt&&me.modal&&me.modal.message({id:Do,content:Le(Yo,"vxe.grid.operError"),status:"error"}),Xo&&Xo(Object.assign(Object.assign({},Sr),{response:Yo})),{status:!1}));lt&&me.modal&&me.modal.message({id:Do,content:us("vxe.grid.dataUnchanged"),status:"info"})}})}else We("vxe.error.notFunc",["[grid] proxy-config.ajax.save"]);break}default:{const fo=sL.get(Do);if(fo){const Po=fo.tableCommandMethod||fo.commandMethod;Po?Po({code:Do,button:Ho,$grid:Q,$table:jt,$gantt:null},...ae):We("vxe.error.notCommands",[`[grid] ${Do}`])}}}return se()},getParams(){return e.params},zoom(){return S.isZMax?Q.revert():Q.maximize()},isMaximized(){return S.isZMax},maximize(){return at(!0)},revert(){return at()},getFormData:Je,getFormItems(_){const ae=q.value,{formConfig:Ee}=e,{items:Te}=ae,ze=[];return a.eachTree(Ee&&it(ae)&&Te?Te:[],ft=>{ze.push(ft)},{children:"children"}),a.isUndefined(_)?ze:ze[_]},resetForm(){const _=Y.value;return _?_.reset():se()},validateForm(){const _=Y.value;return _?_.validate():se()},validateFormField(_){const ae=Y.value;return ae?ae.validateField(_):se()},clearFormValidate(_){const ae=Y.value;return ae?ae.clearValidate(_):se()},homePage(){const{tablePage:_}=S;return _.currentPage=1,se()},homePageByEvent(_){const ae=g.value;ae&&ae.homePageByEvent(_)},endPage(){const{tablePage:_}=S,ae=de.value;return _.currentPage=ae,se()},endPageByEvent(_){const ae=g.value;ae&&ae.endPageByEvent(_)},getCurrentPage(){const{tablePage:_}=S;return _.currentPage},setCurrentPage(_){const{tablePage:ae}=S,Ee=de.value;return ae.currentPage=Math.min(Ee,Math.max(1,a.toNumber(_))),se()},setCurrentPageByEvent(_,ae){const Ee=g.value;Ee&&Ee.setCurrentPageByEvent(_,ae)},getPageSize(){const{tablePage:_}=S;return _.pageSize},setPageSize(_){const{tablePage:ae}=S;return ae.pageSize=Math.max(1,a.toNumber(_)),se()},setPageSizeByEvent(_,ae){const Ee=g.value;Ee&&Ee.setPageSizeByEvent(_,ae)},getProxyInfo(){const _=W.value;if(e.proxyConfig){const{sortData:ae}=S;return{data:_?_.getFullData():[],filter:S.filterData,form:Je(),sort:ae.length?ae[0]:{},sorts:ae,pager:S.tablePage,pendingRecords:_?_.getPendingRecords():[]}}return null}},Pt={extendTableMethods:M,callSlot(_,ae){return _&&(a.isString(_)&&(_=n[_]||null),a.isFunction(_))?Oo(_(ae)):[]},getExcludeHeight(){const{height:_}=e,{isZMax:ae}=S,Ee=j.value;if(Ee){const Te=te.value,ze=$.value,ft=J.value,St=ue.value,_t=le.value,nt=Ee.parentElement;let lt=0;return nt&&(_==="100%"||_==="auto")&&(lt=ae?0:Lc(nt)),lt+Lc(Ee)+qs(Te)+qs(ze)+qs(ft)+qs(St)+qs(_t)}return 0},getParentHeight(){const _=j.value;if(_){const ae=_.parentElement;return(S.isZMax?mi().visibleHeight:ae?a.toNumber(getComputedStyle(ae).height):0)-Pt.getExcludeHeight()}return 0},triggerToolbarCommitEvent(_,ae){const{code:Ee}=_;if(Ee){const Te=["reload","delete","save"].includes(Ee);Te&&(F.uFoot=!0);const ze=Q.commitProxy(_,ae).then(ft=>{ft&&ft.status&&["query","reload","delete","save"].includes(Ee)&&Q.dispatchEvent(Ee==="delete"||Ee==="save"?`proxy-${Ee}`:"proxy-query",Object.assign(Object.assign({},ft),{isReload:Ee==="reload"}),ae)});return F.uFoot=!1,Te&&ut(),ze}return se()},triggerToolbarBtnEvent(_,ae){Q.triggerToolbarCommitEvent(_,ae),Q.dispatchEvent("toolbar-button-click",{code:_.code,button:_},ae)},triggerToolbarTolEvent(_,ae){Q.triggerToolbarCommitEvent(_,ae),Q.dispatchEvent("toolbar-tool-click",{code:_.code,tool:_},ae)},triggerZoomEvent(_){Q.zoom(),Q.dispatchEvent("zoom",{type:S.isZMax?"max":"revert"},_)}};Object.assign(Q,I,At,Pt,{loadColumn(_){const ae=W.value;return a.eachTree(_,Ee=>{Ee.slots&&a.each(Ee.slots,Te=>{a.isFunction(Te)||n[Te]||We("vxe.error.notSlot",[`[grid] ${Te}`])})}),ae?ae.loadColumn(_):se()},reloadColumn(_){return Q.clearAll(),Q.loadColumn(_)}});const Xt=()=>{const _=H.value,ae=we.value,Ee=pe.value;return x("div",{ref:j,class:["vxe-grid",{[`size--${_}`]:_,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":S.isZMax,"is--loading":Ee}],style:ae},et())},dt=Xe(0);return It(()=>e.columns?e.columns.length:-1,()=>{dt.value++}),It(()=>e.columns,()=>{dt.value++}),It(dt,()=>{se(()=>Q.loadColumn(e.columns||[]))}),It(()=>e.toolbarConfig,()=>{Fe()}),It(ne,()=>{Ie("currentPage")}),It(Z,()=>{Ie("pageSize")}),It(re,()=>{Ie("total")}),It(()=>e.proxyConfig,()=>{Yt()}),aL.forEach(_=>{const{setupGrid:ae}=_;if(ae){const Ee=ae(Q);Ee&&a.isObject(Ee)&&Object.assign(Q,Ee)}}),Ie(),Il(()=>{se(()=>{const{columns:_}=e,ae=k.value;e.formConfig&&(h||We("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(y||We("vxe.error.reqComp",["vxe-pager"])),ae.props&&ot("vxe.error.delProp",["[grid] proxy-config.props","proxy-config.response"]),_&&_.length&&Q.loadColumn(_),Fe(),Yt()}),Sc.on(Q,"keydown",wt)}),Pn(()=>{Sc.off(Q,"keydown"),a.assign(F,Sg())}),Q.renderVN=Xt,Xr("$xeGrid",Q),Xr("$xeGantt",null),Q},render(){return this.renderVN()}}),dd=Object.assign({},ws,{install(e){e.component(ws.name,ws)}});me.dynamicApp&&me.dynamicApp.component(ws.name,ws);me.component(ws);const fL=dd;function gL(e){const t=ke(()=>{const{renderParams:u}=e;return u.column}),r=ke(()=>{const{renderParams:u}=e;return u.row}),n=ke(()=>{const{renderOpts:u}=e;return u.props||{}}),c=ke({get(){const{renderParams:u}=e,{row:h,column:y}=u;return a.get(h,y.field)},set(u){const{renderParams:h}=e,{row:y,column:w}=h;return a.set(y,w.field,u)}});return{currColumn:t,currRow:r,cellModel:c,cellOptions:n}}const ud=Object.assign({},Tl,{install(e){e.component(Tl.name,Tl)}}),pL={useCellView:gL};me.dynamicApp&&me.dynamicApp.component(Tl.name,Tl);me.component(Tl);me.tableHandle=pL;const hL=ud,fd=Object.assign({},Ml,{install(e){e.component(Ml.name,Ml)}});me.dynamicApp&&me.dynamicApp.component(Ml.name,Ml);me.component(Ml);const vL=fd,mL={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',modelConflicts:'绑定的字段值 "{0}" 与 "{1}" 存在冲突，将会出现错误',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',reqSupportProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会出现错误',notConflictProp:'当使用 "{0}" 时，应该设置 "{1}"，否则可能会存在功能冲突',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',noGroup:'数据分组后不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',repeatProp:'参数重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误",useNew:"不建议使用 {0}，请使用 {1}",errorVersion:"版本不匹配，当前版本 {0}，最低支持版本为 {1}"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",maxGroupCol:"最大分组字段的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素",rowGroupContentTotal:"{0}（{1}）",menuLoading:"加载中..."},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{clear:"清除",allChecked:"全选",total:"{0} / {1}",search:"搜索",loadingText:"加载中",emptyText:"暂无数据",maxSize:"最大可选择的数量不能超过 {0} 个",overSizeErr:"已超出最大可选数量 {0} 个，超出部分将被忽略！",searchEmpty:"未匹配到数据！"},tree:{searchEmpty:"未匹配到数据！",dragTip:"移动：{0}"},treeSelect:{clearChecked:"清除",allChecked:"全选",allExpand:"全部展开",clearExpand:"全部收起",total:"已选 {0}",search:"搜索",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整顺序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expOptTitle:"列标题",expTitleTitle:"是否为列标题，否则显示为列的字段名",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开树",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},dateRangePicker:{pleaseRange:"请选择开始日期与结束日期"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",manualUpload:"点击上传",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}",hex:"十六进制"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},gantt:{tFullFormat:{year:"{yyyy}年",quarter:"{yyyy}年第{q}季度",month:"{yyyy}年{MM}月",week:"{yyyy}年第{W}周",day:"{yyyy}年{MM}月 {E}",date:"{yyyy}年{MM}月{dd}日",hour:"{yyyy}年{MM}月{dd}日{HH}时",minute:"{yyyy}年{MM}月{dd}日{HH}时{mm}分",second:"{yyyy}年{MM}月{dd}日{HH}时{mm}分{ss}秒"},tSimpleFormat:{year:"{yyyy}年",quarter:"{q}季度",month:"{M}月",week:"{W}周",day:"{d}",date:"{d}",hour:"{HH}",minute:"{mm}",second:"{ss}"},dayss:{w0:"日",w1:"一",w2:"二",w3:"三",w4:"四",w5:"五",w6:"六"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},extendPivotTable:{aggregation:{grouping:"分组",values:"值",groupPlaceholder:"拖至此处进行分组",valuesPlaceholder:"拖至此处进行聚合",dragExistCol:"该列已存在",sortHelpTip:"点击并拖动图标可以调整顺序"},aggFuncs:{sum:"求和",count:"计数",avg:"平均值",min:"最小值",max:"最大值",first:"首个值",last:"末尾值"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",isAfter:"在以下日期之后",eqAfter:"在以下日期之后或与之相同",isBefore:"在以下日期之前",eqBefore:"在以下日期之前或与之相同",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",before:"之前",after:"之后",tomorrow:"明天",today:"今天",yesterday:"昨天",nextWeek:"下周",thisWeek:"本周",lastWeek:"上周",nextMonth:"下月",thisMonth:"本月",lastMonth:"上月",nextYear:"明年",thisYear:"今年",lastYear:"去年",yearToDate:"本年度截止到现在",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",top10:"前10项",aboveAverage:"高于平均值",belowAverage:"低于平均值",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选",dateOption:"日期筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"显示行：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}},bL=[ld,sd,dd,ud,fd];function xL(e,t){me.setConfig(t),bL.forEach(r=>r.install(e))}if(!me.hasLanguage("zh-CN")){const e="zh-CN";me.setI18n(e,mL),me.setLanguage(e)}me.setTheme("light");const yL=Object.freeze(Object.defineProperty({__proto__:null,Colgroup:rk,Column:ok,Grid:fL,Table:hL,Toolbar:vL,VXETable:$0,VxeColgroup:sd,VxeColumn:ld,VxeGrid:dd,VxeTable:ud,VxeToolbar:fd,VxeUI:me,_t:Zh,clipboard:S0,commands:E0,config:Yh,formats:y0,getConfig:u0,getI18n:v0,getIcon:g0,getTheme:c0,globalEvents:m0,globalResize:b0,hooks:D0,install:xL,interceptor:R0,log:O0,menus:w0,modal:A0,print:I0,readFile:M0,renderer:x0,saveFile:T0,setConfig:d0,setI18n:h0,setIcon:f0,setLanguage:p0,setTheme:i0,setup:Xh,t:Kh,use:F0,validators:C0,version:td},Symbol.toStringTag,{value:"Module"}));export{yL as V,wL as c,Rm as g};
